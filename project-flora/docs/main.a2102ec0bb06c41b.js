"use strict";(self.webpackChunkproject_flora=self.webpackChunkproject_flora||[]).push([[179],{2011:(vt,Ne,F)=>{F.d(Ne,{Dh:()=>ze,GT:()=>be,cc:()=>qe,on:()=>Ue,pX:()=>le,xv:()=>Ce});var o=F(4650),V=F(9260);vt=F.hmd(vt);const P=["ngOnDestroy"],le=(ie,Me,Ee,Pe={})=>new Proxy(ie,{get:(xe,ve)=>Ee.runOutsideAngular(()=>{var Te;if(ie[ve])return!(null===(Te=Pe?.spy)||void 0===Te)&&Te.get&&Pe.spy.get(ve,ie[ve]),ie[ve];if(P.indexOf(ve)>-1)return()=>{};const $e=Me.toPromise().then(X=>{const ne=X&&X[ve];return"function"==typeof ne?ne.bind(X):ne&&ne.then?ne.then(ye=>Ee.run(()=>ye)):Ee.run(()=>ne)});return new Proxy(()=>{},{get:(X,ne)=>$e[ne],apply:(X,ne,ye)=>$e.then(Ye=>{var Le;const Rt=Ye&&Ye(...ye);return!(null===(Le=Pe?.spy)||void 0===Le)&&Le.apply&&Pe.spy.apply(ve,ye,Rt),Rt})})})}),be=(ie,Me)=>{Me.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(Pe=>{Object.defineProperty(ie.prototype,Pe,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,Pe))})})};class he{constructor(Me){return Me}}const ze=new o.OlP("angularfire2.app.options"),Ce=new o.OlP("angularfire2.app.name");function Ue(ie,Me,Ee){const xe="object"==typeof Ee&&Ee||{};xe.name=xe.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const Te=V.Z.apps.filter($e=>$e&&$e.name===xe.name)[0]||Me.runOutsideAngular(()=>V.Z.initializeApp(ie,xe));try{JSON.stringify(ie)!==JSON.stringify(Te.options)&&z("error",`${Te.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(Te)}const z=(ie,...Me)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ie](...Me)};function qe(ie,Me,Ee,Pe,xe){const[,ve,Te]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===ie)||[];if(ve)return function Fe(ie,Me){try{return ie.toString()===Me.toString()}catch{return ie===Me}}(xe,Te)||(dt("error",`${Me} was already initialized on the ${Ee} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),dt("warn",{is:xe,was:Te})),ve;{const $e=Pe();return globalThis.\u0275AngularfireInstanceCache.push([ie,$e,xe]),$e}}const tt=!!vt.hot,dt=(ie,...Me)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ie](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2722:(vt,Ne,F)=>{F.d(Ne,{$:()=>Jp,A:()=>G,B:()=>Fe,G:()=>Hp,H:()=>Vn,J:()=>dr,L:()=>H,M:()=>Gp,N:()=>XE,P:()=>mC,Q:()=>Hy,R:()=>gh,T:()=>eC,U:()=>zu,V:()=>Ll,W:()=>GA,X:()=>qp,Y:()=>gi,Z:()=>eh,_:()=>Ju,a:()=>Gl,a0:()=>Gy,a1:()=>Qp,a2:()=>Vt,a3:()=>rC,a4:()=>zy,a5:()=>Xp,a6:()=>Wy,a7:()=>fe,a8:()=>qy,a9:()=>Zy,aA:()=>B,aB:()=>bh,aC:()=>Hn,aD:()=>fc,aE:()=>Pr,aI:()=>_o,aL:()=>Fl,aa:()=>As,ab:()=>tg,ac:()=>Ky,af:()=>xa,ag:()=>go,ah:()=>rg,ak:()=>nC,al:()=>og,an:()=>lC,ao:()=>sh,ap:()=>ye,aq:()=>Et,ar:()=>_t,as:()=>Pe,at:()=>Ys,au:()=>Dg,av:()=>Mn,aw:()=>xe,ax:()=>X,ay:()=>wh,az:()=>Le,b:()=>oh,c:()=>mh,d:()=>vC,e:()=>yC,f:()=>gc,g:()=>Cg,h:()=>Eg,i:()=>dg,j:()=>vh,k:()=>Ah,l:()=>Xo,m:()=>wC,n:()=>Mh,o:()=>Ce,r:()=>gC,s:()=>pC,u:()=>qA,v:()=>tv});var o=F(5861),V=F(2090),P=F(9681),le=F(1877),be=F(655),he=F(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new le.Yd("@firebase/auth");function Ee(w,...m){Me.logLevel<=le.in.ERROR&&Me.error(`Auth (${P.SDK_VERSION}): ${w}`,...m)}function Pe(w,...m){throw $e(w,...m)}function xe(w,...m){return $e(w,...m)}function ve(w,m,y){const E=Object.assign(Object.assign({},tt()),{[m]:y});return new V.LL("auth","Firebase",E).create(m,{appName:w.name})}function Te(w,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Pe(w,"argument-error"),ve(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(w,...m){if("string"!=typeof w){const y=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return dt.create(w,...m)}function X(w,m,...y){if(!w)throw $e(m,...y)}function ne(w){const m="INTERNAL ASSERTION FAILED: "+w;throw Ee(m),new Error(m)}function ye(w,m){w||ne(m)}const Ye=new Map;function Le(w){ye(w instanceof Function,"Expected a class definition");let m=Ye.get(w);return m?(ye(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,Ye.set(w,m),m)}function oe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function de(){return"http:"===pe()||"https:"===pe()}function pe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ve{constructor(m,y){this.shortDelay=m,this.longDelay=y,ye(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Ie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(de()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function it(w,m){ye(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class st{static initialize(m,y,E){this.fetchImpl=m,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Tt=new Ve(3e4,6e4);function wt(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function ot(w,m,y,E){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(w,m,y,E,A={}){return Rn(w,A,(0,o.Z)(function*(){let O={},Q={};E&&("GET"===m?Q=E:O={body:JSON.stringify(E)});const Se=(0,V.xO)(Object.assign({key:w.config.apiKey},Q)).slice(1),at=yield w._getAdditionalHeaders();return at["Content-Type"]="application/json",w.languageCode&&(at["X-Firebase-Locale"]=w.languageCode),st.fetch()(ur(w,w.config.apiHost,y,Se),Object.assign({method:m,headers:at,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Rn(w,m,y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.Z)(function*(w,m,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},Dn),m);try{const A=new Mi(w),O=yield Promise.race([y(),A.promise]);A.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw xr(w,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const Se=O.ok?Q.errorMessage:Q.error.message,[at,yt]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw xr(w,"credential-already-in-use",Q);if("EMAIL_EXISTS"===at)throw xr(w,"email-already-in-use",Q);if("USER_DISABLED"===at)throw xr(w,"user-disabled",Q);const qt=E[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw ve(w,qt,yt);Pe(w,qt)}}catch(A){if(A instanceof V.ZR)throw A;Pe(w,"network-request-failed")}})).apply(this,arguments)}function on(w,m,y,E){return er.apply(this,arguments)}function er(){return(er=(0,o.Z)(function*(w,m,y,E,A={}){const O=yield ot(w,m,y,E,A);return"mfaPendingCredential"in O&&Pe(w,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ur(w,m,y,E){const A=`${m}${y}?${E}`;return w.config.emulator?it(w.config,A):`${w.config.apiScheme}://${A}`}class Mi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(xe(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xr(w,m,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const A=xe(w,m,E);return A.customData._tokenResponse=y,A}function K(){return(K=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function re(w,m){return _e.apply(this,arguments)}function _e(){return(_e=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ue(w,m){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function fn(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function _n(){return(_n=(0,o.Z)(function*(w,m=!1){const y=(0,V.m9)(w),E=yield y.getIdToken(m),A=mt(E);X(A&&A.exp&&A.auth_time&&A.iat,y.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,Q=O?.sign_in_provider;return{claims:A,token:E,authTime:fn(Dt(A.auth_time)),issuedAtTime:fn(Dt(A.iat)),expirationTime:fn(Dt(A.exp)),signInProvider:Q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Dt(w){return 1e3*Number(w)}function mt(w){const[m,y,E]=w.split(".");if(void 0===m||void 0===y||void 0===E)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,V.tV)(y);return A?JSON.parse(A):(Ee("Failed to decode base64 JWT payload"),null)}catch(A){return Ee("Caught error parsing JWT payload as JSON",A?.toString()),null}}function yn(w,m){return pn.apply(this,arguments)}function pn(){return(pn=(0,o.Z)(function*(w,m,y=!1){if(y)return m;try{return yield m}catch(E){throw E instanceof V.ZR&&In(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function In({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class cn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),E)}iteration(){var m=this;return(0,o.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class Un{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=fn(this.lastLoginAt),this.creationTime=fn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oi(w){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,o.Z)(function*(w){var m;const y=w.auth,E=yield w.getIdToken(),A=yield yn(w,ue(y,{idToken:E}));X(A?.users.length,y,"internal-error");const O=A.users[0];w._notifyReloadListener(O);const Q=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?wr(O.providerUserInfo):[],Se=xi(w.providerData,Q),qt=!!w.isAnonymous&&!(w.email&&O.passwordHash||Se?.length),Tn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Se,metadata:new Un(O.createdAt,O.lastLoginAt),isAnonymous:qt};Object.assign(w,Tn)})).apply(this,arguments)}function Zt(){return(Zt=(0,o.Z)(function*(w){const m=(0,V.m9)(w);yield Oi(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function xi(w,m){return[...w.filter(E=>!m.some(A=>A.providerId===E.providerId)),...m]}function wr(w){return w.map(m=>{var{providerId:y}=m,E=(0,be._T)(m,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function we(){return(we=(0,o.Z)(function*(w,m){const y=yield Rn(w,{},(0,o.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:A,apiKey:O}=w.config,Q=ur(w,A,"/v1/token",`key=${O}`),Se=yield w._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(Q,{method:"POST",headers:Se,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){X(m.idToken,"internal-error"),X(typeof m.idToken<"u","internal-error"),X(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function It(w){const m=mt(w);return X(m,"internal-error"),X(typeof m.exp<"u","internal-error"),X(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var E=this;return(0,o.Z)(function*(){return X(!E.accessToken||E.refreshToken,m,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var E=this;return(0,o.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:Q}=yield function We(w,m){return we.apply(this,arguments)}(m,y);E.updateTokensAndExpiration(A,O,Number(Q))})()}updateTokensAndExpiration(m,y,E){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,y){const{refreshToken:E,accessToken:A,expirationTime:O}=y,Q=new ct;return E&&(X("string"==typeof E,"internal-error",{appName:m}),Q.refreshToken=E),A&&(X("string"==typeof A,"internal-error",{appName:m}),Q.accessToken=A),O&&(X("number"==typeof O,"internal-error",{appName:m}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ct,this.toJSON())}_performRefresh(){return ne("not implemented")}}function St(w,m){X("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class xt{constructor(m){var{uid:y,auth:E,stsTokenManager:A}=m,O=(0,be._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Un(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,o.Z)(function*(){const E=yield yn(y,y.stsTokenManager.getToken(y.auth,m));return X(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(m){return function Pt(w){return _n.apply(this,arguments)}(this,m)}reload(){return function Ji(w){return Zt.apply(this,arguments)}(this)}_assign(m){this!==m&&(X(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new xt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var E=this;return(0,o.Z)(function*(){let A=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),A=!0),y&&(yield Oi(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,o.Z)(function*(){const y=yield m.getIdToken();return yield yn(m,function te(w,m){return K.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var E,A,O,Q,Se,at,yt,qt;const Tn=null!==(E=y.displayName)&&void 0!==E?E:void 0,qr=null!==(A=y.email)&&void 0!==A?A:void 0,gs=null!==(O=y.phoneNumber)&&void 0!==O?O:void 0,Co=null!==(Q=y.photoURL)&&void 0!==Q?Q:void 0,ra=null!==(Se=y.tenantId)&&void 0!==Se?Se:void 0,ia=null!==(at=y._redirectEventId)&&void 0!==at?at:void 0,Za=null!==(yt=y.createdAt)&&void 0!==yt?yt:void 0,Oh=null!==(qt=y.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:Ya,emailVerified:Ng,isAnonymous:Rg,providerData:xh,stsTokenManager:Xl}=y;X(Ya&&Xl,m,"internal-error");const mv=ct.fromJSON(this.name,Xl);X("string"==typeof Ya,m,"internal-error"),St(Tn,m.name),St(qr,m.name),X("boolean"==typeof Ng,m,"internal-error"),X("boolean"==typeof Rg,m,"internal-error"),St(gs,m.name),St(Co,m.name),St(ra,m.name),St(ia,m.name),St(Za,m.name),St(Oh,m.name);const Ph=new xt({uid:Ya,auth:m,email:qr,emailVerified:Ng,displayName:Tn,isAnonymous:Rg,photoURL:Co,phoneNumber:gs,tenantId:ra,stsTokenManager:mv,createdAt:Za,lastLoginAt:Oh});return xh&&Array.isArray(xh)&&(Ph.providerData=xh.map(Mg=>Object.assign({},Mg))),ia&&(Ph._redirectEventId=ia),Ph}static _fromIdTokenResponse(m,y,E=!1){return(0,o.Z)(function*(){const A=new ct;A.updateFromServerResponse(y);const O=new xt({uid:y.localId,auth:m,stsTokenManager:A,isAnonymous:E});return yield Oi(O),O})()}}const H=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,E){var A=this;return(0,o.Z)(function*(){A.storage[y]=E})()}_get(y){var E=this;return(0,o.Z)(function*(){const A=E.storage[y];return void 0===A?null:A})()}_remove(y){var E=this;return(0,o.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function B(w,m,y){return`firebase:${w}:${m}:${y}`}class q{constructor(m,y,E){this.persistence=m,this.auth=y,this.userKey=E;const{config:A,name:O}=this.auth;this.fullUserKey=B(this.userKey,A.apiKey,O),this.fullPersistenceKey=B("persistence",A.apiKey,O),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?xt._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,o.Z)(function*(){if(y.persistence===m)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,E="authUser"){return(0,o.Z)(function*(){if(!y.length)return new q(Le(H),m,E);const A=(yield Promise.all(y.map(function(){var yt=(0,o.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return yt.apply(this,arguments)}}()))).filter(yt=>yt);let O=A[0]||Le(H);const Q=B(E,m.config.apiKey,m.name);let Se=null;for(const yt of y)try{const qt=yield yt._get(Q);if(qt){const Tn=xt._fromJSON(m,qt);yt!==O&&(Se=Tn),O=yt;break}}catch{}const at=A.filter(yt=>yt._shouldAllowMigration);return O._shouldAllowMigration&&at.length?(O=at[0],Se&&(yield O._set(Q,Se.toJSON())),yield Promise.all(y.map(function(){var yt=(0,o.Z)(function*(qt){if(qt!==O)try{yield qt._remove(Q)}catch{}});return function(qt){return yt.apply(this,arguments)}}())),new q(O,m,E)):new q(O,m,E)})()}}function U(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ae(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(M(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Je(m))return"Blackberry";if(Ut(m))return"Webos";if(L(m))return"Safari";if((m.includes("chrome/")||se(m))&&!m.includes("edge/"))return"Chrome";if(_t(m))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function M(w=(0,V.z$)()){return/firefox\//i.test(w)}function L(w=(0,V.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function se(w=(0,V.z$)()){return/crios\//i.test(w)}function Ae(w=(0,V.z$)()){return/iemobile/i.test(w)}function _t(w=(0,V.z$)()){return/android/i.test(w)}function Je(w=(0,V.z$)()){return/blackberry/i.test(w)}function Ut(w=(0,V.z$)()){return/webos/i.test(w)}function Et(w=(0,V.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Mn(w=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function jr(w=(0,V.z$)()){return Et(w)||_t(w)||Ut(w)||Je(w)||/windows phone/i.test(w)||Ae(w)}function Ia(w,m=[]){let y;switch(w){case"Browser":y=U((0,V.z$)());break;case"Worker":y=`${U((0,V.z$)())}-${w}`;break;default:y=w}const E=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${E}`}class $y{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const E=O=>new Promise((Q,Se)=>{try{Q(m(O))}catch(at){Se(at)}});E.onAbort=y,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,o.Z)(function*(){if(y.auth.currentUser===m)return;const E=[];try{for(const A of y.queue)yield A(m),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const O of E)try{O()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class $p{constructor(m,y,E){this.app=m,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sa(this),this.idTokenSubscription=new Sa(this),this.beforeStateQueue=new $y(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,y){var E=this;return y&&(this._popupRedirectResolver=Le(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var A,O;if(!E._deleted&&(E.persistenceManager=yield q.create(E,m),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(O=E.currentUser)||void 0===O?void 0:O.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,o.Z)(function*(){var E;const A=yield y.assertedPersistence.getCurrentUser();let O=A,Q=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Se=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,at=O?._redirectEventId,yt=yield y.tryRedirectSignIn(m);(!Se||Se===at)&&yt?.user&&(O=yt.user,Q=!0)}if(!O)return y.directlySetCurrentUser(null);if(!O._redirectEventId){if(Q)try{yield y.beforeStateQueue.runMiddleware(O)}catch(Se){O=A,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Se))}return O?y.reloadAndSetCurrentUserOrClear(O):y.directlySetCurrentUser(null)}return X(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===O._redirectEventId?y.directlySetCurrentUser(O):y.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var y=this;return(0,o.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,o.Z)(function*(){try{yield Oi(m)}catch(E){if("auth/network-request-failed"!==E?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Be(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,o.Z)(function*(){const E=m?(0,V.m9)(m):null;return E&&X(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(m,y=!1){var E=this;return(0,o.Z)(function*(){if(!E._deleted)return m&&X(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,o.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(Le(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new V.LL("auth","Firebase",m())}onAuthStateChanged(m,y,E){return this.registerStateListener(this.authStateSubscription,m,y,E)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,E){return this.registerStateListener(this.idTokenSubscription,m,y,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var E=this;return(0,o.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(y);return null===m?A.removeCurrentUser():A.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const E=m&&Le(m)||y._popupRedirectResolver;X(E,y,"argument-error"),y.redirectPersistenceManager=yield q.create(y,[Le(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,o.Z)(function*(){var E,A;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===m?y._currentUser:(null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,o.Z)(function*(){if(m===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,E,A){if(this._deleted)return()=>{};const O="function"==typeof y?y:y.next.bind(y),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return X(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof y?m.addObserver(y,E,A):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ia(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var y;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const A=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function Pr(w){return(0,V.m9)(w)}class Sa{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,V.ne)(y=>this.observer=y)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hp(w,m,y){const E=Pr(w);X(E._canInitEmulator,E,"emulator-config-failed"),X(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const A=!!y?.disableWarnings,O=Yd(m),{host:Q,port:Se}=function jp(w){const m=Yd(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const O=A[1];return{host:O,port:Pl(E.substr(O.length+1))}}{const[O,Q]=E.split(":");return{host:O,port:Pl(Q)}}}(m);E.config.emulator={url:`${O}//${Q}${null===Se?"":`:${Se}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:Se,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function an(){function w(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Yd(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function Pl(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class Vn{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return ne("not implemented")}_getIdTokenResponse(m){return ne("not implemented")}_linkToIdToken(m,y){return ne("not implemented")}_getReauthenticationResolver(m){return ne("not implemented")}}function Gr(w,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:resetPassword",wt(w,m))})).apply(this,arguments)}function ei(w,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ht(w,m){return $t.apply(this,arguments)}function $t(){return($t=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:update",wt(w,m))})).apply(this,arguments)}function fi(){return(fi=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signInWithPassword",wt(w,m))})).apply(this,arguments)}function ls(w,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:sendOobCode",wt(w,m))})).apply(this,arguments)}function cr(w,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,o.Z)(function*(w,m){return ls(w,m)})).apply(this,arguments)}function Vu(w,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,o.Z)(function*(w,m){return ls(w,m)})).apply(this,arguments)}function Wt(w,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,o.Z)(function*(w,m){return ls(w,m)})).apply(this,arguments)}function Vo(w,m){return $o.apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(w,m){return ls(w,m)})).apply(this,arguments)}function Tr(){return(Tr=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signInWithEmailLink",wt(w,m))})).apply(this,arguments)}function $s(){return($s=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signInWithEmailLink",wt(w,m))})).apply(this,arguments)}class pi extends Vn{constructor(m,y,E,A=null){super("password",E),this._email=m,this._password=y,this._tenantId=A}static _fromEmailAndPassword(m,y){return new pi(m,y,"password")}static _fromEmailAndCode(m,y,E=null){return new pi(m,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function $n(w,m){return fi.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ho(w,m){return Tr.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Pe(m,"internal-error")}})()}_linkToIdToken(m,y){var E=this;return(0,o.Z)(function*(){switch(E.signInMethod){case"password":return ei(m,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function $u(w,m){return $s.apply(this,arguments)}(m,{idToken:y,email:E._email,oobCode:E._password});default:Pe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ki(w,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signInWithIdp",wt(w,m))})).apply(this,arguments)}class dr extends Vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new dr(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Pe("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:A}=y,O=(0,be._T)(y,["providerId","signInMethod"]);if(!E||!A)return null;const Q=new dr(E,A);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(m){return ki(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,ki(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ki(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,V.xO)(y)}return m}}function Kd(w,m){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:sendVerificationCode",wt(w,m))})).apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signInWithPhoneNumber",wt(w,m))})).apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(w,m){const y=yield on(w,"POST","/v1/accounts:signInWithPhoneNumber",wt(w,m));if(y.temporaryProof)throw xr(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const JE={USER_NOT_FOUND:"user-not-found"};function Li(){return(Li=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signInWithPhoneNumber",wt(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),JE)})).apply(this,arguments)}class js extends Vn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new js({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new js({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function ju(w,m){return Na.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Hs(w,m){return kr.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Fi(w,m){return Li.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:E,verificationCode:A}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:E,code:A}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:E,phoneNumber:A,temporaryProof:O}=m;return E||y||A||O?new js({verificationId:y,verificationCode:E,phoneNumber:A,temporaryProof:O}):null}}class ti{constructor(m){var y,E,A,O,Q,Se;const at=(0,V.zd)((0,V.pd)(m)),yt=null!==(y=at.apiKey)&&void 0!==y?y:null,qt=null!==(E=at.oobCode)&&void 0!==E?E:null,Tn=function kl(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=at.mode)&&void 0!==A?A:null);X(yt&&qt&&Tn,"argument-error"),this.apiKey=yt,this.operation=Tn,this.code=qt,this.continueUrl=null!==(O=at.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=at.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(Se=at.tenantId)&&void 0!==Se?Se:null}static parseLink(m){const y=function Gu(w){const m=(0,V.zd)((0,V.pd)(w)).link,y=m?(0,V.zd)((0,V.pd)(m)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(w)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||y||m||w}(m);try{return new ti(y)}catch{return null}}}let Gp=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return pi._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const A=ti.parseLink(E);return X(A,"argument-error"),pi._fromEmailAndCode(y,A.code,A.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Gs{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ra extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class zu extends Ra{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return X("providerId"in y&&"signInMethod"in y,"argument-error"),dr._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return X(m.idToken||m.accessToken,"argument-error"),dr._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return zu.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return zu.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:O,nonce:Q,providerId:Se}=m;if(!E&&!A&&!y&&!O||!Se)return null;try{return new zu(Se)._credential({idToken:y,accessToken:E,nonce:Q,pendingToken:O})}catch{return null}}}let XE=(()=>{class w extends Ra{constructor(){super("facebook.com")}static credential(y){return dr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Hy=(()=>{class w extends Ra{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return dr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:A}=y;if(!E&&!A)return null;try{return w.credential(E,A)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),eC=(()=>{class w extends Ra{constructor(){super("github.com")}static credential(y){return dr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Fl extends Vn{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return ki(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,ki(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,ki(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:A,pendingToken:O}=y;return E&&A&&O&&E===A?new Fl(E,O):null}static _create(m,y){return new Fl(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ll extends Gs{constructor(m){X(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ll.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ll.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Fl.fromJSON(m);return X(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:E}=m;if(!y||!E)return null;try{return Fl._create(E,y)}catch{return null}}}let GA=(()=>{class w extends Ra{constructor(){super("twitter.com")}static credential(y,E){return dr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=y;if(!E||!A)return null;try{return w.credential(E,A)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function tC(w,m){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signUp",wt(w,m))})).apply(this,arguments)}class Xi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,E,A=!1){return(0,o.Z)(function*(){const O=yield xt._fromIdTokenResponse(m,E,A),Q=Jd(E);return new Xi({user:O,providerId:Q,_tokenResponse:E,operationType:y})})()}static _forOperation(m,y,E){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const A=Jd(E);return new Xi({user:m,providerId:A,_tokenResponse:E,operationType:y})})()}}function Jd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function qp(w){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,o.Z)(function*(w){var m;const y=Pr(w);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Xi({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield tC(y,{returnSecureToken:!0}),A=yield Xi._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ul extends V.ZR{constructor(m,y,E,A){var O;super(y.code,y.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Ul.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,y,E,A){return new Ul(m,y,E,A)}}function Yp(w,m,y,E){return("reauthenticate"===m?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ul._fromErrorAndOperation(w,O,m,E):O})}function jo(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function nC(w,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,o.Z)(function*(w,m){const y=(0,V.m9)(w);yield Bl(!0,y,m);const{providerUserInfo:E}=yield re(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),A=jo(E||[]);return y.providerData=y.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function qu(w,m){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,o.Z)(function*(w,m,y=!1){const E=yield yn(w,m._linkToIdToken(w.auth,yield w.getIdToken()),y);return Xi._forOperation(w,"link",E)})).apply(this,arguments)}function Bl(w,m,y){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,o.Z)(function*(w,m,y){yield Oi(m);const A=!1===w?"provider-already-linked":"no-such-provider";X(jo(m.providerData).has(y)===w,m.auth,A)})).apply(this,arguments)}function Kp(w,m){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,o.Z)(function*(w,m,y=!1){const{auth:E}=w,A="reauthenticate";try{const O=yield yn(w,Yp(E,A,m,w),y);X(O.idToken,E,"internal-error");const Q=mt(O.idToken);X(Q,E,"internal-error");const{sub:Se}=Q;return X(w.uid===Se,E,"user-mismatch"),Xi._forOperation(w,A,O)}catch(O){throw"auth/user-not-found"===O?.code&&Pe(E,"user-mismatch"),O}})).apply(this,arguments)}function Xd(w,m){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,o.Z)(function*(w,m,y=!1){const E="signIn",A=yield Yp(w,E,m),O=yield Xi._fromIdTokenResponse(w,E,A);return y||(yield w._updateCurrentUser(O.user)),O})).apply(this,arguments)}function gi(w,m){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,o.Z)(function*(w,m){return Xd(Pr(w),m)})).apply(this,arguments)}function eh(w,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,o.Z)(function*(w,m){const y=(0,V.m9)(w);return yield Bl(!1,y,m.providerId),qu(y,m)})).apply(this,arguments)}function Ju(w,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,o.Z)(function*(w,m){return Kp((0,V.m9)(w),m)})).apply(this,arguments)}function zr(w,m){return th.apply(this,arguments)}function th(){return(th=(0,o.Z)(function*(w,m){return on(w,"POST","/v1/accounts:signInWithCustomToken",wt(w,m))})).apply(this,arguments)}function Jp(w,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(w,m){const y=Pr(w),E=yield zr(y,{token:m,returnSecureToken:!0}),A=yield Xi._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Wr{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?nh._fromServerResponse(m,y):Pe(m,"internal-error")}}class nh extends Wr{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new nh(y)}}function zo(w,m,y){var E;X((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),X(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(X(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(X(y.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function Gy(w,m,y){return zs.apply(this,arguments)}function zs(){return(zs=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w),A={requestType:"PASSWORD_RESET",email:m};y&&zo(E,A,y),yield Vu(E,A)})).apply(this,arguments)}function Qp(w,m,y){return $l.apply(this,arguments)}function $l(){return($l=(0,o.Z)(function*(w,m,y){yield Gr((0,V.m9)(w),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Vt(w,m){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,o.Z)(function*(w,m){yield ht((0,V.m9)(w),{oobCode:m})})).apply(this,arguments)}function rC(w,m){return rh.apply(this,arguments)}function rh(){return(rh=(0,o.Z)(function*(w,m){const y=(0,V.m9)(w),E=yield Gr(y,{oobCode:m}),A=E.requestType;switch(X(A,y,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(E.mfaInfo,y,"internal-error");default:X(E.email,y,"internal-error")}let O=null;return E.mfaInfo&&(O=Wr._fromServerResponse(Pr(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function zy(w,m){return ih.apply(this,arguments)}function ih(){return(ih=(0,o.Z)(function*(w,m){const{data:y}=yield rC((0,V.m9)(w),m);return y.email})).apply(this,arguments)}function Xp(w,m,y){return eg.apply(this,arguments)}function eg(){return(eg=(0,o.Z)(function*(w,m,y){const E=Pr(w),A=yield tC(E,{returnSecureToken:!0,email:m,password:y}),O=yield Xi._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}function Wy(w,m,y){return gi((0,V.m9)(w),Gp.credential(m,y))}function fe(w,m,y){return en.apply(this,arguments)}function en(){return(en=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w),A={requestType:"EMAIL_SIGNIN",email:m};X(y.handleCodeInApp,E,"argument-error"),y&&zo(E,A,y),yield Wt(E,A)})).apply(this,arguments)}function qy(w,m){return"EMAIL_SIGNIN"===ti.parseLink(m)?.operation}function Zy(w,m,y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w),A=Gp.credentialWithLink(m,y||oe());return X(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),gi(E,A)})).apply(this,arguments)}function Yy(w,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:createAuthUri",wt(w,m))})).apply(this,arguments)}function As(w,m){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,o.Z)(function*(w,m){const E={identifier:m,continueUri:de()?oe():"http://localhost"},{signinMethods:A}=yield Yy((0,V.m9)(w),E);return A||[]})).apply(this,arguments)}function tg(w,m){return ng.apply(this,arguments)}function ng(){return(ng=(0,o.Z)(function*(w,m){const y=(0,V.m9)(w),A={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&zo(y.auth,A,m);const{email:O}=yield cr(y.auth,A);O!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ky(w,m,y){return ec.apply(this,arguments)}function ec(){return(ec=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};y&&zo(E.auth,O,y);const{email:Q}=yield Vo(E.auth,O);Q!==w.email&&(yield w.reload())})).apply(this,arguments)}function ni(w,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(w,m){return ot(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function xa(w,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,o.Z)(function*(w,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const E=(0,V.m9)(w),O={idToken:yield E.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},Q=yield yn(E,ni(E.auth,O));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const Se=E.providerData.find(({providerId:at})=>"password"===at);Se&&(Se.displayName=E.displayName,Se.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)})).apply(this,arguments)}function go(w,m){return tc((0,V.m9)(w),m,null)}function rg(w,m){return tc((0,V.m9)(w),null,m)}function tc(w,m,y){return ig.apply(this,arguments)}function ig(){return(ig=(0,o.Z)(function*(w,m,y){const{auth:E}=w,O={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(O.email=m),y&&(O.password=y);const Q=yield yn(w,ei(E,O));yield w._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class mo{constructor(m,y,E={}){this.isNewUser=m,this.providerId=y,this.profile=E}}class Hl extends mo{constructor(m,y,E,A){super(m,y,E),this.username=A}}class Jy extends mo{constructor(m,y){super(m,"facebook.com",y)}}class sg extends Hl{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class sC extends mo{constructor(m,y){super(m,"google.com",y)}}class Qy extends Hl{constructor(m,y,E){super(m,"twitter.com",y,E)}}function og(w){const{user:m,_tokenResponse:y}=w;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function iC(w){var m,y;if(!w)return null;const{providerId:E}=w,A=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},O=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const Q=null===(y=null===(m=mt(w.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(Q)return new mo(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new Jy(O,A);case"github.com":return new sg(O,A);case"google.com":return new sC(O,A);case"twitter.com":return new Qy(O,A,w.screenName||null);case"custom":case"anonymous":return new mo(O,null);default:return new mo(O,E,A)}}(y)}function tv(w,m,y,E){return(0,V.m9)(w).onAuthStateChanged(m,y,E)}class bn{constructor(m,y,E){this.type=m,this.credential=y,this.auth=E}static _fromIdtoken(m,y){return new bn("enroll",m,y)}static _fromMfaPendingCredential(m){return new bn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,E;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return bn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return bn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ag{constructor(m,y,E){this.session=m,this.hints=y,this.signInResolver=E}static _fromError(m,y){const E=Pr(m),A=y.customData._serverResponse,O=(A.mfaInfo||[]).map(Se=>Wr._fromServerResponse(E,Se));X(A.mfaPendingCredential,E,"internal-error");const Q=bn._fromMfaPendingCredential(A.mfaPendingCredential);return new ag(Q,O,function(){var Se=(0,o.Z)(function*(at){const yt=yield at._process(E,Q);delete A.mfaInfo,delete A.mfaPendingCredential;const qt=Object.assign(Object.assign({},A),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(y.operationType){case"signIn":const Tn=yield Xi._fromIdTokenResponse(E,y.operationType,qt);return yield E._updateCurrentUser(Tn.user),Tn;case"reauthenticate":return X(y.user,E,"internal-error"),Xi._forOperation(y.user,y.operationType,qt);default:Pe(E,"internal-error")}});return function(at){return Se.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,o.Z)(function*(){return y.signInResolver(m)})()}}function lC(w,m){var y;const E=(0,V.m9)(w),A=m;return X(m.customData.operationType,E,"argument-error"),X(null===(y=A.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),ag._fromError(E,A)}function uC(w,m){return ot(w,"POST","/v2/accounts/mfaEnrollment:start",wt(w,m))}class lg{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Wr._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new lg(m)}getSession(){var m=this;return(0,o.Z)(function*(){return bn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,y){var E=this;return(0,o.Z)(function*(){const A=m,O=yield E.getSession(),Q=yield yn(E.user,A._process(E.user.auth,O,y));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(m){var y=this;return(0,o.Z)(function*(){const E="string"==typeof m?m:m.uid,A=yield y.user.getIdToken();try{const O=yield yn(y.user,function dC(w,m){return ot(w,"POST","/v2/accounts/mfaEnrollment:withdraw",wt(w,m))}(y.user.auth,{idToken:A,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Q})=>Q!==E),yield y.user._updateTokensIfNecessary(O),yield y.user.reload()}catch(O){throw O}})()}}const jl=new WeakMap;function sh(w){const m=(0,V.m9)(w);return jl.has(m)||jl.set(m,lg._fromUser(m)),jl.get(m)}const qo="__sak";class Pa{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(qo,"1"),this.storage.removeItem(qo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const oh=(()=>{class w extends Pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ka(){const w=(0,V.z$)();return L(w)||Et(w)}()&&function Bu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),O=this.localCache[E];A!==O&&y(E,O,A)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((Se,at,yt)=>{this.notifyListeners(Se,yt)});const A=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(A);if(y.newValue!==Se)null!==y.newValue?this.storage.setItem(A,y.newValue):this.storage.removeItem(A);else if(this.localCache[A]===y.newValue&&!E)return}const O=()=>{const Se=this.storage.getItem(A);!E&&this.localCache[A]===Se||this.notifyListeners(A,Se)},Q=this.storage.getItem(A);!function Bt(){return(0,V.w1)()&&10===document.documentMode}()||Q===y.newValue||y.newValue===y.oldValue?O():setTimeout(O,10)}notifyListeners(y,E){this.localCache[y]=E;const A=this.listeners[y];if(A)for(const O of Array.from(A))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var A=()=>super._set,O=this;return(0,o.Z)(function*(){yield A().call(O,y,E),O.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,A=this;return(0,o.Z)(function*(){const O=yield E().call(A,y);return A.localCache[y]=JSON.stringify(O),O})()}_remove(y){var E=()=>super._remove,A=this;return(0,o.Z)(function*(){yield E().call(A,y),delete A.localCache[y]})()}}return w.type="LOCAL",w})(),Gl=(()=>{class w extends Pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let iv=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(O=>O.isListeningto(y));if(E)return E;const A=new w(y);return this.receivers.push(A),A}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,o.Z)(function*(){const A=y,{eventId:O,eventType:Q,data:Se}=A.data,at=E.handlersMap[Q];if(!at?.size)return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const yt=Array.from(at).map(function(){var Tn=(0,o.Z)(function*(qr){return qr(A.origin,Se)});return function(qr){return Tn.apply(this,arguments)}}()),qt=yield function hC(w){return Promise.all(w.map(function(){var m=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return m.apply(this,arguments)}}()))}(yt);A.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:qt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function _o(w="",m=10){let y="";for(let E=0;E<m;E++)y+=Math.floor(10*Math.random());return w+y}class ah{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,E=50){var A=this;return(0,o.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,Se;return new Promise((at,yt)=>{const qt=_o("",20);O.port1.start();const Tn=setTimeout(()=>{yt(new Error("unsupported_event"))},E);Se={messageChannel:O,onMessage(qr){const gs=qr;if(gs.data.eventId===qt)switch(gs.data.status){case"ack":clearTimeout(Tn),Q=setTimeout(()=>{yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),at(gs.data.response);break;default:clearTimeout(Tn),clearTimeout(Q),yt(new Error("invalid_response"))}}},A.handlers.add(Se),O.port1.addEventListener("message",Se.onMessage),A.target.postMessage({eventType:m,eventId:qt,data:y},[O.port2])}).finally(()=>{Se&&A.removeMessageHandler(Se)})})()}}function fr(){return window}function yo(){return typeof fr().WorkerGlobalScope<"u"&&"function"==typeof fr().importScripts}function Zs(){return(Zs=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fa="firebaseLocalStorageDb",Zo="firebaseLocalStorage",sc="fbase_key";class vo{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function zl(w,m){return w.transaction([Zo],m?"readwrite":"readonly").objectStore(Zo)}function La(){const w=indexedDB.open(Fa,1);return new Promise((m,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Zo,{keyPath:sc})}catch(A){y(A)}}),w.addEventListener("success",(0,o.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Zo)?m(E):(E.close(),yield function ch(){const w=indexedDB.deleteDatabase(Fa);return new vo(w).toPromise()}(),m(yield La()))}))})}function oc(w,m,y){return es.apply(this,arguments)}function es(){return(es=(0,o.Z)(function*(w,m,y){const E=zl(w,!0).put({[sc]:m,value:y});return new vo(E).toPromise()})).apply(this,arguments)}function Yo(){return(Yo=(0,o.Z)(function*(w,m){const y=zl(w,!1).get(m),E=yield new vo(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ac(w,m){const y=zl(w,!0).delete(m);return new vo(y).toPromise()}const dg=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield La()),y.db})()}_withRetries(y){var E=this;return(0,o.Z)(function*(){let A=0;for(;;)try{const O=yield E._openDb();return yield y(O)}catch(O){if(A++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return yo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=iv._getInstance(function uh(){return yo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,o.Z)(function*(A,O){return{keyProcessed:(yield y._poll()).includes(O.key)}});return function(A,O){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,o.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var E,A;if(y.activeServiceWorker=yield function lh(){return Zs.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ah(y.activeServiceWorker);const O=yield y.sender._send("ping",{},800);O&&null!==(E=O[0])&&void 0!==E&&E.fulfilled&&null!==(A=O[0])&&void 0!==A&&A.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,o.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function ic(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield La();return yield oc(y,qo,"1"),yield ac(y,qo),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,o.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var A=this;return(0,o.Z)(function*(){return A._withPendingWrite((0,o.Z)(function*(){return yield A._withRetries(O=>oc(O,y,E)),A.localCache[y]=E,A.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,o.Z)(function*(){const A=yield E._withRetries(O=>function ug(w,m){return Yo.apply(this,arguments)}(O,y));return E.localCache[y]=A,A})()}_remove(y){var E=this;return(0,o.Z)(function*(){return E._withPendingWrite((0,o.Z)(function*(){return yield E._withRetries(A=>ac(A,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const E=yield y._withRetries(Q=>{const Se=zl(Q,!1).getAll();return new vo(Se).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:Q,value:Se}of E)O.add(Q),JSON.stringify(y.localCache[Q])!==JSON.stringify(Se)&&(y.notifyListeners(Q,Se),A.push(Q));for(const Q of Object.keys(y.localCache))y.localCache[Q]&&!O.has(Q)&&(y.notifyListeners(Q,null),A.push(Q));return A})()}notifyListeners(y,E){this.localCache[y]=E;const A=this.listeners[y];if(A)for(const O of Array.from(A))O(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function hg(w,m){return ot(w,"POST","/v2/accounts/mfaSignIn:start",wt(w,m))}function fh(){return(fh=(0,o.Z)(function*(w){return(yield ot(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ua(w){return new Promise((m,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=m,E.onerror=A=>{const O=xe("internal-error");O.customData=A,y(O)},E.type="text/javascript",E.charset="UTF-8",function fC(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(E)})}function Ko(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Wl=1e12;class Jo{constructor(m){this.auth=m,this.counter=Wl,this._widgets=new Map}render(m,y){const E=this.counter;return this._widgets.set(E,new av(m,this.auth.name,y||{})),this.counter++,E}reset(m){var y;const E=m||Wl;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Wl))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,o.Z)(function*(){var E;return null===(E=y._widgets.get(m||Wl))||void 0===E||E.execute(),""})()}}class av{constructor(m,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof m?document.getElementById(m):m;X(A,"argument-error",{appName:y}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ph(w){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ba=Ko("rcb"),gg=new Ve(3e4,6e4);class _g{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=fr().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return X(function Va(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(fr().grecaptcha):new Promise((E,A)=>{const O=fr().setTimeout(()=>{A(xe(m,"network-request-failed"))},gg.get());fr()[Ba]=()=>{fr().clearTimeout(O),delete fr()[Ba];const Se=fr().grecaptcha;if(!Se)return void A(xe(m,"internal-error"));const at=Se.render;Se.render=(yt,qt)=>{const Tn=at(yt,qt);return this.counter++,Tn},this.hostLanguage=y,E(Se)},Ua(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Ba,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(O),A(xe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=fr().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ql{load(m){return(0,o.Z)(function*(){return new Jo(m)})()}clearedOneInstance(){}}const Qo="recaptcha",uc={theme:"light",type:"image"};class gh{constructor(m,y=Object.assign({},uc),E){this.parameters=y,this.type=Qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pr(E),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof m?document.getElementById(m):m;X(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ql:new _g,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(y)||new Promise(O=>{const Q=Se=>{Se&&(m.tokenChangeListeners.delete(Q),O(Se))};m.tokenChangeListeners.add(Q),m.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof m)m(y);else if("string"==typeof m){const E=fr()[m];"function"==typeof E&&E(y)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){X(de()&&!yo(),m.auth,"internal-error"),yield function $a(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function lc(w){return fh.apply(this,arguments)}(m.auth);X(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lv{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=js._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function pC(w,m,y){return vn.apply(this,arguments)}function vn(){return(vn=(0,o.Z)(function*(w,m,y){const E=Pr(w),A=yield dc(E,m,(0,V.m9)(y));return new lv(A,O=>gi(E,O))})).apply(this,arguments)}function Xo(w,m,y){return yg.apply(this,arguments)}function yg(){return(yg=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w);yield Bl(!1,E,"phone");const A=yield dc(E.auth,m,(0,V.m9)(y));return new lv(A,O=>eh(E,O))})).apply(this,arguments)}function gC(w,m,y){return cc.apply(this,arguments)}function cc(){return(cc=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w),A=yield dc(E.auth,m,(0,V.m9)(y));return new lv(A,O=>Ju(E,O))})).apply(this,arguments)}function dc(w,m,y){return uv.apply(this,arguments)}function uv(){return(uv=(0,o.Z)(function*(w,m,y){var E;const A=yield y.verify();try{let O;if(X("string"==typeof A,w,"argument-error"),X(y.type===Qo,w,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const Q=O.session;if("phoneNumber"in O)return X("enroll"===Q.type,w,"internal-error"),(yield uC(w,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{X("signin"===Q.type,w,"internal-error");const Se=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return X(Se,w,"missing-multi-factor-info"),(yield hg(w,{mfaPendingCredential:Q.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield Kd(w,{phoneNumber:O.phoneNumber,recaptchaToken:A});return Q}}finally{y._reset()}})).apply(this,arguments)}function qA(w,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(w,m){yield qu((0,V.m9)(w),m)})).apply(this,arguments)}let mC=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Pr(y)}verifyPhoneNumber(y,E){return dc(this.auth,y,(0,V.m9)(E))}static credential(y,E){return js._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:A}=y;return E&&A?js._fromTokenResponse(E,A):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Zl(w,m){return m?Le(m):(X(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class tr extends Vn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ki(m,this._buildIdpRequest())}_linkToIdToken(m,y){return ki(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return ki(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function vg(w){return Xd(w.auth,new tr(w),w.bypassAuthState)}function hc(w){const{auth:m,user:y}=w;return X(y,m,"internal-error"),Kp(y,new tr(w),w.bypassAuthState)}function _C(w){return _i.apply(this,arguments)}function _i(){return(_i=(0,o.Z)(function*(w){const{auth:m,user:y}=w;return X(y,m,"internal-error"),qu(y,new tr(w),w.bypassAuthState)})).apply(this,arguments)}class ea{constructor(m,y,E,A,O=!1){this.auth=m,this.resolver=E,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,o.Z)(function*(E,A){m.pendingPromise={resolve:E,reject:A};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(E,A){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,o.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:O,tenantId:Q,error:Se,type:at}=m;if(Se)return void y.reject(Se);const yt={auth:y.auth,requestUri:E,sessionId:A,tenantId:Q||void 0,postBody:O||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(at)(yt))}catch(qt){y.reject(qt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return vg;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return hc;default:Pe(this.auth,"internal-error")}}resolve(m){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cv=new Ve(2e3,1e4);function mh(w,m,y){return ja.apply(this,arguments)}function ja(){return(ja=(0,o.Z)(function*(w,m,y){const E=Pr(w);Te(w,m,Gs);const A=Zl(E,y);return new ri(E,"signInViaPopup",m,A).executeNotNull()})).apply(this,arguments)}function yC(w,m,y){return dv.apply(this,arguments)}function dv(){return(dv=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w);Te(E.auth,m,Gs);const A=Zl(E.auth,y);return new ri(E.auth,"reauthViaPopup",m,A,E).executeNotNull()})).apply(this,arguments)}function vC(w,m,y){return hv.apply(this,arguments)}function hv(){return(hv=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w);Te(E.auth,m,Gs);const A=Zl(E.auth,y);return new ri(E.auth,"linkViaPopup",m,A,E).executeNotNull()})).apply(this,arguments)}let ri=(()=>{class w extends ea{constructor(y,E,A,O,Q){super(y,E,O,Q),this.provider=A,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const E=yield y.execute();return X(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,o.Z)(function*(){ye(1===y.filter.length,"Popup operations only handle one event");const E=_o();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(A=>{y.reject(A)}),y.resolver._isIframeWebStorageSupported(y.auth,A=>{A||y.reject(xe(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,cv.get())};y()}}return w.currentPopupAction=null,w})();const Kt=new Map;class ta extends ea{constructor(m,y,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,o.Z)(function*(){let E=Kt.get(y.auth._key());if(!E){try{const O=(yield function ft(w,m){return wn.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;E=()=>Promise.resolve(O)}catch(A){E=()=>Promise.reject(A)}Kt.set(y.auth._key(),E)}return y.bypassAuthState||Kt.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,E=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(E,m);if("unknown"!==m.type){if(m.eventId){const A=yield E.auth._redirectUserForId(m.eventId);if(A)return E.user=A,y().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function wn(){return(wn=(0,o.Z)(function*(w,m){const y=pc(m),E=wg(w);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(y));return yield E._remove(y),A})).apply(this,arguments)}function Zn(w,m){return _h.apply(this,arguments)}function _h(){return(_h=(0,o.Z)(function*(w,m){return wg(w)._set(pc(m),"true")})).apply(this,arguments)}function fc(){Kt.clear()}function Hn(w,m){Kt.set(w._key(),m)}function wg(w){return Le(w._redirectPersistence)}function pc(w){return B("pendingRedirect",w.config.apiKey,w.name)}function gc(w,m,y){return function yh(w,m,y){return bo.apply(this,arguments)}(w,m,y)}function bo(){return(bo=(0,o.Z)(function*(w,m,y){const E=Pr(w);Te(w,m,Gs),yield E._initializationPromise;const A=Zl(E,y);return yield Zn(A,E),A._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Eg(w,m,y){return function us(w,m,y){return nt.apply(this,arguments)}(w,m,y)}function nt(){return(nt=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w);Te(E.auth,m,Gs),yield E.auth._initializationPromise;const A=Zl(E.auth,y);yield Zn(A,E.auth);const O=yield Ga(E);return A._openRedirect(E.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function Cg(w,m,y){return function Yl(w,m,y){return wo.apply(this,arguments)}(w,m,y)}function wo(){return(wo=(0,o.Z)(function*(w,m,y){const E=(0,V.m9)(w);Te(E.auth,m,Gs),yield E.auth._initializationPromise;const A=Zl(E.auth,y);yield Bl(!1,E,m.providerId),yield Zn(A,E.auth);const O=yield Ga(E);return A._openRedirect(E.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function vh(w,m){return En.apply(this,arguments)}function En(){return(En=(0,o.Z)(function*(w,m){return yield Pr(w)._initializationPromise,bh(w,m,!1)})).apply(this,arguments)}function bh(w,m){return cs.apply(this,arguments)}function cs(){return(cs=(0,o.Z)(function*(w,m,y=!1){const E=Pr(w),A=Zl(E,m),Q=yield new ta(E,A,y).execute();return Q&&!y&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,m)),Q})).apply(this,arguments)}function Ga(w){return mc.apply(this,arguments)}function mc(){return(mc=(0,o.Z)(function*(w){const m=_o(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class wh{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(y=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Tg(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ts(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var E;if(m.error&&!ts(m)){const A=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(xe(this.auth,A))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const E=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(za(m))}saveEventToCache(m){this.cachedEventUids.add(za(m)),this.lastProcessedEventTime=Date.now()}}function za(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function ts({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Dg(w){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(w,m={}){return ot(w,"GET","/v1/projects",m)})).apply(this,arguments)}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ds=/^https?/;function kn(){return(kn=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Dg(w);for(const y of m)try{if(Ig(y))return}catch{}Pe(w,"unauthorized-domain")})).apply(this,arguments)}function Ig(w){const m=oe(),{protocol:y,hostname:E}=new URL(m);if(w.startsWith("chrome-extension://")){const Q=new URL(w);return""===Q.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&Q.hostname===E}if(!ds.test(y))return!1;if(yi.test(w))return E===w;const A=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Ch=new Ve(3e4,6e4);function Fn(){const w=fr().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let hs=null;function An(w){return hs=hs||function jn(w){return new Promise((m,y)=>{var E,A,O;function Q(){Fn(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Fn(),y(xe(w,"network-request-failed"))},timeout:Ch.get()})}if(null!==(A=null===(E=fr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)m(gapi.iframes.getContext());else{if(null===(O=fr().gapi)||void 0===O||!O.load){const Se=Ko("iframefcb");return fr()[Se]=()=>{gapi.load?Q():y(xe(w,"network-request-failed"))},Ua(`https://apis.google.com/js/api.js?onload=${Se}`).catch(at=>y(at))}Q()}}).catch(m=>{throw hs=null,m})}(w),hs}const Fr=new Ve(5e3,15e3),bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function na(w){const m=w.config;X(m.authDomain,w,"auth-domain-config-required");const y=m.emulator?it(m,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:w.name,v:P.SDK_VERSION},A=Eo.get(w.config.apiHost);A&&(E.eid=A);const O=w._getFrameworks();return O.length&&(E.fw=O.join(",")),`${y}?${(0,V.xO)(E).slice(1)}`}function fs(){return fs=(0,o.Z)(function*(w){const m=yield An(w),y=fr().gapi;return X(y,w,"internal-error"),m.open({where:document.body,url:na(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},E=>new Promise(function(){var A=(0,o.Z)(function*(O,Q){yield E.restyle({setHideOnLeave:!1});const Se=xe(w,"network-request-failed"),at=fr().setTimeout(()=>{Q(Se)},Fr.get());function yt(){fr().clearTimeout(at),O(E)}E.ping(yt).then(yt,()=>{Q(Se)})});return function(O,Q){return A.apply(this,arguments)}}()))}),fs.apply(this,arguments)}const fv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ys(w,m,y,E,A,O){X(w.config.authDomain,w,"auth-domain-config-required"),X(w.config.apiKey,w,"invalid-api-key");const Q={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:P.SDK_VERSION,eventId:A};if(m instanceof Gs){m.setDefaultLanguage(w.languageCode),Q.providerId=m.providerId||"",(0,V.xb)(m.getCustomParameters())||(Q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[at,yt]of Object.entries(O||{}))Q[at]=yt}if(m instanceof Ra){const at=m.getScopes().filter(yt=>""!==yt);at.length>0&&(Q.scopes=at.join(","))}w.tenantId&&(Q.tid=w.tenantId);const Se=Q;for(const at of Object.keys(Se))void 0===Se[at]&&delete Se[at];return`${function Ih({config:w}){return w.emulator?it(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,V.xO)(Se).slice(1)}`}const Sh="webStorageSupport",Ah=class Ns{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gl,this._completeRedirectFn=bh,this._overrideRedirectResult=Hn}_openPopup(m,y,E,A){var O=this;return(0,o.Z)(function*(){var Q;ye(null===(Q=O.eventManagers[m._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const Se=Ys(m,y,E,oe(),A);return function ns(w,m,y,E=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let Se="";const at=Object.assign(Object.assign({},fv),{width:E.toString(),height:A.toString(),top:O,left:Q}),yt=(0,V.z$)().toLowerCase();y&&(Se=se(yt)?"_blank":y),M(yt)&&(m=m||"http://localhost",at.scrollbars="yes");const qt=Object.entries(at).reduce((qr,[gs,Co])=>`${qr}${gs}=${Co},`,"");if(function Er(w=(0,V.z$)()){var m;return Et(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(yt)&&"_self"!==Se)return function Ht(w,m){const y=document.createElement("a");y.href=w,y.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(m||"",Se),new vc(null);const Tn=window.open(m||"",Se,qt);X(Tn,w,"popup-blocked");try{Tn.focus()}catch{}return new vc(Tn)}(m,Se,_o())})()}_openRedirect(m,y,E,A){var O=this;return(0,o.Z)(function*(){return yield O._originValidation(m),function rc(w){fr().location.href=w}(Ys(m,y,E,oe(),A)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:A,promise:O}=this.eventManagers[y];return A?Promise.resolve(A):(ye(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(m);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(m){var y=this;return(0,o.Z)(function*(){const E=yield function nr(w){return fs.apply(this,arguments)}(m),A=new wh(m);return E.register("authEvent",O=>(X(O?.authEvent,m,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:A},y.iframes[m._key()]=E,A})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Sh,{type:Sh},A=>{var O;const Q=null===(O=A?.[0])||void 0===O?void 0:O[Sh];void 0!==Q&&y(!!Q),Pe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Eh(w){return kn.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return jr()||L()||Et()}};class Nh{constructor(m){this.factorId=m}_process(m,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,E);case"signin":return this._finalizeSignIn(m,y.credential);default:return ne("unexpected MultiFactorSessionType")}}}class bc extends Nh{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new bc(m)}_finalizeEnroll(m,y,E){return function cC(w,m){return ot(w,"POST","/v2/accounts/mfaEnrollment:finalize",wt(w,m))}(m,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function fg(w,m){return ot(w,"POST","/v2/accounts/mfaSignIn:finalize",wt(w,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wC=(()=>{class w{constructor(){}static assertion(y){return bc._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var dn="@firebase/auth";class Ql{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(E=>{m(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ag=(0,V.Pz)("authIdTokenMaxAge")||300;let wc=null;const gv=w=>function(){var m=(0,o.Z)(function*(y){const E=y&&(yield y.getIdTokenResult()),A=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(A&&A>Ag)return;const O=E?.token;wc!==O&&(wc=O,yield fetch(w,{method:O?"POST":"DELETE",headers:O?{Authorization:`Bearer ${O}`}:{}}))});return function(y){return m.apply(this,arguments)}}();function Mh(w=(0,P.getApp)()){const m=(0,P._getProvider)(w,"auth");if(m.isInitialized())return m.getImmediate();const y=function Rt(w,m){const y=(0,P._getProvider)(w,"auth");if(y.isInitialized()){const A=y.getImmediate(),O=y.getOptions();if((0,V.vZ)(O,m??{}))return A;Pe(A,"already-initialized")}return y.initialize({options:m})}(w,{popupRedirectResolver:Ah,persistence:[dg,oh,Gl]}),E=(0,V.Pz)("authTokenSyncURL");if(E){const O=gv(E);(function ev(w,m,y){(0,V.m9)(w).beforeAuthStateChanged(m,y)})(y,O,()=>O(y.currentUser)),function Xy(w,m,y,E){(0,V.m9)(w).onIdTokenChanged(m,y,E)}(y,Q=>O(Q))}const A=(0,V.q4)("auth");return A&&Hp(y,`http://${A}`),y}!function Lr(w){(0,P._registerComponent)(new he.wA("auth",(m,{options:y})=>{const E=m.getProvider("app").getImmediate(),A=m.getProvider("heartbeat"),{apiKey:O,authDomain:Q}=E.options;return((Se,at)=>{X(O&&!O.includes(":"),"invalid-api-key",{appName:Se.name}),X(!Q?.includes(":"),"argument-error",{appName:Se.name});const yt={apiKey:O,authDomain:Q,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ia(w)},qt=new $p(Se,at,yt);return function ut(w,m){const y=m?.persistence||[],E=(Array.isArray(y)?y:[y]).map(Le);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(E,m?.popupRedirectResolver)}(qt,y),qt})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,E)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new he.wA("auth-internal",m=>{const y=Pr(m.getProvider("auth").getImmediate());return new Ql(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(dn,"0.21.3",function Rh(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(dn,"0.21.3","esm2017")}("Browser")},2090:(vt,Ne,F)=>{F.d(Ne,{$s:()=>ct,BH:()=>ve,DV:()=>xr,G6:()=>pe,GJ:()=>ur,L:()=>Ce,LL:()=>Dn,P0:()=>Ee,Pz:()=>xe,Sg:()=>Te,UG:()=>ne,UI:()=>K,US:()=>he,Wl:()=>rn,Yr:()=>de,ZB:()=>G,ZR:()=>st,aH:()=>Pe,b$:()=>Le,cI:()=>ot,dS:()=>Lt,eu:()=>Be,g5:()=>P,gK:()=>In,gQ:()=>Pt,h$:()=>ze,hl:()=>Ie,hu:()=>V,jU:()=>ye,m9:()=>Xt,ne:()=>_n,p$:()=>z,pd:()=>Ft,q4:()=>Me,r3:()=>Mi,ru:()=>Ye,tV:()=>Ue,uI:()=>X,ug:()=>Ji,vZ:()=>re,w1:()=>ut,w9:()=>er,xO:()=>Ke,xb:()=>te,z$:()=>$e,zI:()=>Ve,zd:()=>fn});const V=function(H,B){if(!H)throw P(B)},P=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},le=function(H){const B=[];let q=0;for(let U=0;U<H.length;U++){let M=H.charCodeAt(U);M<128?B[q++]=M:M<2048?(B[q++]=M>>6|192,B[q++]=63&M|128):55296==(64512&M)&&U+1<H.length&&56320==(64512&H.charCodeAt(U+1))?(M=65536+((1023&M)<<10)+(1023&H.charCodeAt(++U)),B[q++]=M>>18|240,B[q++]=M>>12&63|128,B[q++]=M>>6&63|128,B[q++]=63&M|128):(B[q++]=M>>12|224,B[q++]=M>>6&63|128,B[q++]=63&M|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,B){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let M=0;M<H.length;M+=3){const L=H[M],se=M+1<H.length,Ae=se?H[M+1]:0,_t=M+2<H.length,Je=_t?H[M+2]:0;let Mn=(15&Ae)<<2|Je>>6,Er=63&Je;_t||(Er=64,se||(Mn=64)),U.push(q[L>>2],q[(3&L)<<4|Ae>>4],q[Mn],q[Er])}return U.join("")},encodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(H):this.encodeByteArray(le(H),B)},decodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(H):function(H){const B=[];let q=0,U=0;for(;q<H.length;){const M=H[q++];if(M<128)B[U++]=String.fromCharCode(M);else if(M>191&&M<224){const L=H[q++];B[U++]=String.fromCharCode((31&M)<<6|63&L)}else if(M>239&&M<365){const _t=((7&M)<<18|(63&H[q++])<<12|(63&H[q++])<<6|63&H[q++])-65536;B[U++]=String.fromCharCode(55296+(_t>>10)),B[U++]=String.fromCharCode(56320+(1023&_t))}else{const L=H[q++],se=H[q++];B[U++]=String.fromCharCode((15&M)<<12|(63&L)<<6|63&se)}}return B.join("")}(this.decodeStringToByteArray(H,B))},decodeStringToByteArray(H,B){this.init_();const q=B?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let M=0;M<H.length;){const L=q[H.charAt(M++)],Ae=M<H.length?q[H.charAt(M)]:0;++M;const Je=M<H.length?q[H.charAt(M)]:64;++M;const Et=M<H.length?q[H.charAt(M)]:64;if(++M,null==L||null==Ae||null==Je||null==Et)throw Error();U.push(L<<2|Ae>>4),64!==Je&&(U.push(Ae<<4&240|Je>>2),64!==Et&&U.push(Je<<6&192|Et))}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ze=function(H){const B=le(H);return he.encodeByteArray(B,!0)},Ce=function(H){return ze(H).replace(/\./g,"")},Ue=function(H){try{return he.decodeString(H,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function z(H){return G(void 0,H)}function G(H,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return B}for(const q in B)!B.hasOwnProperty(q)||!J(q)||(H[q]=G(H[q],B[q]));return H}function J(H){return"__proto__"!==H}const ie=()=>{try{return function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=H&&Ue(H[1]);return B&&JSON.parse(B)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Me=H=>{var B,q;return null===(q=null===(B=ie())||void 0===B?void 0:B.emulatorHosts)||void 0===q?void 0:q[H]},Ee=H=>{const B=Me(H);if(!B)return;const q=B.lastIndexOf(":");if(q<=0||q+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const U=parseInt(B.substring(q+1),10);return"["===B[0]?[B.substring(1,q-1),U]:[B.substring(0,q),U]},Pe=()=>{var H;return null===(H=ie())||void 0===H?void 0:H.config},xe=H=>{var B;return null===(B=ie())||void 0===B?void 0:B[`_${H}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,q)=>{this.resolve=B,this.reject=q})}wrapCallback(B){return(q,U)=>{q?this.reject(q):this.resolve(U),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(q):B(q,U))}}}function Te(H,B){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const U=B||"demo-project",M=H.iat||0,L=H.sub||H.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${U}`,aud:U,iat:M,exp:M+3600,auth_time:M,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},H);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(se)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function ne(){var H;const B=null===(H=ie())||void 0===H?void 0:H.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function Ye(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const H=$e();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function de(){return!1}function pe(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((H,B)=>{try{let q=!0;const U="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(U);M.onsuccess=()=>{M.result.close(),q||self.indexedDB.deleteDatabase(U),H(!0)},M.onupgradeneeded=()=>{q=!1},M.onerror=()=>{var L;B((null===(L=M.error)||void 0===L?void 0:L.message)||"")}}catch(q){B(q)}})}function Ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class st extends Error{constructor(B,q,U){super(q),this.code=B,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}}class Dn{constructor(B,q,U){this.service=B,this.serviceName=q,this.errors=U}create(B,...q){const U=q[0]||{},M=`${this.service}/${B}`,L=this.errors[B],se=L?function Tt(H,B){return H.replace(wt,(q,U)=>{const M=B[U];return null!=M?String(M):`<${U}?>`})}(L,U):"Error";return new st(M,`${this.serviceName}: ${se} (${M}).`,U)}}const wt=/\{\$([^}]+)}/g;function ot(H){return JSON.parse(H)}function rn(H){return JSON.stringify(H)}const Rn=function(H){let B={},q={},U={},M="";try{const L=H.split(".");B=ot(Ue(L[0])||""),q=ot(Ue(L[1])||""),M=L[2],U=q.d||{},delete q.d}catch{}return{header:B,claims:q,data:U,signature:M}},er=function(H){const q=Rn(H).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},ur=function(H){const B=Rn(H).claims;return"object"==typeof B&&!0===B.admin};function Mi(H,B){return Object.prototype.hasOwnProperty.call(H,B)}function xr(H,B){if(Object.prototype.hasOwnProperty.call(H,B))return H[B]}function te(H){for(const B in H)if(Object.prototype.hasOwnProperty.call(H,B))return!1;return!0}function K(H,B,q){const U={};for(const M in H)Object.prototype.hasOwnProperty.call(H,M)&&(U[M]=B.call(q,H[M],M,H));return U}function re(H,B){if(H===B)return!0;const q=Object.keys(H),U=Object.keys(B);for(const M of q){if(!U.includes(M))return!1;const L=H[M],se=B[M];if(_e(L)&&_e(se)){if(!re(L,se))return!1}else if(L!==se)return!1}for(const M of U)if(!q.includes(M))return!1;return!0}function _e(H){return null!==H&&"object"==typeof H}function Ke(H){const B=[];for(const[q,U]of Object.entries(H))Array.isArray(U)?U.forEach(M=>{B.push(encodeURIComponent(q)+"="+encodeURIComponent(M))}):B.push(encodeURIComponent(q)+"="+encodeURIComponent(U));return B.length?"&"+B.join("&"):""}function fn(H){const B={};return H.replace(/^\?/,"").split("&").forEach(U=>{if(U){const[M,L]=U.split("=");B[decodeURIComponent(M)]=decodeURIComponent(L)}}),B}function Ft(H){const B=H.indexOf("?");if(!B)return"";const q=H.indexOf("#",B);return H.substring(B,q>0?q:void 0)}class Pt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,q){q||(q=0);const U=this.W_;if("string"==typeof B)for(let Et=0;Et<16;Et++)U[Et]=B.charCodeAt(q)<<24|B.charCodeAt(q+1)<<16|B.charCodeAt(q+2)<<8|B.charCodeAt(q+3),q+=4;else for(let Et=0;Et<16;Et++)U[Et]=B[q]<<24|B[q+1]<<16|B[q+2]<<8|B[q+3],q+=4;for(let Et=16;Et<80;Et++){const Mn=U[Et-3]^U[Et-8]^U[Et-14]^U[Et-16];U[Et]=4294967295&(Mn<<1|Mn>>>31)}let Je,Ut,M=this.chain_[0],L=this.chain_[1],se=this.chain_[2],Ae=this.chain_[3],_t=this.chain_[4];for(let Et=0;Et<80;Et++){Et<40?Et<20?(Je=Ae^L&(se^Ae),Ut=1518500249):(Je=L^se^Ae,Ut=1859775393):Et<60?(Je=L&se|Ae&(L|se),Ut=2400959708):(Je=L^se^Ae,Ut=3395469782);const Mn=(M<<5|M>>>27)+Je+_t+Ut+U[Et]&4294967295;_t=Ae,Ae=se,se=4294967295&(L<<30|L>>>2),L=M,M=Mn}this.chain_[0]=this.chain_[0]+M&4294967295,this.chain_[1]=this.chain_[1]+L&4294967295,this.chain_[2]=this.chain_[2]+se&4294967295,this.chain_[3]=this.chain_[3]+Ae&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(B,q){if(null==B)return;void 0===q&&(q=B.length);const U=q-this.blockSize;let M=0;const L=this.buf_;let se=this.inbuf_;for(;M<q;){if(0===se)for(;M<=U;)this.compress_(B,M),M+=this.blockSize;if("string"==typeof B){for(;M<q;)if(L[se]=B.charCodeAt(M),++se,++M,se===this.blockSize){this.compress_(L),se=0;break}}else for(;M<q;)if(L[se]=B[M],++se,++M,se===this.blockSize){this.compress_(L),se=0;break}}this.inbuf_=se,this.total_+=q}digest(){const B=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let M=this.blockSize-1;M>=56;M--)this.buf_[M]=255&q,q/=256;this.compress_(this.buf_);let U=0;for(let M=0;M<5;M++)for(let L=24;L>=0;L-=8)B[U]=this.chain_[M]>>L&255,++U;return B}}function _n(H,B){const q=new Dt(H,B);return q.subscribe.bind(q)}class Dt{constructor(B,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{B(this)}).catch(U=>{this.error(U)})}next(B){this.forEachObserver(q=>{q.next(B)})}error(B){this.forEachObserver(q=>{q.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,q,U){let M;if(void 0===B&&void 0===q&&void 0===U)throw new Error("Missing Observer.");M=function It(H,B){if("object"!=typeof H||null===H)return!1;for(const q of B)if(q in H&&"function"==typeof H[q])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:q,complete:U},void 0===M.next&&(M.next=yn),void 0===M.error&&(M.error=yn),void 0===M.complete&&(M.complete=yn);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),L}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,B)}sendOne(B,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{q(this.observers[B])}catch(U){typeof console<"u"&&console.error&&console.error(U)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function In(H,B){return`${H} failed: ${B} argument `}const Lt=function(H){const B=[];let q=0;for(let U=0;U<H.length;U++){let M=H.charCodeAt(U);if(M>=55296&&M<=56319){const L=M-55296;U++,V(U<H.length,"Surrogate pair missing trail surrogate."),M=65536+(L<<10)+(H.charCodeAt(U)-56320)}M<128?B[q++]=M:M<2048?(B[q++]=M>>6|192,B[q++]=63&M|128):M<65536?(B[q++]=M>>12|224,B[q++]=M>>6&63|128,B[q++]=63&M|128):(B[q++]=M>>18|240,B[q++]=M>>12&63|128,B[q++]=M>>6&63|128,B[q++]=63&M|128)}return B},Ji=function(H){let B=0;for(let q=0;q<H.length;q++){const U=H.charCodeAt(q);U<128?B++:U<2048?B+=2:U>=55296&&U<=56319?(B+=4,q++):B+=3}return B};function ct(H,B=1e3,q=2){const U=B*Math.pow(q,H),M=Math.round(.5*U*(Math.random()-.5)*2);return Math.min(144e5,U+M)}function Xt(H){return H&&H._delegate?H._delegate:H}},4607:(vt,Ne,F)=>{var o=F(4650);let V=null;function P(){return V}class be{}const he=new o.OlP("DocumentToken");let ze=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ce(){return(0,o.LFG)(z)}()},providedIn:"platform"}),n})();const Ue=new o.OlP("Location Initialized");let z=(()=>{class n extends ze{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){G()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){G()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function J(){return new z((0,o.LFG)(he))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function qe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let dt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Me)},providedIn:"root"}),n})();const ie=new o.OlP("appBaseHref");let Me=(()=>{class n extends dt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const u=this.prepareExternalUrl(i+tt(s));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){const u=this.prepareExternalUrl(i+tt(s));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ze),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ee=(()=>{class n extends dt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=qe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let u=this.prepareExternalUrl(i+tt(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){let u=this.prepareExternalUrl(i+tt(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ze),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Fe(Te(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tt(r))}normalize(t){return n.stripTrailingSlash(function ve(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=tt,n.joinWithSlash=qe,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(o.LFG(dt))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function xe(){return new Pe((0,o.LFG)(dt))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Percent=1]="Percent",ne[ne.Currency=2]="Currency",ne[ne.Scientific=3]="Scientific",ne))(),Ye=(()=>((Ye=Ye||{})[Ye.Format=0]="Format",Ye[Ye.Standalone=1]="Standalone",Ye))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),Rt=(()=>((Rt=Rt||{})[Rt.Short=0]="Short",Rt[Rt.Medium=1]="Medium",Rt[Rt.Long=2]="Long",Rt[Rt.Full=3]="Full",Rt))(),ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Group=1]="Group",ut[ut.List=2]="List",ut[ut.PercentSign=3]="PercentSign",ut[ut.PlusSign=4]="PlusSign",ut[ut.MinusSign=5]="MinusSign",ut[ut.Exponential=6]="Exponential",ut[ut.SuperscriptingExponent=7]="SuperscriptingExponent",ut[ut.PerMille=8]="PerMille",ut[ut.Infinity=9]="Infinity",ut[ut.NaN=10]="NaN",ut[ut.TimeSeparator=11]="TimeSeparator",ut[ut.CurrencyDecimal=12]="CurrencyDecimal",ut[ut.CurrencyGroup=13]="CurrencyGroup",ut))();function pe(n,e,t){const r=(0,o.cg1)(n),s=re([r[o.wAp.DayPeriodsFormat],r[o.wAp.DayPeriodsStandalone]],e);return re(s,t)}function Ie(n,e,t){const r=(0,o.cg1)(n),s=re([r[o.wAp.DaysFormat],r[o.wAp.DaysStandalone]],e);return re(s,t)}function Be(n,e,t){const r=(0,o.cg1)(n),s=re([r[o.wAp.MonthsFormat],r[o.wAp.MonthsStandalone]],e);return re(s,t)}function Dn(n,e){return re((0,o.cg1)(n)[o.wAp.DateFormat],e)}function Tt(n,e){return re((0,o.cg1)(n)[o.wAp.TimeFormat],e)}function wt(n,e){return re((0,o.cg1)(n)[o.wAp.DateTimeFormat],e)}function ot(n,e){const t=(0,o.cg1)(n),r=t[o.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ut.CurrencyDecimal)return t[o.wAp.NumberSymbols][ut.Decimal];if(e===ut.CurrencyGroup)return t[o.wAp.NumberSymbols][ut.Group]}return r}function Mi(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function re(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function _e(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ft=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pt={},_n=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dt=(()=>((Dt=Dt||{})[Dt.Short=0]="Short",Dt[Dt.ShortGMT=1]="ShortGMT",Dt[Dt.Long=2]="Long",Dt[Dt.Extended=3]="Extended",Dt))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function yn(n,e,t,r){let i=function L(n){if(Ae(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,u=1]=n.split("-").map(h=>+h);return pn(i,s-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Ft))return function se(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,h=Number(n[5]||0)-r,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,u,h,p,_),e}(r)}const e=new Date(n);if(!Ae(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=In(t,e)||e;let h,u=[];for(;e;){if(h=_n.exec(e),!h){u.push(e);break}{u=u.concat(h.slice(1));const b=u.pop();if(!b)break;e=b}}let p=i.getTimezoneOffset();r&&(p=q(r,p),i=function M(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function U(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(q(e,i)-i))}(i,r,!0));let _="";return u.forEach(b=>{const D=function B(n){if(H[n])return H[n];let e;switch(n){case"G":case"GG":case"GGG":e=Zt(It.Eras,Le.Abbreviated);break;case"GGGG":e=Zt(It.Eras,Le.Wide);break;case"GGGGG":e=Zt(It.Eras,Le.Narrow);break;case"y":e=Lt(mt.FullYear,1,0,!1,!0);break;case"yy":e=Lt(mt.FullYear,2,0,!0,!0);break;case"yyy":e=Lt(mt.FullYear,3,0,!1,!0);break;case"yyyy":e=Lt(mt.FullYear,4,0,!1,!0);break;case"Y":e=Xt(1);break;case"YY":e=Xt(2,!0);break;case"YYY":e=Xt(3);break;case"YYYY":e=Xt(4);break;case"M":case"L":e=Lt(mt.Month,1,1);break;case"MM":case"LL":e=Lt(mt.Month,2,1);break;case"MMM":e=Zt(It.Months,Le.Abbreviated);break;case"MMMM":e=Zt(It.Months,Le.Wide);break;case"MMMMM":e=Zt(It.Months,Le.Narrow);break;case"LLL":e=Zt(It.Months,Le.Abbreviated,Ye.Standalone);break;case"LLLL":e=Zt(It.Months,Le.Wide,Ye.Standalone);break;case"LLLLL":e=Zt(It.Months,Le.Narrow,Ye.Standalone);break;case"w":e=xt(1);break;case"ww":e=xt(2);break;case"W":e=xt(1,!0);break;case"d":e=Lt(mt.Date,1);break;case"dd":e=Lt(mt.Date,2);break;case"c":case"cc":e=Lt(mt.Day,1);break;case"ccc":e=Zt(It.Days,Le.Abbreviated,Ye.Standalone);break;case"cccc":e=Zt(It.Days,Le.Wide,Ye.Standalone);break;case"ccccc":e=Zt(It.Days,Le.Narrow,Ye.Standalone);break;case"cccccc":e=Zt(It.Days,Le.Short,Ye.Standalone);break;case"E":case"EE":case"EEE":e=Zt(It.Days,Le.Abbreviated);break;case"EEEE":e=Zt(It.Days,Le.Wide);break;case"EEEEE":e=Zt(It.Days,Le.Narrow);break;case"EEEEEE":e=Zt(It.Days,Le.Short);break;case"a":case"aa":case"aaa":e=Zt(It.DayPeriods,Le.Abbreviated);break;case"aaaa":e=Zt(It.DayPeriods,Le.Wide);break;case"aaaaa":e=Zt(It.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=Zt(It.DayPeriods,Le.Abbreviated,Ye.Standalone,!0);break;case"bbbb":e=Zt(It.DayPeriods,Le.Wide,Ye.Standalone,!0);break;case"bbbbb":e=Zt(It.DayPeriods,Le.Narrow,Ye.Standalone,!0);break;case"B":case"BB":case"BBB":e=Zt(It.DayPeriods,Le.Abbreviated,Ye.Format,!0);break;case"BBBB":e=Zt(It.DayPeriods,Le.Wide,Ye.Format,!0);break;case"BBBBB":e=Zt(It.DayPeriods,Le.Narrow,Ye.Format,!0);break;case"h":e=Lt(mt.Hours,1,-12);break;case"hh":e=Lt(mt.Hours,2,-12);break;case"H":e=Lt(mt.Hours,1);break;case"HH":e=Lt(mt.Hours,2);break;case"m":e=Lt(mt.Minutes,1);break;case"mm":e=Lt(mt.Minutes,2);break;case"s":e=Lt(mt.Seconds,1);break;case"ss":e=Lt(mt.Seconds,2);break;case"S":e=Lt(mt.FractionalSeconds,1);break;case"SS":e=Lt(mt.FractionalSeconds,2);break;case"SSS":e=Lt(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=wr(Dt.Short);break;case"ZZZZZ":e=wr(Dt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=wr(Dt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=wr(Dt.Long);break;default:return null}return H[n]=e,e}(b);_+=D?D(i,t,p):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function pn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function In(n,e){const t=function de(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Pt[t]=Pt[t]||{},Pt[t][e])return Pt[t][e];let r="";switch(e){case"shortDate":r=Dn(n,Rt.Short);break;case"mediumDate":r=Dn(n,Rt.Medium);break;case"longDate":r=Dn(n,Rt.Long);break;case"fullDate":r=Dn(n,Rt.Full);break;case"shortTime":r=Tt(n,Rt.Short);break;case"mediumTime":r=Tt(n,Rt.Medium);break;case"longTime":r=Tt(n,Rt.Long);break;case"fullTime":r=Tt(n,Rt.Full);break;case"short":const i=In(n,"shortTime"),s=In(n,"shortDate");r=cn(wt(n,Rt.Short),[i,s]);break;case"medium":const u=In(n,"mediumTime"),h=In(n,"mediumDate");r=cn(wt(n,Rt.Medium),[u,h]);break;case"long":const p=In(n,"longTime"),_=In(n,"longDate");r=cn(wt(n,Rt.Long),[p,_]);break;case"full":const b=In(n,"fullTime"),D=In(n,"fullDate");r=cn(wt(n,Rt.Full),[b,D])}return r&&(Pt[t][e]=r),r}function cn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Un(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let u=String(n);for(;u.length<e;)u="0"+u;return r&&(u=u.slice(u.length-e)),s+u}function Lt(n,e,t=0,r=!1,i=!1){return function(s,u){let h=function Ji(n,e){switch(n){case mt.FullYear:return e.getFullYear();case mt.Month:return e.getMonth();case mt.Date:return e.getDate();case mt.Hours:return e.getHours();case mt.Minutes:return e.getMinutes();case mt.Seconds:return e.getSeconds();case mt.FractionalSeconds:return e.getMilliseconds();case mt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===mt.Hours)0===h&&-12===t&&(h=12);else if(n===mt.FractionalSeconds)return function Oi(n,e){return Un(n,3).substring(0,e)}(h,e);const p=ot(u,ut.MinusSign);return Un(h,e,p,r,i)}}function Zt(n,e,t=Ye.Format,r=!1){return function(i,s){return function xi(n,e,t,r,i,s){switch(t){case It.Months:return Be(e,i,r)[n.getMonth()];case It.Days:return Ie(e,i,r)[n.getDay()];case It.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const _=function xr(n){const e=(0,o.cg1)(n);return Mi(e),(e[o.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?_e(r):[_e(r[0]),_e(r[1])])}(e),b=function te(n,e,t){const r=(0,o.cg1)(n);Mi(r);const s=re([r[o.wAp.ExtraData][0],r[o.wAp.ExtraData][1]],e)||[];return re(s,t)||[]}(e,i,r),D=_.findIndex(S=>{if(Array.isArray(S)){const[N,x]=S,j=u>=N.hours&&h>=N.minutes,Y=u<x.hours||u===x.hours&&h<x.minutes;if(N.hours<x.hours){if(j&&Y)return!0}else if(j||Y)return!0}else if(S.hours===u&&S.minutes===h)return!0;return!1});if(-1!==D)return b[D]}return pe(e,i,r)[u<12?0:1];case It.Eras:return function Ve(n,e){return re((0,o.cg1)(n)[o.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function wr(n){return function(e,t,r){const i=-1*r,s=ot(t,ut.MinusSign),u=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Dt.Short:return(i>=0?"+":"")+Un(u,2,s)+Un(Math.abs(i%60),2,s);case Dt.ShortGMT:return"GMT"+(i>=0?"+":"")+Un(u,1,s);case Dt.Long:return"GMT"+(i>=0?"+":"")+Un(u,2,s)+":"+Un(Math.abs(i%60),2,s);case Dt.Extended:return 0===r?"Z":(i>=0?"+":"")+Un(u,2,s)+":"+Un(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function St(n){return pn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function xt(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();i=1+Math.floor((u+s)/7)}else{const s=St(t),u=function ct(n){const e=pn(n,0,1).getDay();return pn(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),h=s.getTime()-u.getTime();i=1+Math.round(h/6048e5)}return Un(i,n,ot(r,ut.MinusSign))}}function Xt(n,e=!1){return function(t,r){return Un(St(t).getFullYear(),n,ot(r,ut.MinusSign),e)}}const H={};function q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ae(n){return n instanceof Date&&!isNaN(n.valueOf())}const _t=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pl(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function ei(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class Cr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Cr(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,u),xn(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xn(n,e){n.context.$implicit=e.item}let Sn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Aa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Aa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function Aa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}class Vo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let $o=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ho=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Vo(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36($o,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Qi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})();function dr(n,e){return new o.vHH(2100,!1)}class Kd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Hu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ju=new Hu,Na=new Kd;let Hs=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,o.QGY)(t))return ju;if((0,o.F4k)(t))return Na;throw dr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),jy=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function zp(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function $p(n,e,t){return function Ia(n,e,t,r,i,s,u=!1){let h="",p=!1;if(isFinite(n)){let _=function Yd(n){let r,i,s,u,h,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(h=e.length))r=[0],i=1;else{for(h--;"0"===e.charAt(h);)h--;for(i-=s,r=[],u=0;s<=h;s++,u++)r[u]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);u&&(_=function Hp(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(_));let b=e.minInt,D=e.minFrac,S=e.maxFrac;if(s){const De=s.match(_t);if(null===De)throw new Error(`${s} is not a valid digit info`);const je=De[1],ke=De[3],Ze=De[5];null!=je&&(b=Pl(je)),null!=ke&&(D=Pl(ke)),null!=Ze?S=Pl(Ze):null!=ke&&D>S&&(S=D)}!function jp(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let u=s+n.integerLen,h=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let D=u;D<r.length;D++)r[D]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=s+1),r[0]=0;for(let D=1;D<u;D++)r[D]=0}if(h>=5)if(u-1<0){for(let D=0;D>u;D--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,s);i++)r.push(0);let p=0!==s;const _=e+n.integerLen,b=r.reduceRight(function(D,S,N,x){return x[N]=(S+=D)<10?S:S-10,p&&(0===x[N]&&N>=_?x.pop():p=!1),S>=10?1:0},0);b&&(r.unshift(b),n.integerLen++)}(_,D,S);let N=_.digits,x=_.integerLen;const j=_.exponent;let Y=[];for(p=N.every(De=>!De);x<b;x++)N.unshift(0);for(;x<0;x++)N.unshift(0);x>0?Y=N.splice(x,N.length):(Y=N,N=[0]);const me=[];for(N.length>=e.lgSize&&me.unshift(N.splice(-e.lgSize,N.length).join(""));N.length>e.gSize;)me.unshift(N.splice(-e.gSize,N.length).join(""));N.length&&me.unshift(N.join("")),h=me.join(ot(t,r)),Y.length&&(h+=ot(t,i)+Y.join("")),j&&(h+=ot(t,ut.Exponential)+"+"+j)}else h=ot(t,ut.Infinity);return h=n<0&&!p?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf,h}(n,function Sa(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],u=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],h=u[0],p=u[1]||"";t.posPre=h.substring(0,h.indexOf("#"));for(let b=0;b<p.length;b++){const D=p.charAt(b);"0"===D?t.minFrac=t.maxFrac=b+1:"#"===D?t.maxFrac=b+1:t.posSuf+=D}const _=h.split(",");if(t.gSize=_[1]?_[1].length:0,t.lgSize=_[2]||_[1]?(_[2]||_[1]).length:0,s){const b=i.length-t.posPre.length-t.posSuf.length,D=s.indexOf("#");t.negPre=s.substring(0,D).replace(/'/g,""),t.negSuf=s.slice(D+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function rn(n,e){return(0,o.cg1)(n)[o.wAp.NumberFormats][e]}(e,ne.Percent),ot(e,ut.MinusSign)),e,ut.Group,ut.Decimal,t,!0).replace(new RegExp("%","g"),ot(e,ut.PercentSign))}(function Ll(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw dr()}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.soG,16))},n.\u0275pipe=o.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Wp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Xi="browser";function Ul(n){return n===Xi}function Yp(n){return"server"===n}let qu=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Qd((0,o.LFG)(he),window)}),n})();class Qd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Zu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Bl(this.window.history)||Bl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Yu{}class qo extends be{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pa extends qo{static makeCurrent(){!function le(n){V||(V=n)}(new Pa)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rv(){return ka=ka||document.querySelector("base"),ka?ka.getAttribute("href"):null}();return null==t?null:function nc(n){qs=qs||document.createElement("a"),qs.setAttribute("href",n);const e=qs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ei(document.cookie,e)}}let qs,ka=null;const oh=new o.OlP("TRANSITION_ID"),Gl=[{provide:o.ip1,useFactory:function WA(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[oh,he,o.zs3],multi:!0}];let iv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const _o=new o.OlP("EventManagerPlugins");let ah=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_o),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class fr{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let rc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),yo=(()=>{class n extends rc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(lh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lh))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function lh(n){P().remove(n)}const Zs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ic=/%COMP%/g;function zl(n,e){return e.flat(100).map(t=>t.replace(ic,n))}function ch(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let La=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new oc(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case o.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ac(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case o.ifc.ShadowDom:return new cg(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=zl(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ah),o.LFG(yo),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class oc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Zs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Yo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Yo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Zs[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Zs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,i&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ch(r)):this.eventManager.addEventListener(e,t,ch(r))}}function Yo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ac extends oc{constructor(e,t,r,i){super(e),this.component=r;const s=zl(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function sc(n){return"_ngcontent-%COMP%".replace(ic,n)}(i+"-"+r.id),this.hostAttr=function vo(n){return"_nghost-%COMP%".replace(ic,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class cg extends oc{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=zl(i.id,i.styles);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dh=(()=>{class n extends fr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const hh=["alt","control","meta","shift"],dg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fg=(()=>{class n extends fr{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),hh.forEach(_=>{const b=r.indexOf(_);b>-1&&(r.splice(b,1),u+=_+".")}),u+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=u,p}static matchEventFullKeyCode(t,r){let i=dg[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hh.forEach(u=>{u!==i&&(0,hg[u])(t)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const av=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Xi},{provide:o.g9A,useValue:function ov(){Pa.makeCurrent()},multi:!0},{provide:he,useFactory:function Wl(){return(0,o.RDi)(document),document},deps:[]}]),ph=new o.OlP(""),Ba=[{provide:o.rWj,useClass:class hC{addToWindow(e){o.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const i=o.dqk.getAllAngularTestabilities();let s=i.length,u=!1;const h=function(p){u=u||p,s--,0==s&&r(u)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],gg=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function pg(){return new o.qLn},deps:[]},{provide:_o,useClass:dh,multi:!0,deps:[he,o.R0b,o.Lbi]},{provide:_o,useClass:fg,multi:!0,deps:[he]},{provide:La,useClass:La,deps:[ah,yo,o.AFp]},{provide:o.FYo,useExisting:La},{provide:rc,useExisting:yo},{provide:yo,useClass:yo,deps:[he]},{provide:ah,useClass:ah,deps:[_o,o.R0b]},{provide:Yu,useClass:iv,deps:[]},[]];let mg=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:oh,useExisting:o.AFp},Gl]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ph,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...gg,...Ba],imports:[Wp,o.hGG]}),n})(),uc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Qo(){return new uc((0,o.LFG)(he))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Kt=F(8996),ta=F(3269);function ft(...n){const e=(0,ta.yG)(n);return(0,Kt.D)(n,e)}var wn=F(7579);class Zn extends wn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const fc=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hn=F(9751);const{isArray:wg}=Array,{getPrototypeOf:pc,prototype:gc,keys:yh}=Object;function bo(n){if(1===n.length){const e=n[0];if(wg(e))return{args:e,keys:null};if(function Eg(n){return n&&"object"==typeof n&&pc(n)===gc}(e)){const t=yh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var us=F(4671),nt=F(4004);const{isArray:Cg}=Array;function wo(n){return(0,nt.U)(e=>function Yl(n,e){return Cg(e)?n(...e):n(e)}(n,e))}function vh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var En=F(5403),bh=F(9672);function cs(...n){const e=(0,ta.yG)(n),t=(0,ta.jO)(n),{args:r,keys:i}=bo(n);if(0===r.length)return(0,Kt.D)([],e);const s=new Hn.y(function Ga(n,e,t=us.y){return r=>{mc(e,()=>{const{length:i}=n,s=new Array(i);let u=i,h=i;for(let p=0;p<i;p++)mc(e,()=>{const _=(0,Kt.D)(n[p],e);let b=!1;_.subscribe((0,En.x)(r,D=>{s[p]=D,b||(b=!0,h--),h||r.next(t(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>vh(i,u):us.y));return t?s.pipe(wo(t)):s}function mc(n,e,t){n?(0,bh.f)(t,n,e):e()}var _c=F(8189);function za(...n){return function wh(){return(0,_c.J)(1)}()((0,Kt.D)(n,(0,ta.yG)(n)))}var ts=F(8421);function Tg(n){return new Hn.y(e=>{(0,ts.Xf)(n()).subscribe(e)})}var Dg=F(9635),Bi=F(576);function yi(n,e){const t=(0,Bi.m)(n)?n:()=>n,r=i=>i.error(t());return new Hn.y(e?i=>e.schedule(r,0,i):r)}var ds=F(515),Eh=F(727),kn=F(4482);function Ig(){return(0,kn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,En.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ch extends Hn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,kn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Eh.w0;const t=this.getSubject();e.add(this.source.subscribe((0,En.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Eh.w0.EMPTY)}return e}refCount(){return Ig()(this)}}function Fn(n,e){return(0,kn.e)((t,r)=>{let i=null,s=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe((0,En.x)(r,p=>{i?.unsubscribe();let _=0;const b=s++;(0,ts.Xf)(n(p,b)).subscribe(i=(0,En.x)(r,D=>r.next(e?e(p,D,b,_++):D),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function jn(n){return n<=0?()=>ds.E:(0,kn.e)((e,t)=>{let r=0;e.subscribe((0,En.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function hs(...n){const e=(0,ta.yG)(n);return(0,kn.e)((t,r)=>{(e?za(n,t,e):za(n,t)).subscribe(r)})}function An(n,e){return(0,kn.e)((t,r)=>{let i=0;t.subscribe((0,En.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Fr=F(5577);function Th(n){return(0,kn.e)((e,t)=>{let r=!1;e.subscribe((0,En.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function yc(n=bC){return(0,kn.e)((e,t)=>{let r=!1;e.subscribe((0,En.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bC(){return new fc}function Eo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,s)=>n(i,s,r)):us.y,jn(1),t?Th(e):yc(()=>new fc))}function na(n,e){return(0,Bi.m)(e)?(0,Fr.z)(n,e,1):(0,Fr.z)(n,1)}function nr(n,e,t){const r=(0,Bi.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,kn.e)((i,s)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;i.subscribe((0,En.x)(s,p=>{var _;null===(_=r.next)||void 0===_||_.call(r,p),s.next(p)},()=>{var p;h=!1,null===(p=r.complete)||void 0===p||p.call(r),s.complete()},p=>{var _;h=!1,null===(_=r.error)||void 0===_||_.call(r,p),s.error(p)},()=>{var p,_;h&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):us.y}function fs(n){return(0,kn.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,En.x)(t,void 0,void 0,u=>{s=(0,ts.Xf)(n(u,fs(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fv(n,e,t,r,i){return(s,u)=>{let h=t,p=e,_=0;s.subscribe((0,En.x)(u,b=>{const D=_++;p=h?n(p,b,D):(h=!0,b),r&&u.next(p)},i&&(()=>{h&&u.next(p),u.complete()})))}}function Wa(n,e){return(0,kn.e)(fv(n,e,arguments.length>=2,!0))}function Kl(n){return n<=0?()=>ds.E:(0,kn.e)((e,t)=>{let r=[];e.subscribe((0,En.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,s)=>n(i,s,r)):us.y,Kl(1),t?Th(e):yc(()=>new fc))}function vc(n){return(0,nt.U)(()=>n)}function ns(n){return(0,kn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ht="primary",Jl=Symbol("RouteTitle");class pv{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ys(n){return new pv(n)}function Ih(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],h=n[s];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ns(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Ah(n[i],e[i]))return!1;return!0}function Ah(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Nh(n){return Array.prototype.concat.apply([],n)}function bc(n){return n.length>0?n[n.length-1]:null}function dn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ps(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Kt.D)(Promise.resolve(n)):ft(n)}const Ql=!1,Rh={exact:function wc(n,e,t){if(!Q(n.segments,e.segments)||!m(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!wc(n.children[r],e.children[r],t))return!1;return!0},subset:Mh},Lr={exact:function Ag(n,e){return Ns(n,e)},subset:function gv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ah(n[t],e[t]))},ignored:()=>!0};function qa(n,e,t){return Rh[t.paths](n.root,e.root,t.matrixParams)&&Lr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Mh(n,e,t){return w(n,e,e.segments,t)}function w(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Q(i,t)||e.hasChildren()||!m(i,t,r))}if(n.segments.length===t.length){if(!Q(n.segments,t)||!m(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Mh(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Q(n.segments,i)&&m(n.segments,i,r)&&n.children[Ht])&&w(n.children[Ht],e,s,r)}}function m(n,e,t){return e.every((r,i)=>Lr[t](n[i].parameters,r.parameters))}class y{constructor(e=new E([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class E{constructor(e,t){this.segments=e,this.children=t,this.parent=null,dn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class A{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ys(this.parameters)),this._parameterMap}toString(){return Ya(this)}}function Q(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new yt},providedIn:"root"}),n})();class yt{parse(e){const t=new EC(e);return new y(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qr(e.root,!0)}`,r=function Rg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Co(t)}=${Co(i)}`).join("&"):`${Co(t)}=${Co(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ra(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qt=new yt;function Tn(n){return n.segments.map(e=>Ya(e)).join("/")}function qr(n,e){if(!n.hasChildren())return Tn(n);if(e){const t=n.children[Ht]?qr(n.children[Ht],!1):"",r=[];return dn(n.children,(i,s)=>{s!==Ht&&r.push(`${s}:${qr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Se(n,e){let t=[];return dn(n.children,(r,i)=>{i===Ht&&(t=t.concat(e(r,i)))}),dn(n.children,(r,i)=>{i!==Ht&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ht?[qr(n.children[Ht],!1)]:[`${i}:${qr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${Tn(n)}/${t[0]}`:`${Tn(n)}/(${t.join("//")})`}}function gs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Co(n){return gs(n).replace(/%3B/gi,";")}function ia(n){return gs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Za(n){return decodeURIComponent(n)}function Oh(n){return Za(n.replace(/\+/g,"%20"))}function Ya(n){return`${ia(n.path)}${function Ng(n){return Object.keys(n).map(e=>`;${ia(e)}=${ia(n[e])}`).join("")}(n.parameters)}`}const xh=/^[^\/()?;=#]+/;function Xl(n){const e=n.match(xh);return e?e[0]:""}const mv=/^[^=?&#]+/,Mg=/^[^&#]+/;class EC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new E([],{}):new E([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new E(e,t)),r}parseSegment(){const e=Xl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,Ql);return this.capture(e),new A(Za(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xl(this.remaining);i&&(r=i,this.capture(r))}e[Za(t)]=Za(r)}parseQueryParam(e){const t=function Ph(n){const e=n.match(mv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function _v(n){const e=n.match(Mg);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Oh(t),s=Oh(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new o.vHH(4010,Ql);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ht);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[Ht]:new E([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,Ql)}}function kh(n){return n.segments.length>0?new E([],{[Ht]:n}):n}function Og(n){const e={};for(const r of Object.keys(n.children)){const s=Og(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function ZA(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new E(n.segments.concat(e.segments),e.children)}return n}(new E(n.segments,e))}function Ka(n){return n instanceof y}function YA(n,e,t,r,i){if(0===t.length)return Cc(e.root,e.root,e.root,r,i);const s=function bv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vv(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return dn(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new vv(t,e,r)}(t);return s.toRoot()?Cc(e.root,e.root,new E([],{}),r,i):function u(p){const _=function kg(n,e,t,r){if(n.isAbsolute)return new Qa(e.root,!0,0);if(-1===r)return new Qa(t,t===e.root,0);return function Fh(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new o.vHH(4005,!1);i=r.segments.length}return new Qa(r,!1,i-s)}(t,r+(Pg(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),b=_.processChildren?Xa(_.segmentGroup,_.index,s.commands):Lh(_.segmentGroup,_.index,s.commands);return Cc(e.root,_.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function Pg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ja(n){return"object"==typeof n&&null!=n&&n.outlets}function Cc(n,e,t,r,i){let u,s={};r&&dn(r,(p,_)=>{s[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),u=n===e?t:yv(n,e,t);const h=kh(Og(u));return new y(h,s,i)}function yv(n,e,t){const r={};return dn(n.children,(i,s)=>{r[s]=i===e?t:yv(i,e,t)}),new E(n.segments,r)}class vv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pg(r[0]))throw new o.vHH(4003,!1);const i=r.find(Ja);if(i&&i!==bc(r))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Lh(n,e,t){if(n||(n=new E([],{})),0===n.segments.length&&n.hasChildren())return Xa(n,e,t);const r=function wv(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const u=n.segments[i],h=t[r];if(Ja(h))break;const p=`${h}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!SC(p,_,u))return s;r+=2}else{if(!SC(p,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new E(n.segments.slice(0,r.pathIndex),{});return s.children[Ht]=new E(n.segments.slice(r.pathIndex),n.children),Xa(s,0,i)}return r.match&&0===i.length?new E(n.segments,{}):r.match&&!n.hasChildren()?eu(n,e,t):r.match?Xa(n,0,i):eu(n,e,t)}function Xa(n,e,t){if(0===t.length)return new E(n.segments,{});{const r=function IC(n){return Ja(n[0])?n[0].outlets:{[Ht]:n}}(t),i={};return!r[Ht]&&n.children[Ht]&&1===n.numberOfChildren&&0===n.children[Ht].segments.length?Xa(n.children[Ht],e,t):(dn(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=Lh(n.children[u],e,s))}),dn(n.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new E(n.segments,i))}}function eu(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ja(s)){const p=KA(s.outlets);return new E(r,p)}if(0===i&&Pg(t[0])){r.push(new A(n.segments[e].path,Ev(t[0]))),i++;continue}const u=Ja(s)?s.outlets[Ht]:`${s}`,h=i<t.length-1?t[i+1]:null;u&&h&&Pg(h)?(r.push(new A(u,Ev(h))),i+=2):(r.push(new A(u,{})),i++)}return new E(r,{})}function KA(n){const e={};return dn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=eu(new E([],{}),0,t))}),e}function Ev(n){const e={};return dn(n,(t,r)=>e[r]=`${t}`),e}function SC(n,e,t){return n==t.path&&Ns(e,t.parameters)}const Uh="imperative";class To{constructor(e,t){this.id=e,this.url=t}}class Fg extends To{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class el extends To{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tu extends To{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lg extends To{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class tl extends To{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JA extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QA extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LL extends To{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XA extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cv extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eN{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ug{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tv{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let tN=(()=>{class n{createUrlTree(t,r,i,s,u,h){return YA(t||r.root,i,s,u,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),nN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){return tN.\u0275fac(e)},providedIn:"root"}),n})();class MC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Do(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Do(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=nu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nu(e,this._root).map(t=>t.value)}}function Do(n,e){if(n===e.value)return e;for(const t of e.children){const r=Do(n,t);if(r)return r}return null}function nu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=nu(n,t);if(r.length)return r.unshift(e),r}return[]}class sa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rN extends MC{constructor(e,t){super(e),this.snapshot=t,Av(this,e)}toString(){return this.snapshot.toString()}}function iN(n,e){const t=function VL(n,e){const u=new Bg([],{},{},"",{},Ht,e,null,n.root,-1,{});return new OC("",new sa(u,[]))}(n,e),r=new Zn([new A("",{})]),i=new Zn({}),s=new Zn({}),u=new Zn({}),h=new Zn(""),p=new Vh(r,i,u,h,s,Ht,e,t.root);return p.snapshot=t.root,new rN(new sa(p,[]),t)}class Vh{constructor(e,t,r,i,s,u,h,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,nt.U)(_=>_[Jl]))??ft(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(e=>Ys(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(e=>Ys(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function sN(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Bg{get title(){return this.data?.[Jl]}constructor(e,t,r,i,s,u,h,p,_,b,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ys(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OC extends MC{constructor(e,t){super(t),this.url=e,Av(this,t)}toString(){return Vg(this._root)}}function Av(n,e){e.value._routerState=n,e.children.forEach(t=>Av(n,t))}function Vg(n){const e=n.children.length>0?` { ${n.children.map(Vg).join(", ")} } `:"";return`${n.value}${e}`}function Ks(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ns(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ns(e.params,t.params)||n.params.next(t.params),function Sh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ns(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ns(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ru(n,e){const t=Ns(n.params,e.params)&&function O(n,e){return Q(n,e)&&n.every((t,r)=>Ns(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ru(n.parent,e.parent))}function Tc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function PC(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Tc(n,r,i);return Tc(n,r)})}(n,e,t);return new sa(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Tc(n,h)),u}}const r=function $L(n){return new Vh(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Tc(n,s));return new sa(r,i)}}const kC="ngNavigationCancelingError";function oN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$g(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $g(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[kC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Hg(n){return aN(n)&&Ka(n.url)}function aN(n){return n&&n[kC]}class HL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dc,this.attachRef=null}}let Dc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new HL,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jg=!1;let Nv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Dc),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,jg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,jg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,jg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new o.vHH(4013,jg);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new lN(t,h,i.injector);if(r&&function uN(n){return!!n.resolveComponentFactory}(r)){const _=r.resolveComponentFactory(u);this.activated=i.createComponent(_,i.length,p)}else this.activated=i.createComponent(u,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class lN{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Vh?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}let $h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"router-outlet")},dependencies:[Nv],encapsulation:2}),n})();function Hh(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ov(n){const e=n.children&&n.children.map(Ov),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=$h),t}function Rs(n){return n.outlet||Ht}function UC(n,e){const t=n.filter(r=>Rs(r)===e);return t.push(...n.filter(r=>Rs(r)!==e)),t}function jh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class zL{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ks(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Bh(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),dn(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Bh(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Bh(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Bh(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Dv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tv(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Ks(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Ks(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=jh(i.snapshot),p=h?.get(o._Vd)??null;u.attachRef=null,u.route=i,u.resolver=p,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class dN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nl{constructor(e,t){this.component=e,this.route=t}}function xv(n,e,t){const r=n._root;return Ic(r,e?e._root:null,t,[r.value])}function iu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:r}function Ic(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bh(e);return n.children.forEach(u=>{(function hN(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const p=function fN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Q(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Q(n.url,e.url)||!Ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ru(n,e)||!Ns(n.queryParams,e.queryParams);default:return!ru(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new dN(r)):(s.data=u.data,s._resolvedData=u._resolvedData),Ic(n,e,s.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new nl(h.outlet.component,u))}else u&&Sc(e,h,i),i.canActivateChecks.push(new dN(r)),Ic(n,null,s.component?h?h.children:null:t,r,i)})(u,s[u.value.outlet],t,r.concat([u.value]),i),delete s[u.value.outlet]}),dn(s,(u,h)=>Sc(u,t.getContext(h),i)),i}function Sc(n,e,t){const r=Bh(n),i=n.value;dn(r,(s,u)=>{Sc(s,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new nl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ac(n){return"function"==typeof n}function Lv(n){return n instanceof fc||"EmptyError"===n?.name}const Nc=Symbol("INITIAL_VALUE");function oa(){return Fn(n=>cs(n.map(e=>e.pipe(jn(1),hs(Nc)))).pipe((0,nt.U)(e=>{for(const t of e)if(!0!==t){if(t===Nc)return Nc;if(!1===t||t instanceof y)return t}return!0}),An(e=>e!==Nc),jn(1)))}function au(n){return(0,Dg.z)(nr(e=>{if(Ka(e))throw oN(0,e)}),(0,nt.U)(e=>!0===e))}const Vv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GC(n,e,t,r,i){const s=Gh(n,e,t);return s.matched?function vN(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ft(i.map(u=>{const h=iu(u,n);return ps(function $C(n){return n&&Ac(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(oa(),au()):ft(!0)}(r=Hh(e,r),e,t).pipe((0,nt.U)(u=>!0===u?s:{...Vv})):ft(s)}function Gh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Vv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ih)(t,n,e);if(!i)return{...Vv};const s={};dn(i.posParams,(h,p)=>{s[p]=h.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function zg(n,e,t,r){if(t.length>0&&function WC(n,e,t){return t.some(r=>Wg(n,e,r)&&Rs(r)!==Ht)}(n,t,r)){const s=new E(e,function bN(n,e,t,r){const i={};i[Ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Rs(s)!==Ht){const u=new E([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Rs(s)]=u}return i}(n,e,r,new E(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function qL(n,e,t){return t.some(r=>Wg(n,e,r))}(n,t,r)){const s=new E(n.segments,function zC(n,e,t,r,i){const s={};for(const u of r)if(Wg(n,t,u)&&!i[Rs(u)]){const h=new E([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,s[Rs(u)]=h}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new E(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Wg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rc(n,e,t,r){return!!(Rs(n)===r||r!==Ht&&Wg(e,t,n))&&("**"===n.path||Gh(e,n,t).matched)}function qC(n,e,t){return 0===e.length&&!n.children[t]}const aa=!1;class rl{constructor(e){this.segmentGroup=e||null}}class ZC{constructor(e){this.urlTree=e}}function Mc(n){return yi(new rl(n))}function YC(n){return yi(new ZC(n))}class JC{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=zg(this.urlTree.root,[],[],this.config).segmentGroup,t=new E(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ht).pipe((0,nt.U)(s=>this.createUrlTree(Og(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fs(s=>{if(s instanceof ZC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof rl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ht).pipe((0,nt.U)(i=>this.createUrlTree(Og(i),e.queryParams,e.fragment))).pipe(fs(i=>{throw i instanceof rl?this.noMatchError(i):i}))}noMatchError(e){return new o.vHH(4002,aa)}createUrlTree(e,t,r){const i=kh(e);return new y(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,nt.U)(s=>new E([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Kt.D)(i).pipe(na(s=>{const u=r.children[s],h=UC(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,nt.U)(p=>({segment:p,outlet:s})))}),Wa((s,u)=>(s[u.outlet]=u.segment,s),{}),Dh())}expandSegment(e,t,r,i,s,u){return(0,Kt.D)(r).pipe(na(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,u).pipe(fs(_=>{if(_ instanceof rl)return ft(null);throw _}))),Eo(h=>!!h),fs((h,p)=>{if(Lv(h))return qC(t,i,s)?ft(new E([],{})):Mc(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,u,h){return Rc(i,t,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u):Mc(t):Mc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YC(s):this.lineralizeSegments(r,s).pipe((0,Fr.z)(u=>{const h=new E(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=Gh(t,i,s);if(!h)return Mc(t);const D=this.applyRedirectCommands(p,i.redirectTo,b);return i.redirectTo.startsWith("/")?YC(D):this.lineralizeSegments(i,D).pipe((0,Fr.z)(S=>this.expandSegment(e,t,r,S.concat(_),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=Hh(r,e),r.loadChildren?(r._loadedRoutes?ft({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,nt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new E(i,{})))):ft(new E(i,{}))):GC(t,r,i,e).pipe(Fn(({matched:u,consumedSegments:h,remainingSegments:p})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Fr.z)(b=>{const D=b.injector??e,S=b.routes,{segmentGroup:N,slicedSegments:x}=zg(t,h,p,S),j=new E(N.segments,N.children);if(0===x.length&&j.hasChildren())return this.expandChildren(D,S,j).pipe((0,nt.U)(je=>new E(h,je)));if(0===S.length&&0===x.length)return ft(new E(h,{}));const Y=Rs(r)===s;return this.expandSegment(D,j,S,x,Y?Ht:s,!0).pipe((0,nt.U)(De=>new E(h.concat(De.segments),De.children)))})):Mc(t)))}getChildConfig(e,t,r){return t.children?ft({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ft({routes:t._loadedRoutes,injector:t._loadedInjector}):function jC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ft(!0):ft(i.map(u=>{const h=iu(u,n);return ps(function WL(n){return n&&Ac(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(oa(),au())}(e,t,r).pipe((0,Fr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(nr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function EN(n){return yi($g(aa,3))}())):ft({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ft(r);if(i.numberOfChildren>1||!i.children[Ht])return yi(new o.vHH(4e3,aa));i=i.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new y(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return dn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let u={};return dn(t.children,(h,p)=>{u[p]=this.createSegmentGroup(e,h,r,i)}),new E(s,u)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new o.vHH(4001,aa);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class CN{}class TN{constructor(e,t,r,i,s,u,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const e=zg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe((0,nt.U)(t=>{if(null===t)return null;const r=new Bg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new sa(r,t),s=new OC(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=Sv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Kt.D)(Object.keys(r.children)).pipe(na(i=>{const s=r.children[i],u=UC(t,i);return this.processSegmentGroup(e,u,s,i)}),Wa((i,s)=>i&&s?(i.push(...s),i):null),function Sg(n,e=!1){return(0,kn.e)((t,r)=>{let i=0;t.subscribe((0,En.x)(r,s=>{const u=n(s,i++);(u||e)&&r.next(s),!u&&r.complete()}))})}(i=>null!==i),Th(null),Dh(),(0,nt.U)(i=>{if(null===i)return null;const s=QC(i);return function DN(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,Kt.D)(t).pipe(na(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,s)),Eo(u=>!!u),fs(u=>{if(Lv(u))return qC(r,i,s)?ft([]):ft(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!Rc(t,r,i,s))return ft(null);let u;if("**"===t.path){const h=i.length>0?bc(i).parameters:{},p=lu(r)+i.length;u=ft({snapshot:new Bg(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eT(t),Rs(t),t.component??t._loadedComponent??null,t,XC(r),p,tT(t)),consumedSegments:[],remainingSegments:[]})}else u=GC(r,t,i,e).pipe((0,nt.U)(({matched:h,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!h)return null;const D=lu(r)+p.length;return{snapshot:new Bg(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eT(t),Rs(t),t.component??t._loadedComponent??null,t,XC(r),D,tT(t)),consumedSegments:p,remainingSegments:_}}));return u.pipe(Fn(h=>{if(null===h)return ft(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=h;e=t._injector??e;const D=t._loadedInjector??e,S=function IN(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:N,slicedSegments:x}=zg(r,_,b,S.filter(Y=>void 0===Y.redirectTo));if(0===x.length&&N.hasChildren())return this.processChildren(D,S,N).pipe((0,nt.U)(Y=>null===Y?null:[new sa(p,Y)]));if(0===S.length&&0===x.length)return ft([new sa(p,[])]);const j=Rs(t)===s;return this.processSegment(D,S,N,x,j?Ht:s).pipe((0,nt.U)(Y=>null===Y?null:[new sa(p,Y)]))}))}}function SN(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function QC(n){const e=[],t=new Set;for(const r of n){if(!SN(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=QC(r.children);e.push(new sa(r.value,i))}return e.filter(r=>!t.has(r))}function XC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lu(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function eT(n){return n.data||{}}function tT(n){return n.resolve||{}}function sT(n){return"string"==typeof n.title||null===n.title}function Zg(n){return Fn(e=>{const t=n(e);return t?(0,Kt.D)(t).pipe((0,nt.U)(()=>e)):ft(e)})}const vi=new o.OlP("ROUTES");let jv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ft(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ps(t.loadComponent()).pipe((0,nt.U)(lT),nr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ns(()=>{this.componentLoaders.delete(t)})),i=new Ch(r,()=>new wn.x).pipe(Ig());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,_,b=!1;Array.isArray(h)?_=h:(p=h.create(t).injector,_=Nh(p.get(vi,[],o.XFs.Self|o.XFs.Optional)));return{routes:_.map(Ov),injector:p}}),ns(()=>{this.childrenLoaders.delete(r)})),u=new Ch(s,()=>new wn.x).pipe(Ig());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return ps(t()).pipe((0,nt.U)(lT),(0,Fr.z)(i=>i instanceof o.YKP||Array.isArray(i)?ft(i):(0,Kt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lT(n){return function aT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Kg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new wn.x,this.configLoader=(0,o.f3M)(jv),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(at),this.rootContexts=(0,o.f3M)(Dc),this.navigationId=0,this.afterPreactivation=()=>ft(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new AC(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new eN(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Uh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(r=>0!==r.id),(0,nt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Fn(r=>{let i=!1,s=!1;return ft(r).pipe(nr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(u=>{const h=t.browserUrlTree.toString(),p=!t.navigated||u.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!p&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new Lg(u.id,t.serializeUrl(r.rawUrl),b,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),ds.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return uT(u.source)&&(t.browserUrlTree=u.extractedUrl),ft(u).pipe(Fn(b=>{const D=this.transitions?.getValue();return this.events.next(new Fg(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),D!==this.transitions?.getValue()?ds.E:Promise.resolve(b)}),function $v(n,e,t,r){return Fn(i=>function KC(n,e,t,r,i){return new JC(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,nt.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),nr(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},r.urlAfterRedirects=b.urlAfterRedirects}),function ZL(n,e,t,r,i){return(0,Fr.z)(s=>function zh(n,e,t,r,i,s,u="emptyOnly"){return new TN(n,e,t,r,i,u,s).recognize().pipe(Fn(h=>null===h?function Hv(n){return new Hn.y(e=>e.error(n))}(new CN):ft(h)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,nt.U)(u=>({...s,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),nr(b=>{if(r.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const S=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(S,b)}t.browserUrlTree=b.urlAfterRedirects}const D=new JA(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(D)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:D,source:S,restoredState:N,extras:x}=u,j=new Fg(b,this.urlSerializer.serialize(D),S,N);this.events.next(j);const Y=iN(D,this.rootComponentType).snapshot;return ft(r={...u,targetSnapshot:Y,urlAfterRedirects:D,extras:{...x,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new Lg(u.id,t.serializeUrl(r.extractedUrl),b,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),ds.E}}),nr(u=>{const h=new QA(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,nt.U)(u=>r={...u,guards:xv(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function mN(n,e){return(0,Fr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?ft({...t,guardsResult:!0}):function Uv(n,e,t,r){return(0,Kt.D)(n).pipe((0,Fr.z)(i=>function yN(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ft(s.map(h=>{const p=jh(e)??i,_=iu(h,p);return ps(function Fv(n){return n&&Ac(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):p.runInContext(()=>_(n,e,t,r))).pipe(Eo())})).pipe(oa()):ft(!0)}(i.component,i.route,t,e,r)),Eo(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Fr.z)(h=>h&&function Pv(n){return"boolean"==typeof n}(h)?function Gg(n,e,t,r){return(0,Kt.D)(e).pipe(na(i=>za(function HC(n,e){return null!==n&&e&&e(new Ug(n)),ft(!0)}(i.route.parent,r),function ou(n,e){return null!==n&&e&&e(new NC(n)),ft(!0)}(i.route,r),function _N(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function VC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Tg(()=>ft(u.guards.map(p=>{const _=jh(u.node)??t,b=iu(p,_);return ps(function pN(n){return n&&Ac(n.canActivateChild)}(b)?b.canActivateChild(r,n):_.runInContext(()=>b(r,n))).pipe(Eo())})).pipe(oa())));return ft(s).pipe(oa())}(n,i.path,t),function Bv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const i=r.map(s=>Tg(()=>{const u=jh(e)??t,h=iu(s,u);return ps(function kv(n){return n&&Ac(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(Eo())}));return ft(i).pipe(oa())}(n,i.route,t))),Eo(i=>!0!==i,!0))}(r,s,n,e):ft(h)),(0,nt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),nr(u=>{if(r.guardsResult=u.guardsResult,Ka(u.guardsResult))throw oN(0,u.guardsResult);const h=new LL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),An(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Zg(u=>{if(u.guards.canActivateChecks.length)return ft(u).pipe(nr(h=>{const p=new XA(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Fn(h=>{let p=!1;return ft(h).pipe(function YL(n,e){return(0,Fr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ft(t);let s=0;return(0,Kt.D)(i).pipe(na(u=>function nT(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!sT(i)&&(s[Jl]=i.title),function KL(n,e,t,r){const i=function rT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ft({});const s={};return(0,Kt.D)(i).pipe((0,Fr.z)(u=>function iT(n,e,t,r){const i=jh(e)??r,s=iu(n,i);return ps(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[u],e,t,r).pipe(Eo(),nr(h=>{s[u]=h}))),Kl(1),vc(s),fs(u=>Lv(u)?ds.E:yi(u)))}(s,n,e,r).pipe((0,nt.U)(u=>(n._resolvedData=u,n.data=Sv(n,t).resolve,i&&sT(i)&&(n.data[Jl]=i.title),null)))}(u.route,r,n,e)),nr(()=>s++),Kl(1),(0,Fr.z)(u=>s===i.length?ft(t):ds.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),nr({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),nr(h=>{const p=new Cv(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Zg(u=>{const h=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe(nr(b=>{p.component=b}),(0,nt.U)(()=>{})));for(const b of p.children)_.push(...h(b));return _};return cs(h(u.targetSnapshot.root)).pipe(Th(),jn(1))}),Zg(()=>this.afterPreactivation()),(0,nt.U)(u=>{const h=function xC(n,e,t){const r=Tc(n,e._root,t?t._root:void 0);return new rN(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),nr(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,nt.U)(r=>(new zL(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),nr({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new el(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),ns(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),fs(u=>{if(s=!0,aN(u)){Hg(u)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new tu(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),Hg(u)){const p=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||uT(r.source)};t.scheduleNavigation(p,Uh,null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new tl(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(u))}catch(p){r.reject(p)}}return ds.E}))}))}cancelNavigationTransition(t,r,i){const s=new tu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uT(n){return n!==Uh}let Gv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ht);return r}getResolvedTitleForRoute(t){return t.data[Jl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(RN)},providedIn:"root"}),n})(),RN=(()=>{class n extends Gv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(uc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(jt)},providedIn:"root"}),n})();class ON{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let jt=(()=>{class n extends ON{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wh=new o.OlP("",{providedIn:"root",factory:()=>({})});let dT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(xN)},providedIn:"root"}),n})(),xN=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fT(n){throw n}function PN(n,e,t){return e.parse("/")}const pT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(Wh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||fT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PN,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(dT),this.routeReuseStrategy=(0,o.f3M)(MN),this.urlCreationStrategy=(0,o.f3M)(nN),this.titleStrategy=(0,o.f3M)(Gv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nh((0,o.f3M)(vi,{optional:!0})??[]),this.navigationTransitions=(0,o.f3M)(Kg),this.urlSerializer=(0,o.f3M)(at),this.location=(0,o.f3M)(Pe),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new y,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Uh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ov),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:p}=r,_=p?this.currentUrlTree.fragment:u;let b=null;switch(h){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,b,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ka(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Uh,null,r)}navigate(t,r={skipLocationChange:!1}){return function JL(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new o.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...pT}:!1===r?{...kN}:r,Ka(t))return qa(this.currentUrlTree,t,i);const s=this.parseUrl(t);return qa(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let h,p,_,b;return u?(h=u.resolve,p=u.reject,_=u.promise):_=new Promise((D,S)=>{h=D,p=S}),b="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(D=>Promise.reject(D))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qh=(()=>{class n{constructor(t,r,i,s,u,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new wn.x;const p=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof el&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Zr),o.Y36(Vh),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(dt))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&o.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class mT{}let FN=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof el),na(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,Kt.D)(i).pipe((0,_c.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ft(null);const s=i.pipe((0,Fr.z)(u=>null===u?ft(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Kt.D)([s,u]).pipe((0,_c.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zr),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(mT),o.LFG(jv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vT=new o.OlP("");let LN=(()=>{class n{constructor(t,r,i,s,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof el&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Iv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Iv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Oc(n,e){return{\u0275kind:n,\u0275providers:e}}function Yh(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const r=n.get(Zr),i=n.get(bT);1===n.get(Jg)&&r.initialNavigation(),n.get(wT,null,o.XFs.Optional)?.setUpPreloading(),n.get(vT,null,o.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const bT=new o.OlP("",{factory:()=>new wn.x}),Jg=new o.OlP("",{providedIn:"root",factory:()=>1});const wT=new o.OlP("");function HN(n){return Oc(0,[{provide:wT,useExisting:FN},{provide:mT,useExisting:n}])}const Qg=new o.OlP("ROUTER_FORROOT_GUARD"),t2=[Pe,{provide:at,useClass:yt},Zr,Dc,{provide:Vh,useFactory:function zv(n){return n.routerState.root},deps:[Zr]},jv,[]];function qv(){return new o.PXZ("Router",Zr)}let Zv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[t2,[],{provide:vi,multi:!0,useValue:t},{provide:Qg,useFactory:zN,deps:[[Zr,new o.FiY,new o.tp0]]},{provide:Wh,useValue:r||{}},r?.useHash?{provide:dt,useClass:Ee}:{provide:dt,useClass:Me},{provide:vT,useFactory:()=>{const n=(0,o.f3M)(qu),e=(0,o.f3M)(o.R0b),t=(0,o.f3M)(Wh),r=(0,o.f3M)(Kg),i=(0,o.f3M)(at);return t.scrollOffset&&n.setOffset(t.scrollOffset),new LN(i,r,n,e,t)}},r?.preloadingStrategy?HN(r.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:qv},r?.initialNavigation?CT(r):[],[{provide:TT,useFactory:Yh},{provide:o.tb,multi:!0,useExisting:TT}]]}}static forChild(t){return{ngModule:n,providers:[{provide:vi,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Qg,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[$h]}),n})();function zN(n){return"guarded"}function CT(n){return["disabled"===n.initialNavigation?Oc(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(Zr);return()=>{e.setUpLocationChangeListener()}}},{provide:Jg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Oc(2,[{provide:Jg,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(Zr),u=e.get(bT);(function r(i){e.get(Zr).events.pipe(An(u=>u instanceof el||u instanceof tu||u instanceof tl),(0,nt.U)(u=>u instanceof el||u instanceof tu&&(0===u.code||1===u.code)&&null),An(u=>null!==u),jn(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Kg).afterPreactivation=()=>(i(!0),u.closed?ft(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const TT=new o.OlP("");class sl{}sl.\u0275fac=function(e){return new(e||sl)},sl.\u0275mod=o.oAB({type:sl}),sl.\u0275inj=o.cJS({imports:[Zv.forRoot([]),Zv]});class ol{constructor(e,t,r,i){this.email=e,this.id=t,this._token=r,this._tokenExpirationDate=i}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}var Kh=F(2722),$=F(2090),rt=F(9681),ii=F(1877),Yr=F(4859);class Lc{}class Xg{}class Js{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Js?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Js;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Js?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qN{encodeKey(e){return Kv(e)}encodeValue(e){return Kv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ZN=/%(\d[a-f0-9])/gi,IT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kv(n){return encodeURIComponent(n).replace(ZN,(e,t)=>IT[t]??e)}function em(n){return`${n}`}class al{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qN,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function DT(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(u)||[];p.push(h),t.set(u,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(em):[em(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new al({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(em(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(em(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ST{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function KN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tm(n){return typeof Blob<"u"&&n instanceof Blob}function Jv(n){return typeof FormData<"u"&&n instanceof FormData}class Jh{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function YN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Js),this.context||(this.context=new ST),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new al,this.urlWithParams=t}serializeBody(){return null===this.body?null:KN(this.body)||tm(this.body)||Jv(this.body)||function JN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof al?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jv(this.body)?null:tm(this.body)?this.body.type||null:KN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof al?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,_=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,S)=>D.set(S,e.setHeaders[S]),p)),e.setParams&&(_=Object.keys(e.setParams).reduce((D,S)=>D.set(S,e.setParams[S]),_)),new Jh(t,r,s,{params:_,headers:p,context:b,reportProgress:h,responseType:i,withCredentials:u})}}var Ir=(()=>((Ir=Ir||{})[Ir.Sent=0]="Sent",Ir[Ir.UploadProgress=1]="UploadProgress",Ir[Ir.ResponseHeader=2]="ResponseHeader",Ir[Ir.DownloadProgress=3]="DownloadProgress",Ir[Ir.Response=4]="Response",Ir[Ir.User=5]="User",Ir))();class nm{constructor(e,t=200,r="OK"){this.headers=e.headers||new Js,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Qv extends nm{constructor(e={}){super(e),this.type=Ir.ResponseHeader}clone(e={}){return new Qv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rm extends nm{constructor(e={}){super(e),this.type=Ir.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new rm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class im extends nm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Xv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let e0=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Jh)s=t;else{let p,_;p=i.headers instanceof Js?i.headers:new Js(i.headers),i.params&&(_=i.params instanceof al?i.params:new al({fromObject:i.params})),s=new Jh(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=ft(s).pipe(na(p=>this.handler.handle(p)));if(t instanceof Jh||"events"===i.observe)return u;const h=u.pipe(An(p=>p instanceof rm));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,nt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,nt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,nt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,nt.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new al).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Xv(i,r))}post(t,r,i={}){return this.request("POST",t,Xv(i,r))}put(t,r,i={}){return this.request("PUT",t,Xv(i,r))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Lc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function AT(n,e){return e(n)}function QN(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Io=new o.OlP("HTTP_INTERCEPTORS"),cu=new o.OlP("HTTP_INTERCEPTOR_FNS");function eR(){let n=null;return(e,t)=>(null===n&&(n=((0,o.f3M)(Io,{optional:!0})??[]).reduceRight(QN,AT)),n(e,t))}let NT=(()=>{class n extends Lc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(cu)));this.chain=r.reduceRight((i,s)=>function XN(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),AT)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xg),o.LFG(o.lqb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const t0=/^\)\]\}',?\n/;let n0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Hn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((N,x)=>i.setRequestHeader(N,x.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const N=t.detectContentTypeHeader();null!==N&&i.setRequestHeader("Content-Type",N)}if(t.responseType){const N=t.responseType.toLowerCase();i.responseType="json"!==N?N:"text"}const s=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const N=i.statusText||"OK",x=new Js(i.getAllResponseHeaders()),j=function l2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new Qv({headers:x,status:i.status,statusText:N,url:j}),u},p=()=>{let{headers:N,status:x,statusText:j,url:Y}=h(),me=null;204!==x&&(me=typeof i.response>"u"?i.responseText:i.response),0===x&&(x=me?200:0);let De=x>=200&&x<300;if("json"===t.responseType&&"string"==typeof me){const je=me;me=me.replace(t0,"");try{me=""!==me?JSON.parse(me):null}catch(ke){me=je,De&&(De=!1,me={error:ke,text:me})}}De?(r.next(new rm({body:me,headers:N,status:x,statusText:j,url:Y||void 0})),r.complete()):r.error(new im({error:me,headers:N,status:x,statusText:j,url:Y||void 0}))},_=N=>{const{url:x}=h(),j=new im({error:N,status:i.status||0,statusText:i.statusText||"Unknown Error",url:x||void 0});r.error(j)};let b=!1;const D=N=>{b||(r.next(h()),b=!0);let x={type:Ir.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(x.total=N.total),"text"===t.responseType&&i.responseText&&(x.partialText=i.responseText),r.next(x)},S=N=>{let x={type:Ir.UploadProgress,loaded:N.loaded};N.lengthComputable&&(x.total=N.total),r.next(x)};return i.addEventListener("load",p),i.addEventListener("error",_),i.addEventListener("timeout",_),i.addEventListener("abort",_),t.reportProgress&&(i.addEventListener("progress",D),null!==s&&i.upload&&i.upload.addEventListener("progress",S)),i.send(s),r.next({type:Ir.Sent}),()=>{i.removeEventListener("error",_),i.removeEventListener("abort",_),i.removeEventListener("load",p),i.removeEventListener("timeout",_),t.reportProgress&&(i.removeEventListener("progress",D),null!==s&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Yu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const lm=new o.OlP("XSRF_ENABLED"),r0="XSRF-TOKEN",s0=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>r0}),um="X-XSRF-TOKEN",So=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>um});class Qh{}let cm=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ei(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he),o.LFG(o.Lbi),o.LFG(s0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Xh(n,e){const t=n.url.toLowerCase();if(!(0,o.f3M)(lm)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,o.f3M)(Qh).getToken(),i=(0,o.f3M)(So);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var rr=(()=>((rr=rr||{})[rr.Interceptors=0]="Interceptors",rr[rr.LegacyInterceptors=1]="LegacyInterceptors",rr[rr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",rr[rr.NoXsrfProtection=3]="NoXsrfProtection",rr[rr.JsonpSupport=4]="JsonpSupport",rr[rr.RequestsMadeViaParent=5]="RequestsMadeViaParent",rr))();function du(n,e){return{\u0275kind:n,\u0275providers:e}}function rR(...n){const e=[e0,n0,NT,{provide:Lc,useExisting:NT},{provide:Xg,useExisting:n0},{provide:cu,useValue:Xh,multi:!0},{provide:lm,useValue:!0},{provide:Qh,useClass:cm}];for(const t of n)e.push(...t.\u0275providers);return(0,o.MR2)(e)}const Uc=new o.OlP("LEGACY_INTERCEPTOR_FN");function d2({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:s0,useValue:n}),void 0!==e&&t.push({provide:So,useValue:e}),du(rr.CustomXsrfConfiguration,t)}let sR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[rR(du(rr.LegacyInterceptors,[{provide:Uc,useFactory:eR},{provide:cu,useExisting:Uc,multi:!0}]),d2({cookieName:r0,headerName:um}))]}),n})();var o0=F(6451),la=F(5363);const a0={now:()=>(a0.delegate||Date).now(),delegate:void 0};class l0 extends wn.x{constructor(e=1/0,t=1/0,r=a0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:u}=this;t||(r.push(e),!i&&r.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let u=0;u<s.length&&!e.closed;u+=r?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const u=t.now();let h=0;for(let p=1;p<r.length&&r[p]<=u;p+=2)h=p;h&&r.splice(0,h+1)}}}var oR=F(3099);function MT(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,oR.B)({connector:()=>new l0(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function OT(n,e){return(0,Bi.m)(e)?Fn(()=>n,e):Fn(()=>n)}var ef=F(9468);(0,rt.registerVersion)("firebase","9.17.1","app");var Z=F(5861),hu=F(8766);const u0="@firebase/installations",c0="0.6.3",d0=`w:${c0}`,tf="FIS_v2",Qs=new $.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xT(n){return n instanceof $.ZR&&n.code.includes("request-failed")}function Os({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Bc(n){return{token:n.token,requestStatus:2,expiresIn:Vc(n.expiresIn),creationTime:Date.now()}}function Kr(n,e){return ua.apply(this,arguments)}function ua(){return(ua=(0,Z.Z)(function*(n,e){const r=(yield e.json()).error;return Qs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nf({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ms(n,{refreshToken:e}){const t=nf(n);return t.append("Authorization",function $c(n){return`${tf} ${n}`}(e)),t}function rf(n){return ll.apply(this,arguments)}function ll(){return(ll=(0,Z.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Vc(n){return Number(n.replace("s","000"))}function Hc(n,e){return ul.apply(this,arguments)}function ul(){return(ul=(0,Z.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Os(n),i=nf(n),s=e.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&i.append("x-firebase-client",_)}const h={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:tf,appId:n.appId,sdkVersion:d0})},p=yield rf(()=>fetch(r,h));if(p.ok){const _=yield p.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:Bc(_.authToken)}}throw yield Kr("Create Installation",p)})).apply(this,arguments)}function pu(n){return new Promise(e=>{setTimeout(e,n)})}const Gc=/^[cdef][\w-]{21}$/;function PT(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function kT(n){return function jc(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Gc.test(t)?t:""}catch{return""}}function gu(n){return`${n.appName}!${n.appId}`}const mu=new Map;function h0(n,e){const t=gu(n);f0(t,e),function UT(n,e){const t=function BT(){return!_u&&"BroadcastChannel"in self&&(_u=new BroadcastChannel("[Firebase] FID Change"),_u.onmessage=n=>{f0(n.data.key,n.data.fid)}),_u}();t&&t.postMessage({key:n,fid:e}),function p0(){0===mu.size&&_u&&(_u.close(),_u=null)}()}(t,e)}function f0(n,e){const t=mu.get(n);if(t)for(const r of t)r(e)}let _u=null;const ca="firebase-installations-store";let sf=null;function g0(){return sf||(sf=(0,hu.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ca)}})),sf}function yu(n,e){return zc.apply(this,arguments)}function zc(){return(zc=(0,Z.Z)(function*(n,e){const t=gu(n),i=(yield g0()).transaction(ca,"readwrite"),s=i.objectStore(ca),u=yield s.get(t);return yield s.put(e,t),yield i.done,(!u||u.fid!==e.fid)&&h0(n,e.fid),e})).apply(this,arguments)}function af(n){return m0.apply(this,arguments)}function m0(){return(m0=(0,Z.Z)(function*(n){const e=gu(n),r=(yield g0()).transaction(ca,"readwrite");yield r.objectStore(ca).delete(e),yield r.done})).apply(this,arguments)}function dl(n,e){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,Z.Z)(function*(n,e){const t=gu(n),i=(yield g0()).transaction(ca,"readwrite"),s=i.objectStore(ca),u=yield s.get(t),h=e(u);return void 0===h?yield s.delete(t):yield s.put(h,t),yield i.done,h&&(!u||u.fid!==h.fid)&&h0(n,h.fid),h})).apply(this,arguments)}function hm(n){return fm.apply(this,arguments)}function fm(){return(fm=(0,Z.Z)(function*(n){let e;const t=yield dl(n.appConfig,r=>{const i=_0(r),s=$T(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function _0(n){return b0(n||{fid:PT(),registrationStatus:0})}function $T(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Qs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function HT(n,e){return lf.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jT(n)}:{installationEntry:e}}function lf(){return(lf=(0,Z.Z)(function*(n,e){try{const t=yield Hc(n,e);return yu(n.appConfig,t)}catch(t){throw xT(t)&&409===t.customData.serverCode?yield af(n.appConfig):yield yu(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function jT(n){return y0.apply(this,arguments)}function y0(){return(y0=(0,Z.Z)(function*(n){let e=yield v0(n.appConfig);for(;1===e.registrationStatus;)yield pu(100),e=yield v0(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield hm(n);return r||t}return e})).apply(this,arguments)}function v0(n){return dl(n,e=>{if(!e)throw Qs.create("installation-not-found");return b0(e)})}function b0(n){return function GT(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function zT(n,e){return w0.apply(this,arguments)}function w0(){return(w0=(0,Z.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=WT(n,t),i=ms(n,t),s=e.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&i.append("x-firebase-client",_)}const h={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:d0,appId:n.appId}})},p=yield rf(()=>fetch(r,h));if(p.ok)return Bc(yield p.json());throw yield Kr("Generate Auth Token",p)})).apply(this,arguments)}function WT(n,{fid:e}){return`${Os(n)}/${e}/authTokens:generate`}function pm(n){return uf.apply(this,arguments)}function uf(){return(uf=(0,Z.Z)(function*(n,e=!1){let t;const r=yield dl(n.appConfig,s=>{if(!C0(s))throw Qs.create("not-registered");const u=s.authToken;if(!e&&ZT(u))return s;if(1===u.requestStatus)return t=gm(n,e),s;{if(!navigator.onLine)throw Qs.create("app-offline");const h=KT(s);return t=qT(n,h),h}});return t?yield t:r.authToken})).apply(this,arguments)}function gm(n,e){return mm.apply(this,arguments)}function mm(){return(mm=(0,Z.Z)(function*(n,e){let t=yield E0(n.appConfig);for(;1===t.authToken.requestStatus;)yield pu(100),t=yield E0(n.appConfig);const r=t.authToken;return 0===r.requestStatus?pm(n,e):r})).apply(this,arguments)}function E0(n){return dl(n,e=>{if(!C0(e))throw Qs.create("not-registered");return function ym(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function qT(n,e){return _m.apply(this,arguments)}function _m(){return(_m=(0,Z.Z)(function*(n,e){try{const t=yield zT(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield yu(n.appConfig,r),t}catch(t){if(!xT(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield yu(n.appConfig,r)}else yield af(n.appConfig);throw t}})).apply(this,arguments)}function C0(n){return void 0!==n&&2===n.registrationStatus}function ZT(n){return 2===n.requestStatus&&!function YT(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function KT(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function T0(){return(T0=(0,Z.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield hm(e);return r?r.catch(console.error):pm(e).catch(console.error),t.fid})).apply(this,arguments)}function cf(){return(cf=(0,Z.Z)(function*(n,e=!1){const t=n;return yield vu(t),(yield pm(t,e)).token})).apply(this,arguments)}function vu(n){return df.apply(this,arguments)}function df(){return(df=(0,Z.Z)(function*(n){const{registrationPromise:e}=yield hm(n);e&&(yield e)})).apply(this,arguments)}function pr(n){return Qs.create("missing-app-config-values",{valueName:n})}const I0="installations",yR=n=>{const e=n.getProvider("app").getImmediate(),t=function mR(n){if(!n||!n.options)throw pr("App Configuration");if(!n.name)throw pr("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw pr(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,rt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},JT=n=>{const e=n.getProvider("app").getImmediate(),t=(0,rt._getProvider)(e,I0).getImmediate();return{getId:()=>function hl(n){return T0.apply(this,arguments)}(t),getToken:i=>function fR(n){return cf.apply(this,arguments)}(t,i)}};(function vR(){(0,rt._registerComponent)(new Yr.wA(I0,yR,"PUBLIC")),(0,rt._registerComponent)(new Yr.wA("installations-internal",JT,"PRIVATE"))})(),(0,rt.registerVersion)(u0,c0),(0,rt.registerVersion)(u0,c0,"esm2017");const vm="@firebase/remote-config",QT="remote-config",Vi=new $.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function ER(n=(0,rt.getApp)()){return n=(0,$.m9)(n),(0,rt._getProvider)(n,QT).getImmediate()}class TR{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,Z.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&u.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(u),s})()}}function n1(n=navigator){return n.languages&&n.languages[0]||n.language}class DR{constructor(e,t,r,i,s,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=u}fetch(e){var t=this;return(0,Z.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:n1()},_={method:"POST",headers:h,body:JSON.stringify(p)},b=fetch(u,_),D=new Promise((me,De)=>{e.signal.addEventListener(()=>{const je=new Error("The operation was aborted.");je.name="AbortError",De(je)})});let S;try{yield Promise.race([b,D]),S=yield b}catch(me){let De="fetch-client-network";throw"AbortError"===me?.name&&(De="fetch-timeout"),Vi.create(De,{originalErrorMessage:me?.message})}let N=S.status;const x=S.headers.get("ETag")||void 0;let j,Y;if(200===S.status){let me;try{me=yield S.json()}catch(De){throw Vi.create("fetch-client-parse",{originalErrorMessage:De?.message})}j=me.entries,Y=me.state}if("INSTANCE_STATE_UNSPECIFIED"===Y?N=500:"NO_CHANGE"===Y?N=304:("NO_TEMPLATE"===Y||"EMPTY_CONFIG"===Y)&&(j={}),304!==N&&200!==N)throw Vi.create("fetch-status",{httpStatus:N});return{status:N,eTag:x,config:j}})()}}class Cm{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,Z.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,Z.Z)(function*(){yield function r1(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function i1(n){if(!(n instanceof $.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const u={throttleEndTimeMillis:Date.now()+(0,$.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(u),i.attemptFetch(e,u)}})()}}class o1{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zc(n,e){const t=n.target.error||void 0;return Vi.create(e,{originalErrorMessage:t&&t?.message})}const Ao="app_namespace_store";class c1{constructor(e,t,r,i=function u1(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Zc(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ao,{keyPath:"compositeKey"})}}catch(t){e(Vi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,Z.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const h=r.transaction([Ao],"readonly").objectStore(Ao),p=t.createCompositeKey(e);try{const _=h.get(p);_.onerror=b=>{s(Zc(b,"storage-get"))},_.onsuccess=b=>{const D=b.target.result;i(D?D.value:void 0)}}catch(_){s(Vi.create("storage-get",{originalErrorMessage:_?.message}))}})})()}set(e,t){var r=this;return(0,Z.Z)(function*(){const i=yield r.openDbPromise;return new Promise((s,u)=>{const p=i.transaction([Ao],"readwrite").objectStore(Ao),_=r.createCompositeKey(e);try{const b=p.put({compositeKey:_,value:t});b.onerror=D=>{u(Zc(D,"storage-set"))},b.onsuccess=()=>{s()}}catch(b){u(Vi.create("storage-set",{originalErrorMessage:b?.message}))}})})()}delete(e){var t=this;return(0,Z.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const h=r.transaction([Ao],"readwrite").objectStore(Ao),p=t.createCompositeKey(e);try{const _=h.delete(p);_.onerror=b=>{s(Zc(b,"storage-delete"))},_.onsuccess=()=>{i()}}catch(_){s(Vi.create("storage-delete",{originalErrorMessage:_?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class d1{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Z.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const h=yield i;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function AR(){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,Z.Z)(function*(){if(!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}!function h1(){(0,rt._registerComponent)(new Yr.wA(QT,function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vi.create("registration-window");if(!(0,$.hl)())throw Vi.create("indexed-db-unavailable");const{projectId:s,apiKey:u,appId:h}=r.options;if(!s)throw Vi.create("registration-project-id");if(!u)throw Vi.create("registration-api-key");if(!h)throw Vi.create("registration-app-id");const p=new c1(h,r.name,t=t||"firebase"),_=new d1(p),b=new ii.Yd(vm);b.logLevel=ii.in.ERROR;const D=new DR(i,rt.SDK_VERSION,t,s,u,h),S=new Cm(D,p),N=new TR(S,p,_,b),x=new o1(r,N,_,p,b);return function Xs(n){const e=(0,$.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(x),x},"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(vm,"0.4.3"),(0,rt.registerVersion)(vm,"0.4.3","esm2017")}();const NR="/firebase-messaging-sw.js",RR="/firebase-cloud-messaging-push-scope",f1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",p1="google.c.a.c_id",OR="google.c.a.c_l",xR="google.c.a.ts",g1="google.c.a.e";var Yc=(()=>{return(n=Yc||(Yc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Yc;var n})();function da(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function PR(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const N0="fcm_token_details_db",m1="fcm_token_object_Store";function FR(n){return Im.apply(this,arguments)}function Im(){return Im=(0,Z.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(N0))return null;let e=null;return(yield(0,hu.X3)(N0,5,{upgrade:(r=(0,Z.Z)(function*(i,s,u,h){var p;if(s<2||!i.objectStoreNames.contains(m1))return;const _=h.objectStore(m1),b=yield _.index("fcmSenderId").get(n);if(yield _.clear(),b)if(2===s){const D=b;if(!D.auth||!D.p256dh||!D.endpoint)return;e={token:D.fcmToken,createTime:null!==(p=D.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:da(D.vapidKey)}}}else if(3===s){const D=b;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:da(D.auth),p256dh:da(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:da(D.vapidKey)}}}else if(4===s){const D=b;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:da(D.auth),p256dh:da(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:da(D.vapidKey)}}}}),function(s,u,h,p){return r.apply(this,arguments)})})).close(),yield(0,hu.Lj)(N0),yield(0,hu.Lj)("fcm_vapid_details_db"),yield(0,hu.Lj)("undefined"),_1(e)?e:null;var r}),Im.apply(this,arguments)}function _1(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const fl="firebase-messaging-store";let Sm=null;function Am(){return Sm||(Sm=(0,hu.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(fl)}})),Sm}function R0(n){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Z.Z)(function*(n){const e=O0(n),r=yield(yield Am()).transaction(fl).objectStore(fl).get(e);if(r)return r;{const i=yield FR(n.appConfig.senderId);if(i)return yield pf(n,i),i}})).apply(this,arguments)}function pf(n,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,Z.Z)(function*(n,e){const t=O0(n),i=(yield Am()).transaction(fl,"readwrite");return yield i.objectStore(fl).put(e,t),yield i.done,e})).apply(this,arguments)}function bu(n){return M0.apply(this,arguments)}function M0(){return(M0=(0,Z.Z)(function*(n){const e=O0(n),r=(yield Am()).transaction(fl,"readwrite");yield r.objectStore(fl).delete(e),yield r.done})).apply(this,arguments)}function O0({appConfig:n}){return n.appId}const bi=new $.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function x0(n,e){return b1.apply(this,arguments)}function b1(){return(b1=(0,Z.Z)(function*(n,e){const t=yield k0(n),r=wu(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(P0(n.appConfig),i)).json()}catch(u){throw bi.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(s.error)throw bi.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw bi.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function w1(n,e){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,Z.Z)(function*(n,e){const t=yield k0(n),r=wu(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${P0(n.appConfig)}/${e.token}`,i)).json()}catch(u){throw bi.create("token-update-failed",{errorInfo:u?.toString()})}if(s.error)throw bi.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw bi.create("token-update-no-token");return s.token})).apply(this,arguments)}function LR(n,e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Z.Z)(function*(n,e){const r={method:"DELETE",headers:yield k0(n)};try{const s=yield(yield fetch(`${P0(n.appConfig)}/${e}`,r)).json();if(s.error)throw bi.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw bi.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function P0({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function k0(n){return F0.apply(this,arguments)}function F0(){return(F0=(0,Z.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function wu({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==f1&&(i.web.applicationPubKey=r),i}const UR=6048e5;function Om(n){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,Z.Z)(function*(n){const e=yield D1(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:da(e.getKey("auth")),p256dh:da(e.getKey("p256dh"))},r=yield R0(n.firebaseDependencies);if(r){if(I1(r.subscriptionOptions,t))return Date.now()>=r.createTime+UR?C1(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield LR(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return T1(n.firebaseDependencies,t)}return T1(n.firebaseDependencies,t)})).apply(this,arguments)}function Yn(n){return E1.apply(this,arguments)}function E1(){return(E1=(0,Z.Z)(function*(n){const e=yield R0(n.firebaseDependencies);e&&(yield LR(n.firebaseDependencies,e.token),yield bu(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function C1(n,e){return xm.apply(this,arguments)}function xm(){return(xm=(0,Z.Z)(function*(n,e){try{const t=yield w1(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield pf(n.firebaseDependencies,r),t}catch(t){throw yield Yn(n),t}})).apply(this,arguments)}function T1(n,e){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,Z.Z)(function*(n,e){const r={token:yield x0(n,e),createTime:Date.now(),subscriptionOptions:e};return yield pf(n,r),r.token})).apply(this,arguments)}function D1(n,e){return km.apply(this,arguments)}function km(){return(km=(0,Z.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:PR(e)})})).apply(this,arguments)}function I1(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function S1(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function BR(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function VR(n,e){e.data&&(n.data=e.data)}(e,n),function gf(n,e){var t,r,i,s,u;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const h=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;h&&(n.fcmOptions.link=h);const p=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(e,n),e}function $R(n){return"object"==typeof n&&!!n&&p1 in n}function A1(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Qc(n){return bi.create("missing-app-config-values",{valueName:n})}A1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),A1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class N1{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function HR(n){if(!n||!n.options)throw Qc("App Configuration Object");if(!n.name)throw Qc("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Qc(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function L0(n){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,Z.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(NR,{scope:RR}),n.swRegistration.update().catch(()=>{})}catch(e){throw bi.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function jR(n,e){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,Z.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield L0(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw bi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function mf(n,e){return U0.apply(this,arguments)}function U0(){return(U0=(0,Z.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=f1)})).apply(this,arguments)}function B0(){return(B0=(0,Z.Z)(function*(n,e){if(!navigator)throw bi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bi.create("permission-blocked");return yield mf(n,e?.vapidKey),yield jR(n,e?.serviceWorkerRegistration),Om(n)})).apply(this,arguments)}function M1(n,e,t){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,Z.Z)(function*(n,e,t){const r=O1(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[p1],message_name:t[OR],message_time:t[xR],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function O1(n){switch(n){case Yc.NOTIFICATION_CLICKED:return"notification_open";case Yc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Um(){return(Um=(0,Z.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Yc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(S1(t)):n.onMessageHandler.next(S1(t)));const r=t.data;$R(r)&&"1"===r[g1]&&(yield M1(n,t.messageType,r))})).apply(this,arguments)}const x1="@firebase/messaging",I2=n=>{const e=new N1(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function GR(n,e){return Um.apply(this,arguments)}(e,t)),e},S2=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function R1(n,e){return B0.apply(this,arguments)}(e,r)}};function zR(){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,Z.Z)(function*(){try{yield(0,$.eu)()}catch{return!1}return typeof window<"u"&&(0,$.hl)()&&(0,$.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function k1(n=(0,rt.getApp)()){return zR().then(e=>{if(!e)throw bi.create("unsupported-browser")},e=>{throw bi.create("indexed-db-unsupported")}),(0,rt._getProvider)((0,$.m9)(n),"messaging").getImmediate()}!function A2(){(0,rt._registerComponent)(new Yr.wA("messaging",I2,"PUBLIC")),(0,rt._registerComponent)(new Yr.wA("messaging-internal",S2,"PRIVATE")),(0,rt.registerVersion)(x1,"0.12.3"),(0,rt.registerVersion)(x1,"0.12.3","esm2017")}();const Hm="analytics",M2="firebase_id",ZR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",L1="https://www.googletagmanager.com/gtag/js",gr=new ii.Yd("@firebase/analytics");function U1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function B1(n,e){const t=document.createElement("script");t.src=`${L1}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function V1(n,e,t,r,i,s){return H0.apply(this,arguments)}function H0(){return(H0=(0,Z.Z)(function*(n,e,t,r,i,s){const u=r[i];try{if(u)yield e[u];else{const p=(yield U1(t)).find(_=>_.measurementId===i);p&&(yield e[p.appId])}}catch(h){gr.error(h)}n("config",i,s)})).apply(this,arguments)}function $1(n,e,t,r,i){return j0.apply(this,arguments)}function j0(){return(j0=(0,Z.Z)(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const h=yield U1(t);for(const p of u){const _=h.find(D=>D.measurementId===p),b=_&&e[_.appId];if(!b){s=[];break}s.push(b)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){gr.error(s)}})).apply(this,arguments)}function H1(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(L1)&&t.src.includes(n))return t;return null}const _s=new $.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),G1=new class z0{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function z1(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function XR(n){return W0.apply(this,arguments)}function W0(){return(W0=(0,Z.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:z1(r)},s=ZR.replace("{app-id}",t),u=yield fetch(s,i);if(200!==u.status&&304!==u.status){let h="";try{const p=yield u.json();null!==(e=p.error)&&void 0!==e&&e.message&&(h=p.error.message)}catch{}throw _s.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()})).apply(this,arguments)}function eM(n){return q0.apply(this,arguments)}function q0(){return(q0=(0,Z.Z)(function*(n,e=G1,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw _s.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw _s.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new q1;return setTimeout((0,Z.Z)(function*(){h.abort()}),void 0!==t?t:6e4),W1({appId:r,apiKey:i,measurementId:s},u,h,e)})).apply(this,arguments)}function W1(n,e,t){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,Z.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=G1){var s;const{appId:u,measurementId:h}=n;try{yield tM(r,e)}catch(p){if(h)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw p}try{const p=yield XR(n);return i.deleteThrottleMetadata(u),p}catch(p){const _=p;if(!nM(_)){if(i.deleteThrottleMetadata(u),h)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:h};throw p}const b=503===Number(null===(s=_?.customData)||void 0===s?void 0:s.httpStatus)?(0,$.$s)(t,i.intervalMillis,30):(0,$.$s)(t,i.intervalMillis),D={throttleEndTimeMillis:Date.now()+b,backoffCount:t+1};return i.setThrottleMetadata(u,D),gr.debug(`Calling attemptFetch again in ${b} millis`),W1(n,D,r,i)}})).apply(this,arguments)}function tM(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(_s.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nM(n){if(!(n instanceof $.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class q1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let jm,X0;function Y0(){return(Y0=(0,Z.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function J0(){return(J0=(0,Z.Z)(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}function K1(n){X0=n}function zm(n){jm=n}function iM(){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,Z.Z)(function*(){if(!(0,$.hl)())return gr.warn(_s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,$.eu)()}catch(n){return gr.warn(_s.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function qm(){return(qm=(0,Z.Z)(function*(n,e,t,r,i,s,u){var h;const p=eM(n);p.then(N=>{t[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>gr.error(N)),e.push(p);const _=iM().then(N=>{if(N)return r.getId()}),[b,D]=yield Promise.all([p,_]);H1(s)||B1(s,b.measurementId),X0&&(i("consent","default",X0),K1(void 0)),i("js",new Date);const S=null!==(h=u?.config)&&void 0!==h?h:{};return S.origin="firebase",S.update=!0,null!=D&&(S[M2]=D),i("config",b.measurementId,S),jm&&(i("set",jm),zm(void 0)),b.measurementId})).apply(this,arguments)}class sM{constructor(e){this.app=e}_delete(){return delete pl[this.app.options.appId],Promise.resolve()}}let pl={},eb=[];const Zm={};let J1,No,Ym="dataLayer",vf=!1;function X1(n,e,t){!function Q1(){const n=[];if((0,$.ru)()&&n.push("This is a browser extension environment."),(0,$.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=_s.create("invalid-analytics-context",{errorInfo:e});gr.warn(t.message)}}();const r=n.options.appId;if(!r)throw _s.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw _s.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pl[r])throw _s.create("already-exists",{id:r});if(!vf){!function YR(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Ym);const{wrappedGtag:s,gtagCore:u}=function KR(n,e,t,r,i){let s=function(...u){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function G0(n,e,t,r){function s(){return(s=(0,Z.Z)(function*(u,h,p){try{"event"===u?yield $1(n,e,t,h,p):"config"===u?yield V1(n,e,t,r,h,p):"consent"===u?n("consent","update",p):n("set",h)}catch(_){gr.error(_)}})).apply(this,arguments)}return function i(u,h,p){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(pl,eb,Zm,Ym,"gtag");No=s,J1=u,vf=!0}return pl[r]=function Xc(n,e,t,r,i,s,u){return qm.apply(this,arguments)}(n,eb,Zm,e,J1,Ym,t),new sM(n)}function eD(n=(0,rt.getApp)()){n=(0,$.m9)(n);const e=(0,rt._getProvider)(n,Hm);return e.isInitialized()?e.getImmediate():function aM(n,e={}){const t=(0,rt._getProvider)(n,Hm);if(t.isInitialized()){const i=t.getImmediate();if((0,$.vZ)(e,t.getOptions()))return i;throw _s.create("already-initialized")}return t.initialize({options:e})}(n)}function lM(){return tb.apply(this,arguments)}function tb(){return(tb=(0,Z.Z)(function*(){if((0,$.ru)()||!(0,$.zI)()||!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}function tD(n,e,t){n=(0,$.m9)(n),function rM(n,e,t,r){return J0.apply(this,arguments)}(No,pl[n.app.options.appId],e,t).catch(r=>gr.error(r))}function nD(n,e,t,r){n=(0,$.m9)(n),function Z1(n,e,t,r,i){return Y0.apply(this,arguments)}(No,pl[n.app.options.appId],e,t,r).catch(i=>gr.error(i))}const rD="@firebase/analytics";!function sD(){(0,rt._registerComponent)(new Yr.wA(Hm,(e,{options:t})=>X1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,rt._registerComponent)(new Yr.wA("analytics-internal",function n(e){try{const t=e.getProvider(Hm).getImmediate();return{logEvent:(r,i,s)=>nD(t,r,i,s)}}catch(t){throw _s.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,rt.registerVersion)(rD,"0.9.3"),(0,rt.registerVersion)(rD,"0.9.3","esm2017")}();class oD extends Eh.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const bf={setInterval(n,e,...t){const{delegate:r}=bf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=bf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var aD=F(8737);class lD extends oD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return bf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&bf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,aD.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class wf{constructor(e,t=wf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}wf.now=a0.now;class uD extends wf{constructor(e,t=wf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const hM=new class dM extends uD{}(class cM extends lD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),ed=new uD(lD),cD=ed,rs=new o.GfV("7.5.0"),Qm="__angularfire_symbol__analyticsIsSupportedValue",Xm="__angularfire_symbol__analyticsIsSupported",e_="__angularfire_symbol__remoteConfigIsSupportedValue",nb="__angularfire_symbol__remoteConfigIsSupported",dD="__angularfire_symbol__messagingIsSupportedValue",t_="__angularfire_symbol__messagingIsSupported";globalThis[Xm]||(globalThis[Xm]=lM().then(n=>globalThis[Qm]=n).catch(()=>globalThis[Qm]=!1)),globalThis[t_]||(globalThis[t_]=zR().then(n=>globalThis[dD]=n).catch(()=>globalThis[dD]=!1)),globalThis[nb]||(globalThis[nb]=AR().then(n=>globalThis[e_]=n).catch(()=>globalThis[e_]=!1));const rb=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`,n_={async:()=>globalThis[t_],sync:()=>{const n=globalThis[dD];if(void 0===n)throw new Error(rb("Messaging"));return n}},r_={async:()=>globalThis[nb],sync:()=>{const n=globalThis[e_];if(void 0===n)throw new Error(rb("RemoteConfig"));return n}},i_={async:()=>globalThis[Xm],sync:()=>{const n=globalThis[Qm];if(void 0===n)throw new Error(rb("Analytics"));return n}};function is(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(u=>u.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Ro=(n,e)=>{const t=e?[e]:(0,rt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function gl(){}class to{constructor(e,t=hM){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(u){i.runGuarded(()=>{e.apply(this,[u])})},t,r)}}class fM{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gl,{},gl,gl)),t.pipe(nr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $i=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new to(Zone.current)),this.insideAngular=t.run(()=>new to(Zone.current,ed)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function no(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function pM(n){return no().ngZone.runOutsideAngular(()=>n())}function Cu(n){return no().ngZone.run(()=>n())}function hD(n){return n.pipe((0,la.Q)(no().outsideAngular))}function Jr(n){return no(),function gM(n){return function(t){return(t=t.lift(new fM(n.ngZone))).pipe((0,ef.R)(n.outsideAngular),(0,la.Q)(n.insideAngular))}}(no())(n)}const mM=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Cu(()=>n.apply(void 0,r))},ss=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Cu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gl,{},gl,gl)))),r[s]=mM(r[s],t));const i=pM(()=>n.apply(this,r));if(!e){if(i instanceof Hn.y){const s=no();return i.pipe((0,ef.R)(s.outsideAngular),(0,la.Q)(s.insideAngular))}return Cu(()=>i)}return i instanceof Hn.y?i.pipe(Jr):i instanceof Promise?Cu(()=>new Promise((s,u)=>i.then(h=>Cu(()=>s(h)),h=>Cu(()=>u(h))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Cu(()=>i)};var wi=F(2011);class Hi{constructor(e){return e}}class ro{constructor(){return(0,rt.getApps)()}}const s_=new o.OlP("angularfire2._apps"),ob={provide:Hi,useFactory:function sb(n){return n&&1===n.length?n[0]:new Hi((0,rt.getApp)())},deps:[[new o.FiY,s_]]},ab={provide:ro,deps:[[new o.FiY,s_]]};function _M(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Hi(r)}}let yM=(()=>{class n{constructor(t){(0,rt.registerVersion)("angularfire",rs.full,"core"),(0,rt.registerVersion)("angularfire",rs.full,"app"),(0,rt.registerVersion)("angular",o.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ob,ab]}),n})();const gD=ss(rt.initializeApp,!0),lb=new Map,ub={activated:!1,tokenObservers:[]},mD={initialized:!1,enabled:!1};function si(n){return lb.get(n)||Object.assign({},ub)}function Ef(){return mD}class yD{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Z.Z)(function*(){t.stop();try{t.pending=new $.BH,yield function vD(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ji=new $.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bD(n){if(!si(n).activated)throw ji.create("use-before-activation",{appName:n.name})}function cb(n,e){return db.apply(this,arguments)}function db(){return(db=(0,Z.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const D=yield i.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,h;try{u=yield fetch(n,s)}catch(D){throw ji.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==u.status)throw ji.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(D){throw ji.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}})).apply(this,arguments)}function ED(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const u_="firebase-app-check-store";let c_=null;function gb(){return c_||(c_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ji.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(u_,{keyPath:"compositeKey"})}}catch(t){e(ji.create("storage-open",{originalErrorMessage:t?.message}))}}),c_)}function _b(){return(_b=(0,Z.Z)(function*(n,e){const r=(yield gb()).transaction(u_,"readwrite"),s=r.objectStore(u_).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=p=>{u()},r.onerror=p=>{var _;h(ji.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Tf=new ii.Yd("@firebase/app-check");function vb(n,e){return(0,$.hl)()?function SM(n,e){return function AM(n,e){return _b.apply(this,arguments)}(function TD(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function SD(){return Ef().enabled}function AD(){return f_.apply(this,arguments)}function f_(){return(f_=(0,Z.Z)(function*(){const n=Ef();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ND={error:"UNKNOWN_ERROR"};function RD(n){return $.US.encodeString(JSON.stringify(n),!1)}function Df(n){return p_.apply(this,arguments)}function p_(){return(p_=(0,Z.Z)(function*(n,e=!1){const t=n.app;bD(t);const r=si(t);let s,i=r.token;if(i&&!If(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(If(p)?i=p:yield vb(t,void 0))}if(!e&&i&&If(i))return{token:i.token};let h,u=!1;if(SD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cb(ED(t,yield AD()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const p=yield r.exchangeTokenPromise;return yield vb(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield si(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Tf.warn(p.message):Tf.error(p),s=p}return i?s?h=If(i)?{token:i.token,internalError:s}:xM(s):(h={token:i.token},r.token=i,yield vb(t,i)):h=xM(s),u&&OM(t,h),h})).apply(this,arguments)}function wb(n,e){const t=si(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function MM(n){const{app:e}=n,t=si(e);let r=t.tokenRefresher;r||(r=function MD(n){const{app:e}=n;return new yD((0,Z.Z)(function*(){let r;if(r=si(e).token?yield Df(n,!0):yield Df(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function OM(n,e){const t=si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function If(n){return n.expireTimeMillis-Date.now()>0}function xM(n){return{token:RD(ND),error:n}}class F2{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)wb(this.app,t.next);return Promise.resolve()}}const BM="app-check-internal";!function VM(){(0,rt._registerComponent)(new Yr.wA("app-check",n=>function L2(n,e){return new F2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BM).initialize()})),(0,rt._registerComponent)(new Yr.wA(BM,n=>function U2(n){return{getToken:e=>Df(n,e),addTokenListener:e=>function bb(n,e,t,r){const{app:i}=n,s=si(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&If(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),MM(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>MM(n))}(n,"INTERNAL",e),removeTokenListener:e=>wb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,rt.registerVersion)("@firebase/app-check","0.6.3")}();class ml{constructor(){return Ro("app-check")}}typeof window<"u"&&window,F(9260);const Ib=new o.OlP("angularfire2.auth.use-emulator"),VD=new o.OlP("angularfire2.auth.settings"),y_=new o.OlP("angularfire2.auth.tenant-id"),ha=new o.OlP("angularfire2.auth.langugage-code"),Sb=new o.OlP("angularfire2.auth.use-device-language"),v_=new o.OlP("angularfire.auth.persistence"),Oo=(n,e,t,r,i,s,u,h)=>(0,wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,s&&p.useDeviceLanguage(),u)for(const[_,b]of Object.entries(u))p.settings[_]=b;return h&&p.setPersistence(h),p},[t,r,i,s,u,h]);let Ab=(()=>{class n{constructor(t,r,i,s,u,h,p,_,b,D,S,N){const x=new wn.x,j=ft(void 0).pipe((0,la.Q)(u.outsideAngular),Fn(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,nt.U)(()=>(0,wi.on)(t,s,r)),(0,nt.U)(Y=>Oo(Y,s,h,_,b,D,p,S)),MT({bufferSize:1,refCount:!1}));if(Yp(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ft(null);else{j.pipe(Eo()).subscribe();const me=j.pipe(Fn(ke=>ke.getRedirectResult().then(Ze=>Ze,()=>null)),Jr,MT({bufferSize:1,refCount:!1})),De=j.pipe(Fn(ke=>new Hn.y(Ze=>({unsubscribe:s.runOutsideAngular(()=>ke.onAuthStateChanged(Qe=>Ze.next(Qe),Qe=>Ze.error(Qe),()=>Ze.complete()))})))),je=j.pipe(Fn(ke=>new Hn.y(Ze=>({unsubscribe:s.runOutsideAngular(()=>ke.onIdTokenChanged(Qe=>Ze.next(Qe),Qe=>Ze.error(Qe),()=>Ze.complete()))}))));this.authState=me.pipe(OT(De),(0,ef.R)(u.outsideAngular),(0,la.Q)(u.insideAngular)),this.user=me.pipe(OT(je),(0,ef.R)(u.outsideAngular),(0,la.Q)(u.insideAngular)),this.idToken=this.user.pipe(Fn(ke=>ke?(0,Kt.D)(ke.getIdToken()):ft(null))),this.idTokenResult=this.user.pipe(Fn(ke=>ke?(0,Kt.D)(ke.getIdTokenResult()):ft(null))),this.credential=(0,o0.T)(me,x,this.authState.pipe(An(ke=>!ke))).pipe((0,nt.U)(ke=>ke?.user?ke:null),(0,ef.R)(u.outsideAngular),(0,la.Q)(u.insideAngular))}return(0,wi.pX)(this,j,s,{spy:{apply:(Y,me,De)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&De.then(je=>x.next(je))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(wi.Dh),o.LFG(wi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG($i),o.LFG(Ib,8),o.LFG(VD,8),o.LFG(y_,8),o.LFG(ha,8),o.LFG(Sb,8),o.LFG(v_,8),o.LFG(ml,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function b_(){return(0,kn.e)((n,e)=>{let t,r=!1;n.subscribe((0,En.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function Rf(n,e=us.y){return n=n??YM,(0,kn.e)((t,r)=>{let i,s=!0;t.subscribe((0,En.x)(r,u=>{const h=e(u);(s||!n(i,h))&&(s=!1,i=h,r.next(u))}))})}function YM(n,e){return n===e}F(9568);var bt,Nb=F(3942),Z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xo={},w_=w_||{},Gt=Z2||self;function id(){}function Mf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var E_="closure_uid_"+(1e9*Math.random()>>>0),HD=0;function C_(n,e,t){return n.call.apply(n.bind,arguments)}function T_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ai(n,e,t){return(ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C_:T_).apply(null,arguments)}function D_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function li(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function Tu(){this.s=this.s,this.o=this.o}Tu.prototype.s=!1,Tu.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function $D(n){Object.prototype.hasOwnProperty.call(n,E_)&&n[E_]||(n[E_]=++HD)}(this)},Tu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KM=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function I_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function jD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Mf(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function Ei(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ei.prototype.h=function(){this.defaultPrevented=!0};var JM=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",id,e),Gt.removeEventListener("test",id,e)}catch{}return n}();function Rb(n){return/^[\s\xa0]*$/.test(n)}var QM=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function GD(n,e){return n<e?-1:n>e?1:0}function Mb(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function fa(n){return-1!=Mb().indexOf(n)}function Ob(n){return Ob[" "](n),n}Ob[" "]=id;var N_,n,XM=fa("Opera"),od=fa("Trident")||fa("MSIE"),xb=fa("Edge"),pa=xb||od,Pb=fa("Gecko")&&!(-1!=Mb().toLowerCase().indexOf("webkit")&&!fa("Edge"))&&!(fa("Trident")||fa("MSIE"))&&!fa("Edge"),kb=-1!=Mb().toLowerCase().indexOf("webkit")&&!fa("Edge");function A_(){var n=Gt.document;return n?n.documentMode:void 0}e:{var Of="",xf=(n=Mb(),Pb?/rv:([^\);]+)(\)|;)/.exec(n):xb?/Edge\/([\d\.]+)/.exec(n):od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kb?/WebKit\/(\S+)/.exec(n):XM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xf&&(Of=xf?xf[1]:""),od){var ad=A_();if(null!=ad&&ad>parseFloat(Of)){N_=String(ad);break e}}N_=Of}var K2={};var WD=Gt.document&&od&&(A_()||parseInt(N_,10))||void 0;function Pf(n,e){if(Ei.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Pb){e:{try{Ob(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tO[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pf.X.h.call(this)}}li(Pf,Ei);var tO={2:"touch",3:"pen",4:"mouse"};Pf.prototype.h=function(){Pf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),nO=0;function qD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++nO,this.ba=this.ea=!1}function Ff(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function R_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ZD(n){const e={};for(const t in n)e[t]=n[t];return e}const YD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<YD.length;s++)t=YD[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ld(n){this.src=n,this.g={},this.h=0}function KD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=KM(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ff(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function M_(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}ld.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=M_(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new qD(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var Lf="closure_lm_"+(1e6*Math.random()|0),Lb={};function JD(n,e,t,r,i){if(r&&r.once)return QD(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)JD(n,e[s],t,r,i);return null}return t=nI(t),n&&n[kf]?n.N(e,t,sd(r)?!!r.capture:!!r,i):rO(n,e,t,!1,r,i)}function rO(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=sd(i)?!!i.capture:!!i,h=eI(n);if(h||(n[Lf]=h=new ld(n)),(t=h.add(e,t,r,u,s)).proxy)return t;if(r=function Q2(){const e=X2;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JM||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(iO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function QD(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)QD(n,e[s],t,r,i);return null}return t=nI(t),n&&n[kf]?n.O(e,t,sd(r)?!!r.capture:!!r,i):rO(n,e,t,!0,r,i)}function XD(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)XD(n,e[s],t,r,i);else r=sd(r)?!!r.capture:!!r,t=nI(t),n&&n[kf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=M_(s=n.g[e],t,r,i))&&(Ff(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=eI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=M_(e,t,r,i)),(t=-1<n?e[n]:null)&&Ub(t))}function Ub(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[kf])KD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(iO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=eI(e))?(KD(t,n),0==t.h&&(t.src=null,e[Lf]=null)):Ff(n)}}}function iO(n){return n in Lb?Lb[n]:Lb[n]="on"+n}function X2(n,e){if(n.ba)n=!0;else{e=new Pf(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Ub(n),n=t.call(r,e)}return n}function eI(n){return(n=n[Lf])instanceof ld?n:null}var tI="__closure_events_fn_"+(1e9*Math.random()>>>0);function nI(n){return"function"==typeof n?n:(n[tI]||(n[tI]=function(e){return n.handleEvent(e)}),n[tI])}function Qr(){Tu.call(this),this.i=new ld(this),this.P=this,this.I=null}function Ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ei(e,n);else if(e instanceof Ei)e.target=e.target||n;else{var i=e;Fb(e=new Ei(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=Bb(u,r,!0,e)&&i}if(i=Bb(u=e.g=n,r,!0,e)&&i,i=Bb(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Bb(u=e.g=t[s],r,!1,e)&&i}function Bb(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ba&&u.capture==t){var h=u.listener,p=u.ha||u.src;u.ea&&KD(n.i,u),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}li(Qr,Tu),Qr.prototype[kf]=!0,Qr.prototype.removeEventListener=function(n,e,t,r){XD(this,n,e,t,r)},Qr.prototype.M=function(){if(Qr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ff(t[r]);delete n.g[e],n.h--}}this.I=null},Qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var rI=Gt.JSON.stringify;function eU(){var n=v;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var d,oO=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new a,n=>n.reset());class a{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function l(n){Gt.setTimeout(()=>{throw n},0)}function c(n,e){d||function f(){var n=Gt.Promise.resolve(void 0);d=function(){n.then(C)}}(),g||(d(),g=!0),v.add(n,e)}var g=!1,v=new class sO{constructor(){this.h=this.g=null}add(e,t){const r=oO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function C(){for(var n;n=eU();){try{n.h.call(n.g)}catch(t){l(t)}var e=oO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}g=!1}function T(n,e){Qr.call(this),this.h=n||1,this.g=e||Gt,this.j=ai(this.lb,this),this.l=Date.now()}function I(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function R(n,e,t){if("function"==typeof n)t&&(n=ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:Gt.setTimeout(n,e||0)}function k(n){n.g=R(()=>{n.g=null,n.i&&(n.i=!1,k(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}li(T,Qr),(bt=T.prototype).ca=!1,bt.R=null,bt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ci(this,"tick"),this.ca&&(I(this),this.start()))}},bt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bt.M=function(){T.X.M.call(this),I(this),delete this.g};class W extends Tu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:k(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(n){Tu.call(this),this.h=n,this.g={}}li(ee,Tu);var ge=[];function Ge(n,e,t,r){Array.isArray(t)||(t&&(ge[0]=t.toString()),t=ge);for(var i=0;i<t.length;i++){var s=JD(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Xe(n){R_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ub(e)},n),n.g={}}function pt(){this.g=!0}function Ot(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mr(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return rI(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ee.prototype.M=function(){ee.X.M.call(this),Xe(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pt.prototype.Aa=function(){this.g=!1},pt.prototype.info=function(){};var ud={},tU=null;function iI(){return tU=tU||new Qr}function nU(n){Ei.call(this,ud.Pa,n)}function Vb(n){const e=iI();Ci(e,new nU(e))}function rU(n,e){Ei.call(this,ud.STAT_EVENT,n),this.stat=e}function ys(n){const e=iI();Ci(e,new rU(e,n))}function iU(n,e){Ei.call(this,ud.Qa,n),this.size=e}function $b(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},e)}ud.Pa="serverreachability",li(nU,Ei),ud.STAT_EVENT="statevent",li(rU,Ei),ud.Qa="timingevent",li(iU,Ei);var sI={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function aO(){}function aU(){}aO.prototype.h=null;var cO,Hb={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function lO(){Ei.call(this,"d")}function uO(){Ei.call(this,"c")}function oI(){}function jb(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ee(this),this.O=KW,this.T=new T(n=pa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new lU}function lU(){this.i=null,this.g="",this.h=!1}li(lO,Ei),li(uO,Ei),li(oI,aO),oI.prototype.g=function(){return new XMLHttpRequest},oI.prototype.i=function(){return{}},cO=new oI;var KW=45e3,dO={},aI={};function hO(n,e,t){n.K=1,n.v=dI(Du(e)),n.s=t,n.P=!0,uU(n,null)}function uU(n,e){n.F=Date.now(),Gb(n),n.A=Du(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),vU(t.i,"t",r),n.C=0,t=n.l.H,n.h=new lU,n.g=jU(n.l,t?e:null,!n.s),0<n.N&&(n.L=new W(ai(n.La,n,n.g),n.N)),Ge(n.S,n.g,"readystatechange",n.ib),e=n.H?ZD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vb(),function Mt(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");u=2<=D.length&&"type"==D[1]?u+(b+"=")+_+"&":u+(b+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function cU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function dU(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=JW(n,t),i==aI){4==e&&(n.o=4,ys(14),r=!1),Ot(n.j,n.m,null,"[Incomplete Response]");break}if(i==dO){n.o=4,ys(15),Ot(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ot(n.j,n.m,i,null),fO(n,i)}cU(n)&&i!=aI&&i!=dO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ys(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),wO(e),e.K=!0,ys(11))):(Ot(n.j,n.m,t,"[Invalid Chunked Response]"),Uf(n),zb(n))}function JW(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?aI:(t=Number(e.substring(t,r)),isNaN(t)?dO:(r+=1)+t>e.length?aI:(e=e.substr(r,t),n.C=r+t,e))}function Gb(n){n.V=Date.now()+n.O,hU(n,n.O)}function hU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$b(ai(n.gb,n),e)}function lI(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function zb(n){0==n.l.G||n.I||BU(n.l,n)}function Uf(n){lI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,I(n.T),Xe(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function fO(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pO(t.h,n)))if(!n.J&&pO(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;_I(t),gI(t)}bO(t),ys(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=$b(ai(t.cb,t),6e3));if(1>=EU(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Vf(t,11)}else if((n.J||t.g==n)&&_I(t),!Rb(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const b=_[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const D=_[4];null!=D&&(t.Ca=D,t.j.info("SVER="+t.Ca));const S=_[5];null!=S&&"number"==typeof S&&0<S&&(t.J=r=1.5*S,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const x=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var s=r.h;s.g||-1==x.indexOf("spdy")&&-1==x.indexOf("quic")&&-1==x.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gO(s,s.h),s.h=null))}if(r.D){const j=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(r.za=j,ir(r.F,r.D,j))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=HU(r,r.H?r.ka:null,r.V),u.J){CU(r.h,u);var h=u,p=r.J;p&&h.setTimeout(p),h.B&&(lI(h),Gb(h)),r.g=u}else LU(r);0<t.i.length&&mI(t)}else"stop"!=_[0]&&"close"!=_[0]||Vf(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Vf(t,7):vO(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}Vb()}catch{}}function fU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Mf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function XW(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Mf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function QW(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Mf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(bt=jb.prototype).setTimeout=function(n){this.O=n},bt.ib=function(n){n=n.target;const e=this.L;e&&3==Iu(n)?e.l():this.La(n)},bt.La=function(n){try{if(n==this.g)e:{const b=Iu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||pa||this.g&&(this.h.h||this.g.fa()||MU(this.g)))){this.I||4!=b||7==e||Vb(),lI(this);var t=this.g.aa();this.Y=t;t:if(cU(this)){var r=MU(this.g);n="";var i=r.length,s=4==Iu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uf(this),zb(this);var u="";break t}this.h.i=new Gt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function Oe(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rb(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,ys(12),Uf(this),zb(this);break e}Ot(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fO(this,t)}this.P?(dU(this,b,u),pa&&this.i&&3==b&&(Ge(this.S,this.T,"tick",this.hb),this.T.start())):(Ot(this.j,this.m,u,null),fO(this,u)),4==b&&Uf(this),this.i&&!this.I&&(4==b?BU(this.l,this):(this.i=!1,Gb(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,ys(12)):(this.o=0,ys(13)),Uf(this),zb(this)}}}catch{}},bt.hb=function(){if(this.g){var n=Iu(this.g),e=this.g.fa();this.C<e.length&&(lI(this),dU(this,n,e),this.i&&4!=n&&Gb(this))}},bt.cancel=function(){this.I=!0,Uf(this)},bt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Gn(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vb(),ys(17)),Uf(this),this.o=2,zb(this)):hU(this,this.V-n)};var pU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bf){this.h=void 0!==e?e:n.h,uI(this,n.j),this.s=n.s,this.g=n.g,cI(this,n.m),this.l=n.l,e=n.i;var t=new Zb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gU(this,t),this.o=n.o}else n&&(t=String(n).match(pU))?(this.h=!!e,uI(this,t[1]||"",!0),this.s=Wb(t[2]||""),this.g=Wb(t[3]||"",!0),cI(this,t[4]),this.l=Wb(t[5]||"",!0),gU(this,t[6]||"",!0),this.o=Wb(t[7]||"")):(this.h=!!e,this.i=new Zb(null,this.h))}function Du(n){return new Bf(n)}function uI(n,e,t){n.j=t?Wb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gU(n,e,t){e instanceof Zb?(n.i=e,function oq(n,e){e&&!n.j&&(cd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_U(this,r),vU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qb(e,iq)),n.i=new Zb(e,n.h))}function ir(n,e,t){n.i.set(e,t)}function dI(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tq),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qb(e,mU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qb(e,mU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qb(t,"/"==t.charAt(0)?rq:nq,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qb(t,sq)),n.join("")};var mU=/[#\/\?@]/g,nq=/[#\?:]/g,rq=/[#\?]/g,iq=/[#\?@]/g,sq=/#/g;function Zb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cd(n){n.g||(n.g=new Map,n.h=0,n.i&&function eq(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _U(n,e){cd(n),e=O_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yU(n,e){return cd(n),e=O_(n,e),n.g.has(e)}function vU(n,e,t){_U(n,e),0<t.length&&(n.i=null,n.g.set(O_(n,e),I_(t)),n.h+=t.length)}function O_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bU(n){this.l=n||lq,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ga&&Gt.g.Ga()&&Gt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(bt=Zb.prototype).add=function(n,e){cd(this),this.i=null,n=O_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},bt.forEach=function(n,e){cd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},bt.oa=function(){cd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},bt.W=function(n){cd(this);let e=[];if("string"==typeof n)yU(this,n)&&(e=e.concat(this.g.get(O_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},bt.set=function(n,e){return cd(this),this.i=null,yU(this,n=O_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},bt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var lq=10;function wU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EU(n){return n.h?1:n.g?n.g.size:0}function pO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gO(n,e){n.g?n.g.add(e):n.h=e}function CU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return I_(n.i)}function mO(){}function uq(){this.g=new mO}function cq(n,e,t){const r=t||"";try{fU(n,function(i,s){let u=i;sd(i)&&(u=rI(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Yb(n){this.l=n.ac||null,this.j=n.jb||!1}function fI(n,e){Qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=_O,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bU.prototype.cancel=function(){if(this.i=TU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mO.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},mO.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},li(Yb,aO),Yb.prototype.g=function(){return new fI(this.l,this.j)},Yb.prototype.i=function(n){return function(){return n}}({}),li(fI,Qr);var _O=0;function DU(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Kb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jb(n)}function Jb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(bt=fI.prototype).open=function(n,e){if(this.readyState!=_O)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jb(this)},bt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Gt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kb(this)),this.readyState=_O},bt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jb(this)),this.g&&(this.readyState=3,Jb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DU(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},bt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kb(this):Jb(this),3==this.readyState&&DU(this)}},bt.Va=function(n){this.g&&(this.response=this.responseText=n,Kb(this))},bt.Ua=function(n){this.g&&(this.response=n,Kb(this))},bt.ga=function(){this.g&&Kb(this)},bt.setRequestHeader=function(n,e){this.v.append(n,e)},bt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},bt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hq=Gt.JSON.parse;function Sr(n){Qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IU,this.K=this.L=!1}li(Sr,Qr);var IU="",fq=/^https?$/i,pq=["POST","PUT"];function SU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,AU(n),pI(n)}function AU(n){n.D||(n.D=!0,Ci(n,"complete"),Ci(n,"error"))}function NU(n){if(n.h&&typeof w_<"u"&&(!n.C[1]||4!=Iu(n)||2!=n.aa()))if(n.v&&4==Iu(n))R(n.Ha,0,n);else if(Ci(n,"readystatechange"),4==Iu(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(pU)[1]||null;if(!i&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;i=s.substr(0,s.length-1)}r=!fq.test(i?i.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var u=2<Iu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",AU(n)}}finally{pI(n)}}}function pI(n,e){if(n.g){RU(n);const t=n.g,r=n.C[0]?id:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function RU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function Iu(n){return n.g?n.g.readyState:0}function MU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case IU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function OU(n){let e="";return R_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function yO(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=OU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function Qb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xU(n){this.Ca=0,this.i=[],this.j=new pt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Qb("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Qb("baseRetryDelayMs",5e3,n),this.bb=Qb("retryDelaySeedMs",1e4,n),this.$a=Qb("forwardChannelMaxRetries",2,n),this.ta=Qb("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new bU(n&&n.concurrentRequestLimit),this.Fa=new uq,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vO(n){if(PU(n),3==n.G){var e=n.U++,t=Du(n.F);ir(t,"SID",n.I),ir(t,"RID",e),ir(t,"TYPE","terminate"),Xb(n,t),(e=new jb(n,n.j,e,void 0)).K=2,e.v=dI(Du(t)),t=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(t=Gt.navigator.sendBeacon(e.v.toString(),"")),!t&&Gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jU(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gb(e)}$U(n)}function gI(n){n.g&&(wO(n),n.g.cancel(),n.g=null)}function PU(n){gI(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),_I(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function mI(n){wU(n.h)||n.m||(n.m=!0,c(n.Ja,n),n.C=0)}function kU(n,e){var t;t=e?e.m:n.U++;const r=Du(n.F);ir(r,"SID",n.I),ir(r,"RID",t),ir(r,"AID",n.T),Xb(n,r),n.o&&n.s&&yO(r,n.o,n.s),t=new jb(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=FU(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),gO(n.h,t),hO(t,r,e)}function Xb(n,e){n.ia&&R_(n.ia,function(t,r){ir(e,r,t)}),n.l&&fU({},function(t,r){ir(e,r,t)})}function FU(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ai(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let _=i[p].h;const b=i[p].g;if(_-=s,0>_)s=Math.max(0,i[p].h-100),h=!1;else try{cq(b,u,"req"+_+"_")}catch{r&&r(b)}}if(h){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function LU(n){n.g||n.u||(n.Z=1,c(n.Ia,n),n.A=0)}function bO(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=$b(ai(n.Ia,n),VU(n,n.A)),n.A++,0))}function wO(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function UU(n){n.g=new jb(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Du(n.sa);ir(e,"RID","rpc"),ir(e,"SID",n.I),ir(e,"CI",n.L?"0":"1"),ir(e,"AID",n.T),ir(e,"TYPE","xmlhttp"),Xb(n,e),n.o&&n.s&&yO(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=dI(Du(e)),t.s=null,t.P=!0,uU(t,n)}function _I(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function BU(n,e){var t=null;if(n.g==e){_I(n),wO(n),n.g=null;var r=2}else{if(!pO(n.h,e))return;t=e.D,CU(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ci(r=iI(),new iU(r,t)),mI(n)}else LU(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function mq(n,e){return!(EU(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=$b(ai(n.Ja,n,e),VU(n,n.C)),n.C++,0)))}(n,e)||2==r&&bO(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Vf(n,5);break;case 4:Vf(n,10);break;case 3:Vf(n,6);break;default:Vf(n,2)}}function VU(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Vf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ai(n.kb,n);t||(t=new Bf("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||uI(t,"https"),dI(t)),function dq(n,e){const t=new pt;if(Gt.Image){const r=new Image;r.onload=D_(hI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=D_(hI,t,r,"TestLoadImage: error",!1,e),r.onabort=D_(hI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=D_(hI,t,r,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ys(2);n.G=0,n.l&&n.l.va(e),$U(n),PU(n)}function $U(n){if(n.G=0,n.la=[],n.l){const e=TU(n.h);(0!=e.length||0!=n.i.length)&&(jD(n.la,e),jD(n.la,n.i),n.h.i.length=0,I_(n.i),n.i.length=0),n.l.ua()}}function HU(n,e,t){var r=t instanceof Bf?Du(t):new Bf(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),cI(r,r.m);else{var i=Gt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Bf(null,void 0);r&&uI(s,r),e&&(s.g=e),i&&cI(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&ir(r,t,e),ir(r,"VER",n.ma),Xb(n,r),r}function jU(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sr(t&&n.Da&&!n.ra?new Yb({jb:!0}):n.ra)).Ka(n.H),e}function GU(){}function yI(){if(od&&!(10<=Number(WD)))throw Error("Environmental error: no available transport.")}function io(n,e){Qr.call(this),this.g=new xU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Rb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rb(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new x_(this)}function zU(n){lO.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WU(){uO.call(this),this.status=1}function x_(n){this.g=n}(bt=Sr.prototype).Ka=function(n){this.L=n},bt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cO.g(),this.C=function oU(n){return n.h||(n.h=n.i())}(this.u?this.u:cO),this.g.onreadystatechange=ai(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void SU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Gt.FormData&&n instanceof Gt.FormData,!(0<=KM(pq,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RU(this),0<this.B&&((this.K=function gq(n){return od&&function J2(){return function S_(n){var e=K2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=QM(String(N_)).split("."),t=QM("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",s=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=GD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||GD(0==i[2].length,0==s[2].length)||GD(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ai(this.qa,this)):this.A=R(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){SU(this,s)}},bt.qa=function(){typeof w_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},bt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),pI(this))},bt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pI(this,!0)),Sr.X.M.call(this)},bt.Ha=function(){this.s||(this.F||this.v||this.l?NU(this):this.fb())},bt.fb=function(){NU(this)},bt.aa=function(){try{return 2<Iu(this)?this.g.status:-1}catch{return-1}},bt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},bt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hq(e)}},bt.Ea=function(){return this.m},bt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(bt=xU.prototype).ma=8,bt.G=1,bt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new jb(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=ZD(s),Fb(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FU(this,i,e),ir(t=Du(this.F),"RID",n),ir(t,"CVER",22),this.D&&ir(t,"X-HTTP-Session-Id",this.D),Xb(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(OU(s)))+"&"+e:this.o&&yO(t,this.o,s)),gO(this.h,i),this.Ya&&ir(t,"TYPE","init"),this.O?(ir(t,"$req",e),ir(t,"SID","null"),i.Z=!0,hO(i,t,null)):hO(i,t,e),this.G=2}}else 3==this.G&&(n?kU(this,n):0==this.i.length||wU(this.h)||kU(this))},bt.Ia=function(){if(this.u=null,UU(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=$b(ai(this.eb,this),n)}},bt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ys(10),gI(this),UU(this))},bt.cb=function(){null!=this.v&&(this.v=null,gI(this),bO(this),ys(19))},bt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ys(2)):(this.j.info("Failed to ping google.com"),ys(1))},(bt=GU.prototype).xa=function(){},bt.wa=function(){},bt.va=function(){},bt.ua=function(){},bt.Ra=function(){},yI.prototype.g=function(n,e){return new io(n,e)},li(io,Qr),io.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ys(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=HU(n,null,n.V),mI(n)},io.prototype.close=function(){vO(this.g)},io.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=rI(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&mI(e)},io.prototype.M=function(){this.g.l=null,delete this.j,vO(this.g),delete this.g,io.X.M.call(this)},li(zU,lO),li(WU,uO),li(x_,GU),x_.prototype.xa=function(){Ci(this.g,"a")},x_.prototype.wa=function(n){Ci(this.g,new zU(n))},x_.prototype.va=function(n){Ci(this.g,new WU)},x_.prototype.ua=function(){Ci(this.g,"b")},yI.prototype.createWebChannel=yI.prototype.g,io.prototype.send=io.prototype.u,io.prototype.open=io.prototype.m,io.prototype.close=io.prototype.close,sI.NO_ERROR=0,sI.TIMEOUT=8,sI.HTTP_ERROR=6,sU.COMPLETE="complete",aU.EventType=Hb,Hb.OPEN="a",Hb.CLOSE="b",Hb.ERROR="c",Hb.MESSAGE="d",Qr.prototype.listen=Qr.prototype.N,Sr.prototype.listenOnce=Sr.prototype.O,Sr.prototype.getLastError=Sr.prototype.Oa,Sr.prototype.getLastErrorCode=Sr.prototype.Ea,Sr.prototype.getStatus=Sr.prototype.aa,Sr.prototype.getResponseJson=Sr.prototype.Sa,Sr.prototype.getResponseText=Sr.prototype.fa,Sr.prototype.send=Sr.prototype.da,Sr.prototype.setWithCredentials=Sr.prototype.Ka;var _q=xo.createWebChannelTransport=function(){return new yI},yq=xo.getStatEventTarget=function(){return iI()},EO=xo.ErrorCode=sI,vq=xo.EventType=sU,bq=xo.Event=ud,qU=xo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wq=xo.FetchXmlHttpFactory=Yb,vI=xo.WebChannel=aU,Eq=xo.XhrIo=Sr;const ZU="@firebase/firestore";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let P_="9.17.1";const dd=new ii.Yd("@firebase/firestore");function CO(){return dd.logLevel}function He(n,...e){if(dd.logLevel<=ii.in.DEBUG){const t=e.map(TO);dd.debug(`Firestore (${P_}): ${n}`,...t)}}function Br(n,...e){if(dd.logLevel<=ii.in.ERROR){const t=e.map(TO);dd.error(`Firestore (${P_}): ${n}`,...t)}}function $f(n,...e){if(dd.logLevel<=ii.in.WARN){const t=e.map(TO);dd.warn(`Firestore (${P_}): ${n}`,...t)}}function TO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${P_}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function Ct(n,e){n||gt()}function lt(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends $.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ti.UNAUTHENTICATED))}shutdown(){}}class Iq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sq{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=u;e.enqueueRetryable((0,Z.Z)(function*(){yield _.promise,yield s(r.currentUser)}))},p=_=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new YU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Ti(e)}}class Aq{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Nq{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Aq(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rq{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,He("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.A=t.token,new KU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Mq(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class JU{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Mq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function zt(n,e){return n<e?-1:n>e?1:0}function k_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function QU(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new sr(0,0))}static max(){return new At(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ew{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ew.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ew?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends ew{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const Oq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends ew{construct(e,t,r){return new Ar(e,t,r)}static isValidIdentifier(e){return Oq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Re(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Re(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(s(),i++)}if(s(),u)throw new Re(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(t)}static emptyPath(){return new Ar([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(gn.fromString(e))}static fromName(e){return new et(gn.fromString(e).popFirst(5))}static empty(){return new et(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new gn(e.slice()))}}class bI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function DO(n){return n.fields.find(e=>2===e.kind)}function Hf(n){return n.fields.filter(e=>2!==e.kind)}bI.UNKNOWN_ID=-1;class wI{constructor(e,t){this.fieldPath=e,this.kind=t}}class tw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tw(0,so.min())}}function XU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(1e9===r?new sr(t+1,0):new sr(t,r));return new so(i,et.empty(),e)}function eB(n){return new so(n.readTime,n.key,-1)}class so{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new so(At.min(),et.empty(),-1)}static max(){return new so(At.max(),et.empty(),-1)}}function IO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const tB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hd(n){return SO.apply(this,arguments)}function SO(){return SO=(0,Z.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==tB)throw n;He("LocalStore","Unexpectedly lost primary lease")}),SO.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,s=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++s,u&&s===i&&t()},p=>r(p))}),u=!0,s===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const s=e.length,u=new Array(s);let h=0;for(let p=0;p<s;p++){const _=p;t(e[_]).next(b=>{u[_]=b,++h,h===s&&r(u)},b=>i(b))}})}static doWhile(e,t){return new ae((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class EI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ui,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new nw(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=AO(r.target.error);this.P.reject(new nw(e,i))}}static open(e,t,r,i){try{return new EI(t,e.transaction(i,r))}catch(s){throw new nw(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fq(t)}}class ga{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===ga.D((0,$.z$)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),jf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,$.hl)())return!1;if(ga.N())return!0;const e=(0,$.z$)(),t=ga.D(e),r=0<t&&t<10,i=ga.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Z.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{r(u.target.result)},s.onblocked=()=>{i(new nw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new Re(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new nw(e,h))},s.onupgradeneeded=u=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Z.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.F(e);const p=EI.open(s.db,e,u?"readonly":"readwrite",r),_=i(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),ae.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&h<3;if(He("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kq{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return jf(this.q.delete())}}class nw extends Re{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fd(n){return"IndexedDbTransactionError"===n.name}class Fq{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),jf(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),jf(this.store.add(e))}get(e){return jf(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),jf(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),jf(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.H(i,(u,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new ae((s,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,s)=>{r.onerror=u=>{s(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=s=>{const u=AO(s.target.error);i(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}H(e,t){const r=[];return new ae((i,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const p=new kq(h),_=t(h.primaryKey,h.value,p);if(_ instanceof ae){const b=_.catch(D=>(p.done(),ae.reject(D)));r.push(b)}p.isDone?i():null===p.G?h.continue():h.continue(p.G)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jf(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=AO(r.target.error);t(i)}})}let rB=!1;function AO(n){const e=ga.D((0,$.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rB||(rB=!0,setTimeout(()=>{throw r},0)),r}}return n}class Lq{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Z.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){fd(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield hd(r)}yield t.nt(6e4)}))}}class Uq{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Z.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,s=!0;return ae.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return He("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(h=>{i-=h,r.add(u)});s=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,s)).next(h=>(He("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,s)=>{const u=eB(s);IO(u,r)>0&&(r=u)}),new so(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let oo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Bq{constructor(e,t,r,i,s,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class pd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pd&&e.projectId===this.projectId&&e.database===this.database}}function iB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rw(n){return null==n}function iw(n){return 0===n&&1/n==-1/0}function oB(n){return"number"==typeof n&&Number.isInteger(n)&&!iw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ci(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const $q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gd(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=$q.exec(n);if(Ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zf(n){return"string"==typeof n?ci.fromBase64String(n):ci.fromUint8Array(n)}function NO(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function aB(n){const e=n.mapValue.fields.__previous_value__;return NO(e)?aB(e):e}function sw(n){const e=gd(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}const md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CI={nullValue:"NULL_VALUE"};function Wf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NO(n)?4:dB(n)?9007199254740991:10:gt()}function _l(n,e){if(n===e)return!0;const t=Wf(n);if(t!==Wf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sw(n).isEqual(sw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=gd(r.timestampValue),u=gd(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,zf(n.bytesValue).isEqual(zf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Nr(r.geoPointValue.latitude)===Nr(i.geoPointValue.latitude)&&Nr(r.geoPointValue.longitude)===Nr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Nr(r.integerValue)===Nr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Nr(r.doubleValue),u=Nr(i.doubleValue);return s===u?iw(s)===iw(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return k_(n.arrayValue.values||[],e.arrayValue.values||[],_l);case 10:return function(r,i){const s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(iB(s)!==iB(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!_l(s[h],u[h])))return!1;return!0}(n,e);default:return gt()}var i}function ow(n,e){return void 0!==(n.values||[]).find(t=>_l(t,e))}function _d(n,e){if(n===e)return 0;const t=Wf(n),r=Wf(e);if(t!==r)return zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const u=Nr(i.integerValue||i.doubleValue),h=Nr(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return lB(n.timestampValue,e.timestampValue);case 4:return lB(sw(n),sw(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(i,s){const u=zf(i),h=zf(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),h=s.split("/");for(let p=0;p<u.length&&p<h.length;p++){const _=zt(u[p],h[p]);if(0!==_)return _}return zt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const u=zt(Nr(i.latitude),Nr(s.latitude));return 0!==u?u:zt(Nr(i.longitude),Nr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const u=i.values||[],h=s.values||[];for(let p=0;p<u.length&&p<h.length;++p){const _=_d(u[p],h[p]);if(_)return _}return zt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===md.mapValue&&s===md.mapValue)return 0;if(i===md.mapValue)return 1;if(s===md.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let b=0;b<h.length&&b<_.length;++b){const D=zt(h[b],_[b]);if(0!==D)return D;const S=_d(u[h[b]],p[_[b]]);if(0!==S)return S}return zt(h.length,_.length)}(n.mapValue,e.mapValue);default:throw gt()}}function lB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=gd(n),r=gd(e),i=zt(t.seconds,r.seconds);return 0!==i?i:zt(t.nanos,r.nanos)}function F_(n){return RO(n)}function RO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=gd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zf(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const u of r.values||[])s?s=!1:i+=",",i+=RO(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",u=!0;for(const h of i)u?u=!1:s+=",",s+=`${h}:${RO(r.fields[h])}`;return s+"}"}(n.mapValue):gt();var e}function qf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function MO(n){return!!n&&"integerValue"in n}function aw(n){return!!n&&"arrayValue"in n}function uB(n){return!!n&&"nullValue"in n}function cB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function TI(n){return!!n&&"mapValue"in n}function lw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hq(n){return"nullValue"in n?CI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qf(pd.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function jq(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qf(pd.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?md:gt()}function hB(n,e){const t=_d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fB(n,e){const t=_d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class yd{constructor(e,t){this.position=e,this.inclusive=t}}function pB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?et.comparator(et.fromName(u.referenceValue),t.key):_d(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_l(n.position[t],e.position[t]))return!1;return!0}class mB{}class ln extends mB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Gq(e,t,r):"array-contains"===t?new qq(e,r):"in"===t?new EB(e,r):"not-in"===t?new Zq(e,r):"array-contains-any"===t?new Yq(e,r):new ln(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new zq(e,r):new Wq(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_d(t,this.value)):null!==t&&Wf(this.value)===Wf(t)&&this.matchesComparison(_d(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class On extends mB{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new On(e,t)}matches(e){return L_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function L_(n){return"and"===n.op}function OO(n){return"or"===n.op}function xO(n){return _B(n)&&L_(n)}function _B(n){for(const e of n.filters)if(e instanceof On)return!1;return!0}function PO(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+F_(n.value);if(xO(n))return n.filters.map(e=>PO(e)).join(",");{const e=n.filters.map(t=>PO(t)).join(",");return`${n.op}(${e})`}}function yB(n,e){return n instanceof ln?(t=n,(r=e)instanceof ln&&t.op===r.op&&t.field.isEqual(r.field)&&_l(t.value,r.value)):n instanceof On?function(t,r){return r instanceof On&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,u)=>i&&yB(s,r.filters[u]),!0)}(n,e):void gt();var t,r}function vB(n,e){const t=n.filters.concat(e);return On.create(t,n.op)}function bB(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${F_(e.value)}`:n instanceof On?function(e){return e.op.toString()+" {"+e.getFilters().map(bB).join(" ,")+"}"}(n):"Filter";var e}class Gq extends ln{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class zq extends ln{constructor(e,t){super(e,"in",t),this.keys=wB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wq extends ln{constructor(e,t){super(e,"not-in",t),this.keys=wB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class qq extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return aw(t)&&ow(t.arrayValue,this.value)}}class EB extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ow(this.value.arrayValue,t)}}class Zq extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(ow(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ow(this.value.arrayValue,t)}}class Yq extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!aw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ow(this.value.arrayValue,r))}}class U_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Kq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Rr{constructor(e,t){this.comparator=e,this.root=t||Gi.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new DI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new DI(this.root,e,this.comparator,!1)}getReverseIterator(){return new DI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new DI(this.root,e,this.comparator,!0)}}class DI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Gi.RED,this.left=i??Gi.EMPTY,this.right=s??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Gi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1,Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CB(this.data.getIterator())}getIteratorFrom(e){return new CB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ln(this.comparator);return t.data=e,t}}class CB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function B_(n){return n.hasNext()?n.getNext():void 0}class Fs{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new Fs([])}unionWith(e){let t=new Ln(Ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return k_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class zi{constructor(e){this.value=e}static empty(){return new zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!TI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lw(t)}setAll(e){let t=Ar.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=lw(u):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());TI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];TI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Gf(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zi(lw(this.value))}}function TB(n){const e=[];return Gf(n.fields,(t,r)=>{const i=new Ar([t]);if(TI(r)){const s=TB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new Fs(e)}class Kn{constructor(e,t,r,i,s,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Kn(e,0,At.min(),At.min(),At.min(),zi.empty(),0)}static newFoundDocument(e,t,r,i){return new Kn(e,1,t,At.min(),r,i,0)}static newNoDocument(e,t){return new Kn(e,2,t,At.min(),At.min(),zi.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,At.min(),At.min(),zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jq{constructor(e,t=null,r=[],i=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=h,this.ft=null}}function kO(n,e=null,t=[],r=[],i=null,s=null,u=null){return new Jq(n,e,t,r,i,s,u)}function Zf(n){const e=lt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>PO(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),rw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>F_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>F_(r)).join(",")),e.ft=t}return e.ft}function uw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Kq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gB(n.startAt,e.startAt)&&gB(n.endAt,e.endAt)}function II(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function SI(n,e){return n.filters.filter(t=>t instanceof ln&&t.field.isEqual(e))}function DB(n,e,t){let r=CI,i=!0;for(const s of SI(n,e)){let u=CI,h=!0;switch(s.op){case"<":case"<=":u=Hq(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=CI}hB({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];hB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function IB(n,e,t){let r=md,i=!0;for(const s of SI(n,e)){let u=md,h=!0;switch(s.op){case">=":case">":u=jq(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=md}fB({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];fB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Su{constructor(e,t=null,r=[],i=[],s=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=p,this.dt=null,this._t=null}}function SB(n,e,t,r,i,s,u,h){return new Su(n,e,t,r,i,s,u,h)}function V_(n){return new Su(n)}function AB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function FO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function AI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function LO(n){return null!==n.collectionGroup}function Yf(n){const e=lt(n);if(null===e.dt){e.dt=[];const t=AI(e),r=FO(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new U_(t)),e.dt.push(new U_(Ar.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new U_(Ar.keyField(),s))}}}return e.dt}function vs(n){const e=lt(n);if(!e._t)if("F"===e.limitType)e._t=kO(e.path,e.collectionGroup,Yf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Yf(e))t.push(new U_(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new yd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yd(e.startAt.position,e.startAt.inclusive):null;e._t=kO(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function UO(n,e){e.getFirstInequalityField(),AI(n);const t=n.filters.concat([e]);return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function NI(n,e,t){return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cw(n,e){return uw(vs(n),vs(e))&&n.limitType===e.limitType}function NB(n){return`${Zf(vs(n))}|lt:${n.limitType}`}function BO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>bB(r)).join(", ")}]`),rw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>F_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>F_(r)).join(",")),`Target(${t})`}(vs(n))}; limitType=${n.limitType})`}function dw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Yf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,u){const h=pB(i,s,u);return i.inclusive?h<=0:h<0}(t.startAt,Yf(t),r)||t.endAt&&!function(i,s,u){const h=pB(i,s,u);return i.inclusive?h>=0:h>0}(t.endAt,Yf(t),r)));var t,r}function RB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MB(n){return(e,t)=>{let r=!1;for(const i of Yf(n)){const s=Qq(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Qq(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,s,u){const h=s.data.field(i),p=u.data.field(i);return null!==h&&null!==p?_d(h,p):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function OB(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iw(e)?"-0":e}}function xB(n){return{integerValue:""+n}}function PB(n,e){return oB(e)?xB(e):OB(n,e)}class RI{constructor(){this._=void 0}}function Xq(n,e,t){return n instanceof $_?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Kf?FB(n,e):n instanceof Jf?LB(n,e):function(r,i){const s=kB(r,i),u=UB(s)+UB(r.gt);return MO(s)&&MO(r.gt)?xB(u):OB(r.yt,u)}(n,e)}function e4(n,e,t){return n instanceof Kf?FB(n,e):n instanceof Jf?LB(n,e):t}function kB(n,e){return n instanceof H_?MO(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class $_ extends RI{}class Kf extends RI{constructor(e){super(),this.elements=e}}function FB(n,e){const t=BB(e);for(const r of n.elements)t.some(i=>_l(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jf extends RI{constructor(e){super(),this.elements=e}}function LB(n,e){let t=BB(e);for(const r of n.elements)t=t.filter(i=>!_l(i,r));return{arrayValue:{values:t}}}class H_ extends RI{constructor(e,t){super(),this.yt=e,this.gt=t}}function UB(n){return Nr(n.integerValue||n.doubleValue)}function BB(n){return aw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hw{constructor(e,t){this.field=e,this.transform=t}}class n4{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function MI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class OI{}function VB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new G_(n.key,or.none()):new j_(n.key,n.data,or.none());{const t=n.data,r=zi.empty();let i=new Ln(Ar.comparator);for(let s of e.fields)if(!i.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?r.delete(s):r.set(s,u),i=i.add(s)}return new Au(n.key,r,new Fs(i.toArray()),or.none())}}function r4(n,e,t){n instanceof j_?function(r,i,s){const u=r.value.clone(),h=jB(r.fieldTransforms,i,s.transformResults);u.setAll(h),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Au?function(r,i,s){if(!MI(r.precondition,i))return void i.convertToUnknownDocument(s.version);const u=jB(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(HB(r)),h.setAll(u),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fw(n,e,t,r){return n instanceof j_?function(i,s,u,h){if(!MI(i.precondition,s))return u;const p=i.value.clone(),_=GB(i.fieldTransforms,h,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Au?function(i,s,u,h){if(!MI(i.precondition,s))return u;const p=GB(i.fieldTransforms,h,s),_=s.data;return _.setAll(HB(i)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(n,e,t,r):(u=t,MI(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function i4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kB(r.transform,i||null);null!=s&&(null===t&&(t=zi.empty()),t.set(r.field,s))}return t||null}function $B(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&k_(t,r,(i,s)=>function t4(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Kf&&r instanceof Kf||t instanceof Jf&&r instanceof Jf?k_(t.elements,r.elements,_l):t instanceof H_&&r instanceof H_?_l(t.gt,r.gt):t instanceof $_&&r instanceof $_);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class j_ extends OI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Au extends OI{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jB(n,e,t){const r=new Map;Ct(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,h=e.data.field(s.field);r.set(s.field,e4(u,h,t[i]))}return r}function GB(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,Xq(s,u,e))}return r}class G_ extends OI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends OI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class s4{constructor(e){this.count=e}}var Xr,mn;function zB(n){switch(n){default:return gt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function WB(n){if(void 0===n)return Br("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Xr.OK:return ce.OK;case Xr.CANCELLED:return ce.CANCELLED;case Xr.UNKNOWN:return ce.UNKNOWN;case Xr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Xr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Xr.INTERNAL:return ce.INTERNAL;case Xr.UNAVAILABLE:return ce.UNAVAILABLE;case Xr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Xr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Xr.NOT_FOUND:return ce.NOT_FOUND;case Xr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Xr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Xr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Xr.ABORTED:return ce.ABORTED;case Xr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Xr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Xr.DATA_LOSS:return ce.DATA_LOSS;default:return gt()}}(mn=Xr||(Xr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class vd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gf(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sB(this.inner)}size(){return this.innerSize}}const o4=new Rr(et.comparator);function Ls(){return o4}const qB=new Rr(et.comparator);function pw(...n){let e=qB;for(const t of n)e=e.insert(t.key,t);return e}function ZB(n){let e=qB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yl(){return gw()}function YB(){return gw()}function gw(){return new vd(n=>n.toString(),(n,e)=>n.isEqual(e))}const a4=new Rr(et.comparator),l4=new Ln(et.comparator);function Jt(...n){let e=l4;for(const t of n)e=e.add(t);return e}const u4=new Ln(zt);function xI(){return u4}class mw{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,_w.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mw(At.min(),i,xI(),Ls(),Jt())}}class _w{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _w(r,t,Jt(),Jt(),Jt())}}class PI{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class KB{constructor(e,t){this.targetId=e,this.Et=t}}class JB{constructor(e,t,r=ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class QB{constructor(){this.At=0,this.Rt=eV(),this.bt=ci.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Jt(),t=Jt(),r=Jt();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new _w(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=eV()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class c4{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ls(),this.qt=XB(),this.Ut=new Ln(zt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(II(s))if(0===r){const u=new et(s.path);this.Qt(t,u,Kn.newNoDocument(u,At.min()))}else Ct(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,u)=>{const h=this.Yt(u);if(h){if(s.current&&II(h.target)){const p=new et(h.target.path);null!==this.Lt.get(p)||this.te(u,p)||this.Qt(u,p,Kn.newNoDocument(p,e))}s.St&&(t.set(u,s.Ct()),s.xt())}});let r=Jt();this.qt.forEach((s,u)=>{let h=!0;u.forEachWhile(p=>{const _=this.Yt(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.Lt.forEach((s,u)=>u.setReadTime(e));const i=new mw(e,t,this.Ut,this.Lt,r);return this.Lt=Ls(),this.qt=XB(),this.Ut=new Ln(zt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new QB,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ln(zt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new QB),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function XB(){return new Rr(et.comparator)}function eV(){return new Rr(et.comparator)}const d4={asc:"ASCENDING",desc:"DESCENDING"},h4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f4={and:"AND",or:"OR"};class p4{constructor(e,t){this.databaseId=e,this.wt=t}}function z_(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tV(n,e){return n.wt?e.toBase64():e.toUint8Array()}function g4(n,e){return z_(n,e.toTimestamp())}function Vr(n){return Ct(!!n),At.fromTimestamp(function(e){const t=gd(e);return new sr(t.seconds,t.nanos)}(n))}function $O(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nV(n){const e=gn.fromString(n);return Ct(dV(e)),e}function yw(n,e){return $O(n.databaseId,e.path)}function vl(n,e){const t=nV(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(iV(t))}function HO(n,e){return $O(n.databaseId,e)}function rV(n){const e=nV(n);return 4===e.length?gn.emptyPath():iV(e)}function vw(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iV(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sV(n,e,t){return{name:yw(n,e),fields:t.value.mapValue.fields}}function oV(n,e,t){const r=vl(n,e.name),i=Vr(e.updateTime),s=e.createTime?Vr(e.createTime):At.min(),u=new zi({mapValue:{fields:e.fields}}),h=Kn.newFoundDocument(r,i,s,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function bw(n,e){let t;if(e instanceof j_)t={update:sV(n,e.key,e.value)};else if(e instanceof G_)t={delete:yw(n,e.key)};else if(e instanceof Au)t={update:sV(n,e.key,e.data),updateMask:C4(e.fieldMask)};else{if(!(e instanceof VO))return gt();t={verify:yw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const u=s.transform;if(u instanceof $_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Kf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Jf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof H_)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:g4(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),t;var i}function jO(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?or.updateTime(Vr(i.updateTime)):void 0!==i.exists?or.exists(i.exists):or.none():or.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,u){let h=null;"setToServerValue"in u?(Ct("REQUEST_TIME"===u.setToServerValue),h=new $_):"appendMissingElements"in u?h=new Kf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Jf(u.removeAllFromArray.values||[]):"increment"in u?h=new H_(s,u.increment):gt();const p=Ar.fromServerFormat(u.fieldPath);return new hw(p,h)}(n,i)):[];var i;if(e.update){const i=vl(n,e.update.name),s=new zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Fs((e.updateMask.fieldPaths||[]).map(_=>Ar.fromServerFormat(_)));return new Au(i,s,u,t,r)}return new j_(i,s,t,r)}if(e.delete){const i=vl(n,e.delete);return new G_(i,t)}if(e.verify){const i=vl(n,e.verify);return new VO(i,t)}return gt()}function aV(n,e){return{documents:[HO(n,e.path)]}}function GO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=HO(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HO(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0!==p.length)return cV(On.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:W_((b=_).field),direction:b4(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(_=e.limit,n.wt||rw(_)?_:{value:_});var _,h,p;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function lV(n){let e=rV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const D=uV(b);return D instanceof On&&xO(D)?D.getFilters():[D]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(b=>{return new U_(q_((D=b).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(b){let D;return D="object"==typeof b?b.value:b,rw(D)?null:D}(t.limit));let p=null;var b;t.startAt&&(p=new yd((b=t.startAt).values||[],!!b.before));let _=null;return t.endAt&&(_=function(b){return new yd(b.values||[],!b.before)}(t.endAt)),SB(e,i,u,s,h,"F",p,_)}function uV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=q_(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=q_(e.unaryFilter.field);return ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=q_(e.unaryFilter.field);return ln.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=q_(e.unaryFilter.field);return ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(n):void 0!==n.fieldFilter?ln.create(q_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return On.create(e.compositeFilter.filters.map(t=>uV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gt()}}(e.compositeFilter.op))}(n):gt();var e}function b4(n){return d4[n]}function w4(n){return h4[n]}function E4(n){return f4[n]}function W_(n){return{fieldPath:n.canonicalString()}}function q_(n){return Ar.fromServerFormat(n.fieldPath)}function cV(n){return n instanceof ln?function(e){if("=="===e.op){if(cB(e.value))return{unaryFilter:{field:W_(e.field),op:"IS_NAN"}};if(uB(e.value))return{unaryFilter:{field:W_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cB(e.value))return{unaryFilter:{field:W_(e.field),op:"IS_NOT_NAN"}};if(uB(e.value))return{unaryFilter:{field:W_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:W_(e.field),op:w4(e.op),value:e.value}}}(n):n instanceof On?function(e){const t=e.getFilters().map(r=>cV(r));return 1===t.length?t[0]:{compositeFilter:{op:E4(e.op),filters:t}}}(n):gt()}function C4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function bs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hV(e)),e=T4(n.get(t),e);return hV(e)}function T4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function hV(n){return n+"\x01\x01"}function bl(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&gt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let p;0===i.length?p=h:(i+=h,p=i,i=""),r.push(p);break;case"\x10":i+=n.substring(s,u),i+="\0";break;case"\x11":i+=n.substring(s,u+1);break;default:gt()}s=u+2}return new gn(r)}const fV=["userId","batchId"];function kI(n,e){return[n,bs(e)]}function pV(n,e,t){return[n,bs(e),t]}const D4={},I4=["prefixPath","collectionGroup","readTime","documentId"],S4=["prefixPath","collectionGroup","documentId"],A4=["collectionGroup","readTime","prefixPath","documentId"],N4=["canonicalId","targetId"],R4=["targetId","path"],M4=["path","targetId"],O4=["collectionId","parent"],x4=["indexId","uid"],P4=["uid","sequenceNumber"],k4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],F4=["indexId","uid","orderedDocumentKey"],L4=["userId","collectionPath","documentId"],U4=["userId","collectionPath","largestBatchId"],B4=["userId","collectionGroup","largestBatchId"],gV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],V4=[...gV,"documentOverlays"],mV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_V=mV,$4=[..._V,"indexConfiguration","indexState","indexEntries"];class zO extends nB{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Di(n,e){const t=lt(n);return ga.M(t.se,e)}class WO{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&r4(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YB();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=t.has(i.key)?null:h;const p=VB(u,h);null!==p&&r.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&k_(this.mutations,e.mutations,(t,r)=>$B(t,r))&&k_(this.baseMutations,e.baseMutations,(t,r)=>$B(t,r))}}class qO{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length);let i=a4;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new qO(e,t,r,i)}}class ZO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bd{constructor(e,t,r,i,s=At.min(),u=At.min(),h=ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new bd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yV{constructor(e){this.ie=e}}function vV(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:FI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:yw(i=n.ie,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:z_(i,s.version.toTimestamp()),createTime:z_(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Qf(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:Qf(e.version)}}var i,s;return r}function FI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xf(n){const e=new sr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function ep(n,e){const t=(e.baseMutations||[]).map(s=>jO(n.ie,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>jO(n.ie,s)),i=sr.fromMillis(e.localWriteTimeMs);return new WO(e.batchId,i,t,r)}function ww(n){const e=Xf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xf(n.lastLimboFreeSnapshotVersion):At.min();let r;var i;return void 0!==n.query.documents?(Ct(1===(i=n.query).documents.length),r=vs(V_(rV(i.documents[0])))):r=vs(lV(n.query)),new bd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ci.fromBase64String(n.resumeToken))}function bV(n,e){const t=Qf(e.snapshotVersion),r=Qf(e.lastLimboFreeSnapshotVersion);let i;i=II(e.target)?aV(n.ie,e.target):GO(n.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zf(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function YO(n){const e=lV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NI(e,e.limit,"L"):e}function KO(n,e){return new ZO(e.largestBatchId,jO(n.ie,e.overlayMutation))}function wV(n,e){const t=e.path.lastSegment();return[n,bs(e.path.popLast()),t]}function EV(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qf(r.readTime),documentKey:bs(r.documentKey.path),largestBatchId:r.largestBatchId}}class j4{getBundleMetadata(e,t){return CV(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Xf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return CV(e).put({bundleId:(r=t).id,createTime:Qf(Vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return TV(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:YO(i.bundledQuery),readTime:Xf(i.readTime)};var i})}saveNamedQuery(e,t){return TV(e).put({name:(r=t).name,readTime:Qf(Vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function CV(n){return Di(n,"bundles")}function TV(n){return Di(n,"namedQueries")}class LI{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new LI(e,t.uid||"")}getOverlay(e,t){return Ew(e).get(wV(this.userId,t)).next(r=>r?KO(this.yt,r):null)}getOverlays(e,t){const r=yl();return ae.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,u)=>{const h=new ZO(t,u);i.push(this.oe(e,h))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(bs(u.getCollectionPath())));const s=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);s.push(Ew(e).Y("collectionPathOverlayIndex",h))}),ae.waitFor(s)}getOverlaysForCollection(e,t,r){const i=yl(),s=bs(t),u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ew(e).W("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const _=KO(this.yt,p);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=yl();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ew(e).Z({index:"collectionGroupOverlayIndex",range:h},(p,_,b)=>{const D=KO(this.yt,_);s.size()<i||D.largestBatchId===u?(s.set(D.getKey(),D),u=D.largestBatchId):b.done()}).next(()=>s)}oe(e,t){return Ew(e).put(function(r,i,s){const[u,h,p]=wV(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:bw(r.ie,s.mutation)}}(this.yt,this.userId,t))}}function Ew(n){return Di(n,"documentOverlays")}class tp{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Nr(e.integerValue));else if("doubleValue"in e){const r=Nr(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),iw(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(zf(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?dB(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):gt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),et.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function G4(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function DV(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=G4(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}tp.Ie=new tp;class z4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=DV(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=DV(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class W4{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class q4{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Cw{constructor(){this.$e=new z4,this.Be=new W4(this.$e),this.Le=new q4(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class np{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new np(this.indexId,this.documentKey,this.arrayValue,r)}}function wd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=IV(n.arrayValue,e.arrayValue),0!==t?t:(t=IV(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function IV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Z4{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){Ct(e.collectionGroup===this.collectionId);const t=DO(e);if(void 0!==t&&!this.We(t))return!1;const r=Hf(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[s++],u))return!1;++i}for(;i<r.length;++i)if(s>=this.Ke.length||!this.He(this.Ke[s++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function SV(n){var e,t;if(Ct(n instanceof ln||n instanceof On),n instanceof ln){if(n instanceof EB){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>ln.create(n.field,"==",s)))||[];return On.create(i,"or")}return n}const r=n.filters.map(i=>SV(i));return On.create(r,n.op)}function Y4(n){if(0===n.getFilters().length)return[];const e=XO(SV(n));return Ct(AV(e)),JO(e)||QO(e)?[e]:e.getFilters()}function JO(n){return n instanceof ln}function QO(n){return n instanceof On&&xO(n)}function AV(n){return JO(n)||QO(n)||function(e){if(e instanceof On&&OO(e)){for(const t of e.getFilters())if(!JO(t)&&!QO(t))return!1;return!0}return!1}(n)}function XO(n){if(Ct(n instanceof ln||n instanceof On),n instanceof ln)return n;if(1===n.filters.length)return XO(n.filters[0]);const e=n.filters.map(r=>XO(r));let t=On.create(e,n.op);return t=UI(t),AV(t)?t:(Ct(t instanceof On),Ct(L_(t)),Ct(t.filters.length>1),t.filters.reduce((r,i)=>ex(r,i)))}function ex(n,e){let t;return Ct(n instanceof ln||n instanceof On),Ct(e instanceof ln||e instanceof On),t=n instanceof ln?e instanceof ln?On.create([n,e],"and"):NV(n,e):e instanceof ln?NV(e,n):function(r,i){if(Ct(r.filters.length>0&&i.filters.length>0),L_(r)&&L_(i))return vB(r,i.getFilters());const s=OO(r)?r:i,u=OO(r)?i:r,h=s.filters.map(p=>ex(p,u));return On.create(h,"or")}(n,e),UI(t)}function NV(n,e){if(L_(e))return vB(e,n.getFilters());{const t=e.filters.map(r=>ex(n,r));return On.create(t,"or")}}function UI(n){if(Ct(n instanceof ln||n instanceof On),n instanceof ln)return n;const e=n.getFilters();if(1===e.length)return UI(e[0]);if(_B(n))return n;const t=e.map(i=>UI(i)),r=[];return t.forEach(i=>{i instanceof ln?r.push(i):i instanceof On&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:On.create(r,n.op)}class K4{constructor(){this.Je=new tx}addToCollectionParentIndex(e,t){return this.Je.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(so.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(so.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class tx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ln(gn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(gn.comparator)).toArray()}}const BI=new Uint8Array(0);class J4{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new tx,this.Xe=new vd(r=>Zf(r),(r,i)=>uw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const s={collectionId:r,parent:bs(i)};return RV(e).put(s)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[QU(t),""],!1,!0);return RV(e).W(i).next(s=>{for(const u of s){if(u.collectionId!==t)break;r.push(bl(u.parent))}return r})}addFieldIndex(e,t){const r=VI(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete i.indexId;const s=r.add(i);if(t.indexState){const u=Dw(e);return s.next(h=>{u.put(EV(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=VI(e),i=Dw(e),s=Tw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Tw(e);let i=!0;const s=new Map;return ae.forEach(this.Ze(t),u=>this.tn(e,u).next(h=>{i&&(i=!!h),s.set(u,h)})).next(()=>{if(i){let u=Jt();const h=[];return ae.forEach(s,(p,_)=>{var b;He("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${Zf(t)}`);const D=function(je,ke){const Ze=DO(ke);if(void 0===Ze)return null;for(const Qe of SI(je,Ze.fieldPath))switch(Qe.op){case"array-contains-any":return Qe.value.arrayValue.values||[];case"array-contains":return[Qe.value]}return null}(_,p),S=function(je,ke){const Ze=new Map;for(const Qe of Hf(ke))for(const kt of SI(je,Qe.fieldPath))switch(kt.op){case"==":case"in":Ze.set(Qe.fieldPath.canonicalString(),kt.value);break;case"not-in":case"!=":return Ze.set(Qe.fieldPath.canonicalString(),kt.value),Array.from(Ze.values())}return null}(_,p),N=function(je,ke){const Ze=[];let Qe=!0;for(const kt of Hf(ke)){const Qt=0===kt.kind?DB(je,kt.fieldPath,je.startAt):IB(je,kt.fieldPath,je.startAt);Ze.push(Qt.value),Qe&&(Qe=Qt.inclusive)}return new yd(Ze,Qe)}(_,p),x=function(je,ke){const Ze=[];let Qe=!0;for(const kt of Hf(ke)){const Qt=0===kt.kind?IB(je,kt.fieldPath,je.endAt):DB(je,kt.fieldPath,je.endAt);Ze.push(Qt.value),Qe&&(Qe=Qt.inclusive)}return new yd(Ze,Qe)}(_,p),j=this.en(p,_,N),Y=this.en(p,_,x),me=this.nn(p,_,S),De=this.sn(p.indexId,D,j,N.inclusive,Y,x.inclusive,me);return ae.forEach(De,je=>r.J(je,t.limit).next(ke=>{ke.forEach(Ze=>{const Qe=et.fromSegments(Ze.documentKey);u.has(Qe)||(u=u.add(Qe),h.push(Qe))})}))}).next(()=>h)}return ae.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Y4(On.create(e.filters,"and")).map(r=>kO(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,s,u,h){const p=(null!=t?t.length:1)*Math.max(r.length,s.length),_=p/(null!=t?t.length:1),b=[];for(let D=0;D<p;++D){const S=t?this.rn(t[D/_]):BI,N=this.on(e,S,r[D%_],i),x=this.un(e,S,s[D%_],u),j=h.map(Y=>this.on(e,S,Y,!0));b.push(...this.createRange(N,x,j))}return b}on(e,t,r,i){const s=new np(e,et.empty(),t,r);return i?s:s.Ue()}un(e,t,r,i){const s=new np(e,et.empty(),t,r);return i?s.Ue():s}tn(e,t){const r=new Z4(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let u=null;for(const h of s)r.je(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ae.forEach(i,s=>this.tn(e,s).next(u=>{u?0!==r&&u.fields.length<function(h){let p=new Ln(Ar.comparator),_=!1;for(const b of h.filters)for(const D of b.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:p=p.add(D.field));for(const b of h.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Cw;for(const i of Hf(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const u=r.qe(i.kind);tp.Ie.ue(s,u)}return r.Fe()}rn(e){const t=new Cw;return tp.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Cw;return tp.Ie.ue(qf(this.databaseId,t),r.qe(function(i){const s=Hf(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Cw);let s=0;for(const u of Hf(e)){const h=r[s++];for(const p of i)if(this.hn(t,u.fieldPath)&&aw(h))i=this.ln(i,u,h);else{const _=p.qe(u.kind);tp.Ie.ue(h,_)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],s=[];for(const u of r.arrayValue.values||[])for(const h of i){const p=new Cw;p.seed(h.Fe()),tp.Ie.ue(u,p.qe(t.kind)),s.push(p)}return s}hn(e,t){return!!e.filters.find(r=>r instanceof ln&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=VI(e),i=Dw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const u=[];return ae.forEach(s,h=>i.get([h.indexId,this.uid]).next(p=>{u.push(function(_,b){const D=b?new tw(b.sequenceNumber,new so(Xf(b.readTime),new et(bl(b.documentKey)),b.largestBatchId)):tw.empty(),S=_.fields.map(([N,x])=>new wI(Ar.fromServerFormat(N),x));return new bI(_.indexId,_.collectionGroup,S,D)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=VI(e),s=Dw(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,p=>s.put(EV(p.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,s)=>{const u=r.get(i.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),ae.forEach(h,p=>this._n(e,i,p).next(_=>{const b=this.wn(s,p);return _.isEqual(b)?ae.resolve():this.mn(e,s,p,_,b)}))))})}gn(e,t,r,i){return Tw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Tw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Tw(e);let s=new Ln(wd);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,h)=>{s=s.add(new np(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}wn(e,t){let r=new Ln(wd);const i=this.cn(t,e);if(null==i)return r;const s=DO(t);if(null!=s){const u=e.data.field(s.fieldPath);if(aw(u))for(const h of u.arrayValue.values||[])r=r.add(new np(t.indexId,e.key,this.rn(h),i))}else r=r.add(new np(t.indexId,e.key,BI,i));return r}mn(e,t,r,i,s){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,p,_,b,D){const S=h.getIterator(),N=p.getIterator();let x=B_(S),j=B_(N);for(;x||j;){let Y=!1,me=!1;if(x&&j){const De=_(x,j);De<0?me=!0:De>0&&(Y=!0)}else null!=x?me=!0:Y=!0;Y?(b(j),j=B_(N)):me?(D(x),x=B_(S)):(x=B_(S),j=B_(N))}}(i,s,wd,h=>{u.push(this.gn(e,t,r,h))},h=>{u.push(this.yn(e,t,r,h))}),ae.waitFor(u)}dn(e){let t=1;return Dw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>wd(u,h)).filter((u,h,p)=>!h||0!==wd(u,p[h-1]));const i=[];i.push(e);for(const u of r){const h=wd(u,e),p=wd(u,t);if(0===h)i[0]=e.Ue();else if(h>0&&p<0)i.push(u),i.push(u.Ue());else if(p>0)break}i.push(t);const s=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];s.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,BI,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,BI,[]]))}return s}pn(e,t){return wd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(MV)}getMinOffset(e,t){return ae.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||gt())).next(MV)}}function RV(n){return Di(n,"collectionParents")}function Tw(n){return Di(n,"indexEntries")}function VI(n){return Di(n,"indexConfiguration")}function Dw(n){return Di(n,"indexState")}function MV(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;IO(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new so(e.readTime,e.documentKey,t)}const OV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const p=r.Z({range:u},(b,D,S)=>(h++,S.delete()));s.push(p.next(()=>{Ct(1===h)}));const _=[];for(const b of t.mutations){const D=pV(e,b.key.path,t.batchId);s.push(i.delete(D)),_.push(b.key)}return ae.waitFor(s).next(()=>_)}function $I(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class HI{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){Ct(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new HI(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ed(e).Z({index:"userMutationsIndex",range:r},(i,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Z_(e),u=Ed(e);return u.add({}).next(h=>{Ct("number"==typeof h);const p=new WO(h,t,r,i),_=function(S,N,x){const j=x.baseMutations.map(me=>bw(S.ie,me)),Y=x.mutations.map(me=>bw(S.ie,me));return{userId:N,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:j,mutations:Y}}(this.yt,this.userId,p),b=[];let D=new Ln((S,N)=>zt(S.canonicalString(),N.canonicalString()));for(const S of i){const N=pV(this.userId,S.key.path,h);D=D.add(S.key.path.popLast()),b.push(u.put(_)),b.push(s.put(N,D4))}return D.forEach(S=>{b.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.In[h]=p.keys()}),ae.waitFor(b).next(()=>p)})}lookupMutationBatch(e,t){return Ed(e).get(t).next(r=>r?(Ct(r.userId===this.userId),ep(this.yt,r)):null)}Tn(e,t){return this.In[t]?ae.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ed(e).Z({index:"userMutationsIndex",range:i},(u,h,p)=>{h.userId===this.userId&&(Ct(h.batchId>=r),s=ep(this.yt,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ed(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,s,u)=>{r=s.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ed(e).W("userMutationsIndex",t).next(r=>r.map(i=>ep(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=kI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Z_(e).Z({range:i},(u,h,p)=>{const[_,b,D]=u,S=bl(b);if(_===this.userId&&t.path.isEqual(S))return Ed(e).get(D).next(N=>{if(!N)throw gt();Ct(N.userId===this.userId),s.push(ep(this.yt,N))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(zt);const i=[];return t.forEach(s=>{const u=kI(this.userId,s.path),h=IDBKeyRange.lowerBound(u),p=Z_(e).Z({range:h},(_,b,D)=>{const[S,N,x]=_,j=bl(N);S===this.userId&&s.path.isEqual(j)?r=r.add(x):D.done()});i.push(p)}),ae.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=kI(this.userId,r),u=IDBKeyRange.lowerBound(s);let h=new Ln(zt);return Z_(e).Z({range:u},(p,_,b)=>{const[D,S,N]=p,x=bl(S);D===this.userId&&r.isPrefixOf(x)?x.length===i&&(h=h.add(N)):b.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Ed(e).get(s).next(u=>{if(null===u)throw gt();Ct(u.userId===this.userId),r.push(ep(this.yt,u))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return xV(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Z_(e).Z({range:r},(s,u,h)=>{if(s[0]===this.userId){const p=bl(s[1]);i.push(p)}else h.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,t){return PV(e,this.userId,t)}Rn(e){return kV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function PV(n,e,t){const r=kI(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let u=!1;return Z_(n).Z({range:s,X:!0},(h,p,_)=>{const[b,D,S]=h;b===e&&D===i&&(u=!0),_.done()}).next(()=>u)}function Ed(n){return Di(n,"mutations")}function Z_(n){return Di(n,"documentMutations")}function kV(n){return Di(n,"mutationQueues")}class rp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new rp(0)}static vn(){return new rp(-1)}}class Q4{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new rp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>At.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Y_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Y_(e).Z((u,h)=>{const p=ww(h);p.sequenceNumber<=t&&null===r.get(p.targetId)&&(i++,s.push(this.removeTargetData(e,p)))}).next(()=>ae.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Y_(e).Z((r,i)=>{const s=ww(i);t(s)})}Vn(e){return FV(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}Sn(e,t){return FV(e).put("targetGlobalKey",t)}Dn(e,t){return Y_(e).put(bV(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Zf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Y_(e).Z({range:i,index:"queryTargetsIndex"},(u,h,p)=>{const _=ww(h);uw(t,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Cd(e);return t.forEach(u=>{const h=bs(u.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=Cd(e);return ae.forEach(t,s=>{const u=bs(s.path);return ae.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Cd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Cd(e);let s=Jt();return i.Z({range:r,X:!0},(u,h,p)=>{const _=bl(u[1]),b=new et(_);s=s.add(b)}).next(()=>s)}containsKey(e,t){const r=bs(t.path),i=IDBKeyRange.bound([r],[QU(r)],!1,!0);let s=0;return Cd(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,h],p,_)=>{0!==u&&(s++,_.done())}).next(()=>s>0)}ne(e,t){return Y_(e).get(t).next(r=>r?ww(r):null)}}function Y_(n){return Di(n,"targets")}function FV(n){return Di(n,"targetGlobal")}function Cd(n){return Di(n,"targetDocuments")}function LV([n,e],[t,r]){const i=zt(n,t);return 0===i?zt(e,r):i}class X4{constructor(e){this.xn=e,this.buffer=new Ln(LV),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();LV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eZ{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Z.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){fd(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield hd(r)}yield t.Fn(3e5)}))}}class tZ{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(oo.at);const r=new X4(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(OV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OV):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,s,u,h,p,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),i=this.params.maximumSequenceNumbersToCollect):i=D,u=Date.now(),this.nthSequenceNumber(e,i))).next(D=>(r=D,h=Date.now(),this.removeTargets(e,r,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(_=Date.now(),CO()<=ii.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-b}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${D} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:D})))}}class nZ{constructor(e,t){this.db=e,this.garbageCollector=new tZ(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return jI(e,r)}removeReference(e,t,r){return jI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jI(e,t)}Gn(e,t){return function(r,i){let s=!1;return kV(r).tt(u=>PV(r,u,i).next(h=>(h&&(s=!0),ae.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(u,h)=>{if(h<=t){const p=this.Gn(e,u).next(_=>{if(!_)return s++,r.getEntry(e,u).next(()=>(r.removeEntry(u,At.min()),Cd(e).delete([0,bs(u.path)])))});i.push(p)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jI(e,t)}Kn(e,t){const r=Cd(e);let i,s=oo.at;return r.Z({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:_})=>{0===u?(s!==oo.at&&t(new et(bl(i)),s),s=_,i=p):s=oo.at}).next(()=>{s!==oo.at&&t(new et(bl(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jI(n,e){return Cd(n).put((r=n.currentSequenceNumber,{targetId:0,path:bs(e.path),sequenceNumber:r}));var r}class UV{constructor(){this.changes=new vd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rZ{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ip(e).put(r)}removeEntry(e,t,r){return ip(e).delete(function(i,s){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],FI(s),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Kn.newInvalidDocument(t);return ip(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(i,s)=>{r=this.jn(t,s)}).next(()=>r)}Wn(e,t){let r={size:0,document:Kn.newInvalidDocument(t)};return ip(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(i,s)=>{r={document:this.jn(t,s),size:$I(s)}}).next(()=>r)}getEntries(e,t){let r=Ls();return this.zn(e,t,(i,s)=>{const u=this.jn(i,s);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=Ls(),i=new Rr(et.comparator);return this.zn(e,t,(s,u)=>{const h=this.jn(s,u);r=r.insert(s,h),i=i.insert(s,$I(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ae.resolve();let i=new Ln(HV);t.forEach(p=>i=i.add(p));const s=IDBKeyRange.bound(Iw(i.first()),Iw(i.last())),u=i.getIterator();let h=u.getNext();return ip(e).Z({index:"documentKeyIndex",range:s},(p,_,b)=>{const D=et.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&HV(h,D)<0;)r(h,null),h=u.getNext();h&&h.isEqual(D)&&(r(h,_),h=u.hasNext()?u.getNext():null),h?b.j(Iw(h)):b.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,u=[s.popLast().toArray(),s.lastSegment(),FI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ip(e).W(IDBKeyRange.bound(u,h,!0)).next(p=>{let _=Ls();for(const b of p){const D=this.jn(et.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);D.isFoundDocument()&&(dw(t,D)||i.has(D.key))&&(_=_.insert(D.key,D))}return _})}getAllFromCollectionGroup(e,t,r,i){let s=Ls();const u=$V(t,r),h=$V(t,so.max());return ip(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(p,_,b)=>{const D=this.jn(et.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(D.key,D),s.size===i&&b.done()}).next(()=>s)}newChangeBuffer(e){return new iZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return VV(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Qn(e,t){return VV(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function H4(n,e){let t;if(e.document)t=oV(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=Xf(e.noDocument.readTime);t=Kn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=et.fromSegments(e.unknownDocument.path),i=Xf(e.unknownDocument.version);t=Kn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new sr(r[0],r[1]);return At.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return Kn.newInvalidDocument(e)}}function BV(n){return new rZ(n)}class iZ extends UV{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new vd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ln((s,u)=>zt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,h.readTime)),u.isValidDocument()){const p=vV(this.Yn.yt,u);i=i.add(s.path.popLast());const _=$I(p);r+=_-h.size,t.push(this.Yn.addEntry(e,s,p))}else if(r-=h.size,this.trackRemovals){const p=vV(this.Yn.yt,u.convertToNoDocument(At.min()));t.push(this.Yn.addEntry(e,s,p))}}),i.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:r.get(s).readTime})}),r))}}function VV(n){return Di(n,"remoteDocumentGlobal")}function ip(n){return Di(n,"remoteDocumentsV14")}function Iw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $V(n,e){const t=e.documentKey.path.toArray();return[n,FI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function HV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=zt(t[s],r[s]),i)return i;return i=zt(t.length,r.length),i||(i=zt(t[t.length-2],r[r.length-2]),i||zt(t[t.length-1],r[r.length-1]))}class sZ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&fw(r.mutation,i,Fs.empty(),sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jt()){const i=yl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let u=pw();return s.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=yl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let s=Ls();const u=gw(),h=gw();return t.forEach((p,_)=>{const b=r.get(_.key);i.has(_.key)&&(void 0===b||b.mutation instanceof Au)?s=s.insert(_.key,_):void 0!==b?(u.set(_.key,b.mutation.getFieldMask()),fw(b.mutation,_,b.mutation.getFieldMask(),sr.now())):u.set(_.key,Fs.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((_,b)=>u.set(_,b)),t.forEach((_,b)=>{var D;return h.set(_,new sZ(b,null!==(D=u.get(_))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const r=gw();let i=new Rr((u,h)=>u-h),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const _=t.get(p);if(null===_)return;let b=r.get(p)||Fs.empty();b=h.applyToLocalView(_,b),r.set(p,b);const D=(i.get(h.batchId)||Jt()).add(p);i=i.insert(h.batchId,D)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,b=p.value,D=YB();b.forEach(S=>{if(!s.has(S)){const N=VB(t.get(S),r.get(S));null!==N&&D.set(S,N),s=s.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,D))}return ae.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):LO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ae.resolve(yl());let h=-1,p=s;return u.next(_=>ae.forEach(_,(b,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(b)?ae.resolve():this.remoteDocumentCache.getEntry(e,b).next(S=>{p=p.insert(b,S)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,p,_,Jt())).next(b=>({batchId:h,changes:ZB(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=pw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=pw();return this.indexManager.getCollectionParents(e,i).next(u=>ae.forEach(u,h=>{const p=(_=t,b=h.child(i),new Su(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(_=>{_.forEach((b,D)=>{s=s.insert(b,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((h,p)=>{const _=p.getKey();null===s.get(_)&&(s=s.insert(_,Kn.newInvalidDocument(_)))});let u=pw();return s.forEach((h,p)=>{const _=i.get(h);void 0!==_&&fw(_.mutation,p,Fs.empty(),sr.now()),dw(t,p)&&(u=u.insert(h,p))}),u})}}class oZ{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Vr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:YO(r.bundledQuery),readTime:Vr(r.readTime)}),ae.resolve();var r}}class aZ{constructor(){this.overlays=new Rr(et.comparator),this.es=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=yl();return ae.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=yl(),s=t.length+1,u=new et(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Rr((_,b)=>_-b);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let b=s.get(_.largestBatchId);null===b&&(b=yl(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const h=yl(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>h.set(_,b)),!(h.size()>=i)););return ae.resolve(h)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new ZO(t,r));let s=this.es.get(t);void 0===s&&(s=Jt(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class nx{constructor(){this.ns=new Ln(Ii.ss),this.rs=new Ln(Ii.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ii(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ii(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new et(new gn([])),r=new Ii(t,e),i=new Ii(t,e+1),s=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new et(new gn([])),r=new Ii(t,e),i=new Ii(t,e+1);let s=Jt();return this.rs.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Ii(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ii{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return et.comparator(e.key,t.key)||zt(e._s,t._s)}static os(e,t){return zt(e._s,t._s)||et.comparator(e.key,t.key)}}class lZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ln(Ii.ss)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const u=new WO(s,t,r,i);this.mutationQueue.push(u);for(const h of i)this.gs=this.gs.add(new Ii(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ii(t,0),i=new Ii(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],u=>{const h=this.ys(u._s);s.push(h)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(zt);return t.forEach(i=>{const s=new Ii(i,0),u=new Ii(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],h=>{r=r.add(h._s)})}),ae.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;et.isDocumentKey(s)||(s=s.child(""));const u=new Ii(new et(s),0);let h=new Ln(zt);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(h=h.add(p._s)),!0)},u),ae.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ct(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ae.forEach(t.mutations,i=>{const s=new Ii(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ii(t,0),i=this.gs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uZ{constructor(e){this.Es=e,this.docs=new Rr(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Ls();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ls();const u=t.path,h=new et(u.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||IO(eB(b),r)<=0||(i.has(b.key)||dw(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,t,r,i){gt()}As(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cZ(this)}getSize(e){return ae.resolve(this.size)}}class cZ extends UV{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class dZ{constructor(e){this.persistence=e,this.Rs=new vd(t=>Zf(t),uw),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nx,this.targetCount=0,this.vs=rp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new rp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Dn(t),ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ae.waitFor(s).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Ps.containsKey(t))}}class GV{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new oo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new dZ(this),this.indexManager=new K4,this.remoteDocumentCache=new uZ(r=>this.referenceDelegate.xs(r)),this.yt=new yV(t),this.Ns=new oZ(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aZ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new lZ(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new hZ(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return ae.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class hZ extends nB{constructor(e){super(),this.currentSequenceNumber=e}}class GI{constructor(e){this.persistence=e,this.Fs=new nx,this.$s=null}static Bs(e){return new GI(e)}get Ls(){if(this.$s)return this.$s;throw gt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,r=>{const i=et.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,At.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ae.or([()=>ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class fZ{constructor(e){this.yt=e}$(e,t,r,i){const s=new EI("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fV,{unique:!0}),h.createObjectStore("documentMutations"),zV(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),zV(e)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,p){return p.store("mutations").W().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fV,{unique:!0});const b=p.store("mutations"),D=_.map(S=>b.put(S));return ae.waitFor(D)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(s))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(s))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,s))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(s))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:L4});p.createIndex("collectionPathOverlayIndex",U4,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",B4,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:I4});p.createIndex("documentKeyIndex",S4),p.createIndex("collectionGroupIndex",A4)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,s))),r<15&&i>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:x4}).createIndex("sequenceNumberIndex",P4,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:k4}).createIndex("documentKeyIndex",F4,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=$I(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ae.forEach(i,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(h=>ae.forEach(h,p=>{Ct(p.userId===s.userId);const _=ep(this.yt,p);return xV(e,s.userId,_).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((u,h)=>{const p=new gn(u),_=[0,bs(p)];s.push(t.get(_).next(b=>b?ae.resolve():t.put({targetId:0,path:bs(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:O4});const r=t.store("collectionParents"),i=new tx,s=u=>{if(i.add(u)){const h=u.lastSegment(),p=u.popLast();return r.put({collectionId:h,parent:bs(p)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const p=new gn(u);return s(p.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,p],_)=>{const b=bl(h);return s(b.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const s=ww(i),u=bV(this.yt,s);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((s,u)=>{const h=t.store("remoteDocumentsV14"),p=(_=u,_.document?new et(gn.fromString(_.document.name).popFirst(5)):_.noDocument?et.fromSegments(_.noDocument.path):_.unknownDocument?et.fromSegments(_.unknownDocument.path):gt()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(b))}).next(()=>ae.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=BV(this.yt),s=new GV(GI.Bs,this.yt.ie);return r.W().next(u=>{const h=new Map;return u.forEach(p=>{var _;let b=null!==(_=h.get(p.userId))&&void 0!==_?_:Jt();ep(this.yt,p).keys().forEach(D=>b=b.add(D)),h.set(p.userId,b)}),ae.forEach(h,(p,_)=>{const b=new Ti(_),D=LI.re(this.yt,b),S=s.getIndexManager(b),N=HI.re(b,this.yt,S,s.referenceDelegate);return new jV(i,N,D,S).recalculateAndSaveOverlaysForDocumentKeys(new zO(t,oo.at),p).next()})})}}function zV(n){n.createObjectStore("targetDocuments",{keyPath:R4}).createIndex("documentTargetsIndex",M4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",N4,{unique:!0}),n.createObjectStore("targetGlobal")}const rx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ix{constructor(e,t,r,i,s,u,h,p,_,b,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=s,this.window=u,this.document=h,this.Js=_,this.Ys=b,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=S=>Promise.resolve(),!ix.C())throw new Re(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nZ(this,i),this.ii=t+"main",this.yt=new yV(p),this.ri=new ga(this.ii,this.Xs,new fZ(this.yt)),this.Cs=new Q4(this.referenceDelegate,this.yt),this.remoteDocumentCache=BV(this.yt),this.Ns=new j4,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,rx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new oo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Z.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Z.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Z.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(fd(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sw(e).get("owner").next(t=>ae.resolve(this.mi(t)))}gi(e){return zI(e).delete(this.clientId)}yi(){var e=this;return(0,Z.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Di(r,"clientMetadata");return i.W().next(s=>{const u=e.Ii(s,18e5),h=s.filter(p=>-1===u.indexOf(p));return ae.forEach(h,p=>i.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ae.resolve(!0):Sw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,rx);return!1}}return!(!this.networkEnabled||!this.inForeground)||zI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Z.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new zO(t,oo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>zI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return HI.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new J4(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return LI.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.Xs)?$4:14===u?_V:13===u?mV:12===u?V4:11===u?gV:void gt();var u;let h;return this.ri.runTransaction(e,i,s,p=>(h=new zO(p,this.Ss?this.Ss.next():oo.at),"readwrite-primary"===t?this.fi(h).next(_=>!!_||this.di(h)).next(_=>{if(!_)throw Br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Re(ce.FAILED_PRECONDITION,tB);return r(h)}).next(_=>this.wi(h).next(()=>_)):this.Vi(h).next(()=>r(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Vi(e){return Sw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(ce.FAILED_PRECONDITION,rx)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sw(e).put("owner",t)}static C(){return ga.C()}_i(e){const t=Sw(e);return t.get("owner").next(r=>this.mi(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Br(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,$.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sw(n){return Di(n,"owner")}function zI(n){return Di(n,"clientMetadata")}function sx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ox{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Jt(),i=Jt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ox(e,t.fromCache,r,i)}}class WV{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(AB(t))return ae.resolve(null);let r=vs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=NI(t,null,"F"),r=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=Jt(...s);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const _=this.Fi(t,h);return this.$i(t,_,u,p.readTime)?this.ki(e,NI(t,null,"F")):this.Bi(e,_,t,p)}))})))}Oi(e,t,r,i){return AB(t)||i.isEqual(At.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const u=this.Fi(t,s);return this.$i(t,u,r,i)?this.Mi(e,t):(CO()<=ii.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),BO(t)),this.Bi(e,u,t,XU(i,-1)))})}Fi(e,t){let r=new Ln(MB(e));return t.forEach((i,s)=>{dw(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return CO()<=ii.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",BO(t)),this.Ni.getDocumentsMatchingQuery(e,t,so.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class pZ{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Rr(zt),this.Ui=new vd(s=>Zf(s),uw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function qV(n,e,t,r){return new pZ(n,e,t,r)}function ZV(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,Z.Z)(function*(n,e){const t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],h=[];let p=Jt();for(const _ of i){u.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){h.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(r,p).next(_=>({ji:_,removedBatchIds:u,addedBatchIds:h}))})})}),ax.apply(this,arguments)}function gZ(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,_){const b=p.batch,D=b.keys();let S=ae.resolve();return D.forEach(N=>{S=S.next(()=>_.getEntry(h,N)).next(x=>{const j=p.docVersions.get(N);Ct(null!==j),x.version.compareTo(j)<0&&(b.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),_.addEntry(x)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(h,b))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Jt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function YV(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function mZ(n,e){const t=lt(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const h=[];e.targetChanges.forEach((b,D)=>{const S=i.get(D);if(!S)return;h.push(t.Cs.removeMatchingKeys(s,b.removedDocuments,D).next(()=>t.Cs.addMatchingKeys(s,b.addedDocuments,D)));let N=S.withSequenceNumber(s.currentSequenceNumber);var x,j,Y;e.targetMismatches.has(D)?N=N.withResumeToken(ci.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,r)),i=i.insert(D,N),j=N,Y=b,(0===(x=S).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(s,N))});let p=Ls(),_=Jt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),h.push(KV(s,u,e.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!r.isEqual(At.min())){const b=t.Cs.getLastRemoteSnapshotVersion(s).next(D=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(b)}return ae.waitFor(h).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(t.qi=i,s))}function KV(n,e,t){let r=Jt(),i=Jt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=Ls();return t.forEach((h,p)=>{const _=s.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):He("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{Wi:u,zi:i}})}function _Z(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K_(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,ae.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new bd(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function J_(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,Z.Z)(function*(n,e,t){const r=lt(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!fd(u))throw u;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),lx.apply(this,arguments)}function WI(n,e,t){const r=lt(n);let i=At.min(),s=Jt();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,p,_){const b=lt(h),D=b.Ui.get(_);return void 0!==D?ae.resolve(b.qi.get(D)):b.Cs.getTargetData(p,_)}(r,u,vs(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{s=p})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:At.min(),t?s:Jt())).next(h=>(XV(r,RB(e),h),{documents:h,Hi:s})))}function JV(n,e){const t=lt(n),r=lt(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(u=>u?u.target:null))}function QV(n,e){const t=lt(n),r=t.Ki.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,XU(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(XV(t,e,i),i))}function XV(n,e,t){let r=n.Ki.get(e)||At.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}function ux(){return ux=(0,Z.Z)(function*(n,e,t,r){const i=lt(n);let s=Jt(),u=Ls();for(const _ of t){const b=e.Ji(_.metadata.name);_.document&&(s=s.add(b));const D=e.Yi(_);D.setReadTime(e.Xi(_.metadata.readTime)),u=u.insert(b,D)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),p=yield K_(i,(_=r,vs(V_(gn.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>KV(_,h,u).next(b=>(h.apply(_),b)).next(b=>i.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>i.Cs.addMatchingKeys(_,s,p.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),ux.apply(this,arguments)}function vZ(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,Z.Z)(function*(n,e,t=Jt()){const r=yield K_(n,vs(YO(e.bundledQuery))),i=lt(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const u=Vr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(s,e);const h=r.withResumeToken(ci.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(h.targetId,h),i.Cs.updateTargetData(s,h).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}),cx.apply(this,arguments)}function e$(n,e){return`firestore_clients_${n}_${e}`}function t$(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function dx(n,e){return`firestore_targets_${n}_${e}`}class qI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let s,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(s=new Re(i.error.code,i.error.message))),u?new qI(e,t,i.state,s):(Br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Aw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Re(r.error.code,r.error.message))),s?new Aw(e,r.state,i):(Br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=xI();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=oB(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return i?new ZI(e,s):(Br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hx{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hx(t.clientId,t.onlineState):(Br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fx{constructor(){this.activeTargetIds=xI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class px{constructor(e,t,r,i,s){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Rr(zt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=e$(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new fx),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Z.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const s=e.getItem(e$(e.persistenceKey,i));if(s){const u=ZI.Zi(i,s);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(dx(this.persistenceKey,e));if(r){const i=Aw.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dx(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Z.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(s){let u=oo.at;if(null!=s)try{const h=JSON.parse(s);Ct("number"==typeof h),u=h}catch(h){Br("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==oo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new qI(this.currentUser,e,t,r),s=t$(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const t=t$(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=dx(this.persistenceKey,e),s=new Aw(e,t,r);this.setItem(i,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return ZI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return qI.Zi(new Ti(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Aw.Zi(i,t)}yr(e){return hx.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Z.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),u=[],h=[];return s.forEach(p=>{i.has(p)||u.push(p)}),i.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Br(u,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=xI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class n${constructor(){this.Lr=new fx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new fx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bZ{Ur(e){}shutdown(){}}class r${constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EZ{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class CZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const u=this.ho(e,t);He("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,s),this.fo(e,u,h,r).then(p=>(He("RestConnection","Received: ",p),p),p=>{throw $f("RestConnection",`${e} failed with error: `,p,"url: ",u,"request:",r),p})}_o(e,t,r,i,s,u){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+P_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${wZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,u)=>{const h=new Eq;h.setWithCredentials(!0),h.listenOnce(vq.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case EO.NO_ERROR:const _=h.getResponseJson();He("Connection","XHR received:",JSON.stringify(_)),s(_);break;case EO.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),u(new Re(ce.DEADLINE_EXCEEDED,"Request time out"));break;case EO.HTTP_ERROR:const b=h.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',b,"response text:",h.getResponseText()),b>0){let D=h.getResponseJson();Array.isArray(D)&&(D=D[0]);const S=D?.error;if(S&&S.status&&S.message){const N=function(x){const j=x.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(j)>=0?j:ce.UNKNOWN}(S.status);u(new Re(N,S.message))}else u(new Re(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Re(ce.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);h.send(t,"POST",p,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_q(),u=yq(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new wq({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=i.join("");He("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let b=!1,D=!1;const S=new EZ({Hr:x=>{D?He("Connection","Not sending because WebChannel is closed:",x):(b||(He("Connection","Opening WebChannel transport."),_.open(),b=!0),He("Connection","WebChannel sending:",x),_.send(x))},Jr:()=>_.close()}),N=(x,j,Y)=>{x.listen(j,me=>{try{Y(me)}catch(De){setTimeout(()=>{throw De},0)}})};return N(_,vI.EventType.OPEN,()=>{D||He("Connection","WebChannel transport opened.")}),N(_,vI.EventType.CLOSE,()=>{D||(D=!0,He("Connection","WebChannel transport closed"),S.io())}),N(_,vI.EventType.ERROR,x=>{D||(D=!0,$f("Connection","WebChannel transport errored:",x),S.io(new Re(ce.UNAVAILABLE,"The operation could not be completed")))}),N(_,vI.EventType.MESSAGE,x=>{var j;if(!D){const Y=x.data[0];Ct(!!Y);const De=Y.error||(null===(j=Y[0])||void 0===j?void 0:j.error);if(De){He("Connection","WebChannel received error:",De);const je=De.status;let ke=function(Qe){const kt=Xr[Qe];if(void 0!==kt)return WB(kt)}(je),Ze=De.message;void 0===ke&&(ke=ce.INTERNAL,Ze="Unknown error status: "+je+" with message "+De.message),D=!0,S.io(new Re(ke,Ze)),_.close()}else He("Connection","WebChannel received:",Y),S.ro(Y)}}),N(u,bq.STAT_EVENT,x=>{x.stat===qU.PROXY?He("Connection","Detected buffering proxy"):x.stat===qU.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.so()},0),S}}function i$(){return typeof window<"u"?window:null}function YI(){return typeof document<"u"?document:null}function Nw(n){return new p4(n,!0)}class gx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class s${constructor(e,t,r,i,s,u,h,p){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new gx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Z.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Z.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Z.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Re(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Z.Z)(function*(){e.state=0,e.start()}))}Qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TZ extends s${constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function _4(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:gt(),i=e.targetChange.targetIds||[],s=function(p,_){return p.wt?(Ct(void 0===_||"string"==typeof _),ci.fromBase64String(_||"")):(Ct(void 0===_||_ instanceof Uint8Array),ci.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const _=void 0===p.code?ce.UNKNOWN:WB(p.code);return new Re(_,p.message||"")}(u);t=new JB(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=vl(n,r.document.name),s=Vr(r.document.updateTime),u=r.document.createTime?Vr(r.document.createTime):At.min(),h=new zi({mapValue:{fields:r.document.fields}}),p=Kn.newFoundDocument(i,s,u,h);t=new PI(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=vl(n,r.document),s=r.readTime?Vr(r.readTime):At.min(),u=Kn.newNoDocument(i,s);t=new PI([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=vl(n,r.document);t=new PI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,s=new s4(r.count||0);t=new KB(r.targetId,s)}}var p;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return At.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?At.min():s.readTime?Vr(s.readTime):At.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=vw(this.yt),t.addTarget=function(i,s){let u;const h=s.target;return u=II(h)?{documents:aV(i,h)}:{query:GO(i,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=tV(i,s.resumeToken):s.snapshotVersion.compareTo(At.min())>0&&(u.readTime=z_(i,s.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function v4(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=vw(this.yt),t.removeTarget=e,this.Bo(t)}}class DZ extends s${constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function y4(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,i){let s=Vr(r.updateTime?r.updateTime:i);return s.isEqual(At.min())&&(s=Vr(i)),new n4(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.Zo(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=vw(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bw(this.yt,r))};this.Bo(t)}}class IZ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(ce.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection._o(e,t,r,s,u,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ce.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class AZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Br(t),this.ou=!1):He("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class NZ{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(h=>{r.enqueueAndForget((0,Z.Z)(function*(){var p;Nu(u)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Z.Z)(function*(_){const b=lt(_);b._u.add(4),yield Q_(b),b.gu.set("Unknown"),b._u.delete(4),yield Rw(b)}),function(_){return p.apply(this,arguments)})(u))}))}),this.gu=new AZ(r,i)}}function Rw(n){return _x.apply(this,arguments)}function _x(){return _x=(0,Z.Z)(function*(n){if(Nu(n))for(const e of n.wu)yield e(!0)}),_x.apply(this,arguments)}function Q_(n){return yx.apply(this,arguments)}function yx(){return yx=(0,Z.Z)(function*(n){for(const e of n.wu)yield e(!1)}),yx.apply(this,arguments)}function KI(n,e){const t=lt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),wx(t)?bx(t):ey(t).ko()&&vx(t,e))}function Mw(n,e){const t=lt(n),r=ey(t);t.du.delete(e),r.ko()&&o$(t,e),0===t.du.size&&(r.ko()?r.Fo():Nu(t)&&t.gu.set("Unknown"))}function vx(n,e){n.yu.Ot(e.targetId),ey(n).zo(e)}function o$(n,e){n.yu.Ot(e),ey(n).Ho(e)}function bx(n){n.yu=new c4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),ey(n).start(),n.gu.uu()}function wx(n){return Nu(n)&&!ey(n).No()&&n.du.size>0}function Nu(n){return 0===lt(n)._u.size}function a$(n){n.yu=void 0}function RZ(n){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Z.Z)(function*(n){n.du.forEach((e,t)=>{vx(n,e)})}),Ex.apply(this,arguments)}function MZ(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Z.Z)(function*(n,e){a$(n),wx(n)?(n.gu.hu(e),bx(n)):n.gu.set("Unknown")}),Cx.apply(this,arguments)}function OZ(n,e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Z.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof JB&&2===e.state&&e.cause)try{yield(r=(0,Z.Z)(function*(i,s){const u=s.cause;for(const h of s.targetIds)i.du.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i.du.delete(h),i.yu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield JI(n,r)}else if(e instanceof PI?n.yu.Kt(e):e instanceof KB?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(At.min()))try{const r=yield YV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const u=i.yu.Zt(s);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=i.du.get(p);_&&i.du.set(p,_.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const p=i.du.get(h);if(!p)return;i.du.set(h,p.withResumeToken(ci.EMPTY_BYTE_STRING,p.snapshotVersion)),o$(i,h);const _=new bd(p.target,h,1,p.sequenceNumber);vx(i,_)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield JI(n,r)}var r}),Tx.apply(this,arguments)}function JI(n,e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,Z.Z)(function*(n,e,t){if(!fd(e))throw e;n._u.add(1),yield Q_(n),n.gu.set("Offline"),t||(t=()=>YV(n.localStore)),n.asyncQueue.enqueueRetryable((0,Z.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Rw(n)}))}),Dx.apply(this,arguments)}function l$(n,e){return e().catch(t=>JI(n,t,e))}function X_(n){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Z.Z)(function*(n){const e=lt(n),t=Td(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;xZ(e);)try{const i=yield _Z(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,PZ(e,i)}catch(i){yield JI(e,i)}u$(e)&&c$(e)}),Ix.apply(this,arguments)}function xZ(n){return Nu(n)&&n.fu.length<10}function PZ(n,e){n.fu.push(e);const t=Td(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function u$(n){return Nu(n)&&!Td(n).No()&&n.fu.length>0}function c$(n){Td(n).start()}function kZ(n){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,Z.Z)(function*(n){Td(n).eu()}),Sx.apply(this,arguments)}function FZ(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Z.Z)(function*(n){const e=Td(n);for(const t of n.fu)e.Xo(t.mutations)}),Ax.apply(this,arguments)}function LZ(n,e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,Z.Z)(function*(n,e,t){const r=n.fu.shift(),i=qO.from(r,e,t);yield l$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield X_(n)}),Nx.apply(this,arguments)}function UZ(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,Z.Z)(function*(n,e){var t;e&&Td(n).Yo&&(yield(t=(0,Z.Z)(function*(r,i){if(zB(s=i.code)&&s!==ce.ABORTED){const u=r.fu.shift();Td(r).Mo(),yield l$(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield X_(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),u$(n)&&c$(n)}),Rx.apply(this,arguments)}function d$(n,e){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Z.Z)(function*(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Nu(t);t._u.add(3),yield Q_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Rw(t)}),Mx.apply(this,arguments)}function Ox(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,Z.Z)(function*(n,e){const t=lt(n);e?(t._u.delete(2),yield Rw(t)):e||(t._u.add(2),yield Q_(t),t.gu.set("Unknown"))}),xx.apply(this,arguments)}function ey(n){return n.pu||(n.pu=function(e,t,r){const i=lt(e);return i.su(),new TZ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:RZ.bind(null,n),Zr:MZ.bind(null,n),Wo:OZ.bind(null,n)}),n.wu.push(function(){var e=(0,Z.Z)(function*(t){t?(n.pu.Mo(),wx(n)?bx(n):n.gu.set("Unknown")):(yield n.pu.stop(),a$(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Td(n){return n.Iu||(n.Iu=function(e,t,r){const i=lt(e);return i.su(),new DZ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:kZ.bind(null,n),Zr:UZ.bind(null,n),tu:FZ.bind(null,n),Zo:LZ.bind(null,n)}),n.wu.push(function(){var e=(0,Z.Z)(function*(t){t?(n.Iu.Mo(),yield X_(n)):(yield n.Iu.stop(),n.fu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Px{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,h=new Px(e,t,u,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(n,e){if(Br("AsyncQueue",`${e}: ${n}`),fd(n))return new Re(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class ny{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=pw(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new ny(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ny)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ny;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class h${constructor(){this.Tu=new Rr(et.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):gt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ry{constructor(e,t,r,i,s,u,h,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,i,s){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ry(e,t,ny.emptySet(t),u,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class BZ{constructor(){this.Au=void 0,this.listeners=[]}}class VZ{constructor(){this.queries=new vd(e=>NB(e),cw),this.onlineState="Unknown",this.Ru=new Set}}function kx(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Z.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new BZ),i)try{s.Au=yield t.onListen(r)}catch(u){const h=ty(u,`Initialization of query '${BO(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&Bx(t)}),Fx.apply(this,arguments)}function Lx(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Z.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ux.apply(this,arguments)}function $Z(n,e){const t=lt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.Pu(i)&&(r=!0);u.Au=i}}r&&Bx(t)}function HZ(n,e,t){const r=lt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Bx(n){n.Ru.forEach(e=>{e.next()})}class Vx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ry(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class jZ{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class f${constructor(e){this.yt=e}Ji(e){return vl(this.yt,e)}Yi(e){return e.metadata.exists?oV(this.yt,e.document,!1):Kn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Vr(e)}}class GZ{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=p$(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=gn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new f$(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Jt()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,Z.Z)(function*(){const t=yield function yZ(n,e,t,r){return ux.apply(this,arguments)}(e.localStore,new f$(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield vZ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function p$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class g${constructor(e){this.key=e}}class m${constructor(e){this.key=e}}class _${constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Jt(),this.mutatedKeys=Jt(),this.Gu=MB(e),this.Qu=new ny(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new h$,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,D)=>{const S=i.get(b),N=dw(this.query,D)?D:null,x=!!S&&this.mutatedKeys.has(S.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let Y=!1;S&&N?S.data.isEqual(N.data)?x!==j&&(r.track({type:3,doc:N}),Y=!0):this.Hu(S,N)||(r.track({type:2,doc:N}),Y=!0,(p&&this.Gu(N,p)>0||_&&this.Gu(N,_)<0)&&(h=!0)):!S&&N?(r.track({type:0,doc:N}),Y=!0):S&&!N&&(r.track({type:1,doc:S}),Y=!0,(p||_)&&(h=!0)),Y&&(N?(u=u.add(N),s=j?s.add(b):s.delete(b)):(u=u.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const b="F"===this.query.limitType?u.last():u.first();u=u.delete(b.key),s=s.delete(b.key),r.track({type:1,doc:b})}return{Qu:u,zu:r,$i:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((_,b)=>function(D,S){const N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return N(D)-N(S)}(_.type,b.type)||this.Gu(_.doc,b.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.Uu;return this.Uu=h,0!==s.length||p?{snapshot:new ry(this.query,e.Qu,i,s,e.mutatedKeys,0===h,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new h$,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Jt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new m$(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new g$(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Jt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return ry.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class zZ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WZ{constructor(e){this.key=e,this.nc=!1}}class qZ{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new vd(h=>NB(h),cw),this.rc=new Map,this.oc=new Set,this.uc=new Rr(et.comparator),this.cc=new Map,this.ac=new nx,this.hc={},this.lc=new Map,this.fc=rp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ZZ(n,e){return $x.apply(this,arguments)}function $x(){return $x=(0,Z.Z)(function*(n,e){const t=cP(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const u=yield K_(t.localStore,vs(e));t.isPrimaryClient&&KI(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield Hx(t,e,r,"current"===h,u.resumeToken)}return i}),$x.apply(this,arguments)}function Hx(n,e,t,r,i){return jx.apply(this,arguments)}function jx(){return jx=(0,Z.Z)(function*(n,e,t,r,i){n._c=(D,S,N)=>{return(x=(0,Z.Z)(function*(j,Y,me,De){let je=Y.view.Wu(me);je.$i&&(je=yield WI(j.localStore,Y.query,!1).then(({documents:Qe})=>Y.view.Wu(Qe,je)));const ke=De&&De.targetChanges.get(Y.targetId),Ze=Y.view.applyChanges(je,j.isPrimaryClient,ke);return Xx(j,Y.targetId,Ze.Xu),Ze.snapshot}),function(j,Y,me,De){return x.apply(this,arguments)})(n,D,S,N);var x};const s=yield WI(n.localStore,e,!0),u=new _$(e,s.Hi),h=u.Wu(s.documents),p=_w.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),_=u.applyChanges(h,n.isPrimaryClient,p);Xx(n,t,_.Xu);const b=new zZ(e,t,u);return n.ic.set(e,b),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),_.snapshot}),jx.apply(this,arguments)}function YZ(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,Z.Z)(function*(n,e){const t=lt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!cw(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield J_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Mw(t.remoteStore,r.targetId),iy(t,r.targetId)}).catch(hd))):(iy(t,r.targetId),yield J_(t.localStore,r.targetId,!0))}),Gx.apply(this,arguments)}function zx(){return zx=(0,Z.Z)(function*(n,e,t){const r=dP(n);try{const i=yield function(s,u){const h=lt(s),p=sr.now(),_=u.reduce((S,N)=>S.add(N.key),Jt());let b,D;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let N=Ls(),x=Jt();return h.Gi.getEntries(S,_).next(j=>{N=j,N.forEach((Y,me)=>{me.isValidDocument()||(x=x.add(Y))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,N)).next(j=>{b=j;const Y=[];for(const me of u){const De=i4(me,b.get(me.key).overlayedDocument);null!=De&&Y.push(new Au(me.key,De,TB(De.value.mapValue),or.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,Y,u)}).next(j=>{D=j;const Y=j.applyToLocalDocumentSet(b,x);return h.documentOverlayCache.saveOverlays(S,j.batchId,Y)})}).then(()=>({batchId:D.batchId,changes:ZB(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,h){let p=s.hc[s.currentUser.toKey()];p||(p=new Rr(zt)),p=p.insert(u,h),s.hc[s.currentUser.toKey()]=p}(r,i.batchId,t),yield Ru(r,i.changes),yield X_(r.remoteStore)}catch(i){const s=ty(i,"Failed to persist write");t.reject(s)}}),zx.apply(this,arguments)}function y$(n,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,Z.Z)(function*(n,e){const t=lt(n);try{const r=yield mZ(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.cc.get(s);u&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?Ct(u.nc):i.removedDocuments.size>0&&(Ct(u.nc),u.nc=!1))}),yield Ru(t,r,e)}catch(r){yield hd(r)}}),Wx.apply(this,arguments)}function v$(n,e,t){const r=lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,u)=>{const h=u.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(s,u){const h=lt(s);h.onlineState=u;let p=!1;h.queries.forEach((_,b)=>{for(const D of b.listeners)D.bu(u)&&(p=!0)}),p&&Bx(h)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JZ(n,e,t){return qx.apply(this,arguments)}function qx(){return qx=(0,Z.Z)(function*(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let u=new Rr(et.comparator);u=u.insert(s,Kn.newNoDocument(s,At.min()));const h=Jt().add(s),p=new mw(At.min(),new Map,new Ln(zt),u,h);yield y$(r,p),r.uc=r.uc.remove(s),r.cc.delete(e),eP(r)}else yield J_(r.localStore,e,!1).then(()=>iy(r,e,t)).catch(hd)}),qx.apply(this,arguments)}function QZ(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Z.Z)(function*(n,e){const t=lt(n),r=e.batch.batchId;try{const i=yield gZ(t.localStore,e);Qx(t,r,null),Jx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ru(t,i)}catch(i){yield hd(i)}}),Zx.apply(this,arguments)}function XZ(n,e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Z.Z)(function*(n,e,t){const r=lt(n);try{const i=yield function(s,u){const h=lt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.mutationQueue.lookupMutationBatch(p,u).next(b=>(Ct(null!==b),_=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>h.localDocuments.getDocuments(p,_))})}(r.localStore,e);Qx(r,e,t),Jx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ru(r,i)}catch(i){yield hd(i)}}),Yx.apply(this,arguments)}function Kx(){return Kx=(0,Z.Z)(function*(n,e){const t=lt(n);Nu(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const u=lt(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=ty(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Kx.apply(this,arguments)}function Jx(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Qx(n,e,t){const r=lt(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||b$(n,r)})}function b$(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Mw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),eP(n))}function Xx(n,e,t){for(const r of t)r instanceof g$?(n.ac.addReference(r.key,e),t8(n,r)):r instanceof m$?(He("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||b$(n,r.key)):gt()}function t8(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.oc.add(r),eP(n))}function eP(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new et(gn.fromString(e)),r=n.fc.next();n.cc.set(r,new WZ(t)),n.uc=n.uc.insert(t,r),KI(n.remoteStore,new bd(vs(V_(t.path)),r,2,oo.at))}}function Ru(n,e,t){return tP.apply(this,arguments)}function tP(){return tP=(0,Z.Z)(function*(n,e,t){const r=lt(n),i=[],s=[],u=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,p)=>{u.push(r._c(p,e,t).then(_=>{if((_||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const b=ox.Ci(p.targetId,_);s.push(b)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(h=(0,Z.Z)(function*(p,_){const b=lt(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ae.forEach(_,S=>ae.forEach(S.Si,N=>b.persistence.referenceDelegate.addReference(D,S.targetId,N)).next(()=>ae.forEach(S.Di,N=>b.persistence.referenceDelegate.removeReference(D,S.targetId,N)))))}catch(D){if(!fd(D))throw D;He("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const S=D.targetId;if(!D.fromCache){const N=b.qi.get(S),j=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);b.qi=b.qi.insert(S,j)}}}),function(p,_){return h.apply(this,arguments)})(r.localStore,s))}),tP.apply(this,arguments)}function n8(n,e){return nP.apply(this,arguments)}function nP(){return nP=(0,Z.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield ZV(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(h=>{h.reject(new Re(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ru(t,r.ji)}var i}),nP.apply(this,arguments)}function r8(n,e){const t=lt(n),r=t.cc.get(e);if(r&&r.nc)return Jt().add(r.key);{let i=Jt();const s=t.rc.get(e);if(!s)return i;for(const u of s){const h=t.ic.get(u);i=i.unionWith(h.view.ju)}return i}}function i8(n,e){return rP.apply(this,arguments)}function rP(){return rP=(0,Z.Z)(function*(n,e){const t=lt(n),r=yield WI(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Xx(t,e.targetId,i.Xu),i}),rP.apply(this,arguments)}function s8(n,e){return iP.apply(this,arguments)}function iP(){return iP=(0,Z.Z)(function*(n,e){const t=lt(n);return QV(t.localStore,e).then(r=>Ru(t,r))}),iP.apply(this,arguments)}function o8(n,e,t,r){return sP.apply(this,arguments)}function sP(){return sP=(0,Z.Z)(function*(n,e,t,r){const i=lt(n),s=yield function(u,h){const p=lt(u),_=lt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,h).next(D=>D?p.localDocuments.getDocuments(b,D):ae.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield X_(i.remoteStore):"acknowledged"===t||"rejected"===t?(Qx(i,e,r||null),Jx(i,e),h=e,lt(lt(i.localStore).mutationQueue).An(h)):gt(),yield Ru(i,s)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),sP.apply(this,arguments)}function oP(){return oP=(0,Z.Z)(function*(n,e){const t=lt(n);if(cP(t),dP(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield w$(t,r.toArray());t.dc=!0,yield Ox(t.remoteStore,!0);for(const s of i)KI(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(iy(t,u),J_(t.localStore,u,!0))),Mw(t.remoteStore,u)}),yield i,yield w$(t,r),function(s){const u=lt(s);u.cc.forEach((h,p)=>{Mw(u.remoteStore,p)}),u.ac.fs(),u.cc=new Map,u.uc=new Rr(et.comparator)}(t),t.dc=!1,yield Ox(t.remoteStore,!1)}}),oP.apply(this,arguments)}function w$(n,e,t){return aP.apply(this,arguments)}function aP(){return aP=(0,Z.Z)(function*(n,e,t){const r=lt(n),i=[],s=[];for(const u of e){let h;const p=r.rc.get(u);if(p&&0!==p.length){h=yield K_(r.localStore,vs(p[0]));for(const _ of p){const b=r.ic.get(_),D=yield i8(r,b);D.snapshot&&s.push(D.snapshot)}}else{const _=yield JV(r.localStore,u);h=yield K_(r.localStore,_),yield Hx(r,E$(_),u,!1,h.resumeToken)}i.push(h)}return r.sc.Wo(s),i}),aP.apply(this,arguments)}function E$(n){return SB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function l8(n){const e=lt(n);return lt(lt(e.localStore).persistence).vi()}function u8(n,e,t,r){return lP.apply(this,arguments)}function lP(){return lP=(0,Z.Z)(function*(n,e,t,r){const i=lt(n);if(i.dc)return void He("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield QV(i.localStore,RB(s[0])),h=mw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ci.EMPTY_BYTE_STRING);yield Ru(i,u,h);break}case"rejected":yield J_(i.localStore,e,!0),iy(i,e,r);break;default:gt()}}),lP.apply(this,arguments)}function c8(n,e,t){return uP.apply(this,arguments)}function uP(){return uP=(0,Z.Z)(function*(n,e,t){const r=cP(n);if(r.dc){for(const i of e){if(r.rc.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const s=yield JV(r.localStore,i),u=yield K_(r.localStore,s);yield Hx(r,E$(s),u.targetId,!1,u.resumeToken),KI(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield J_(r.localStore,i,!1).then(()=>{Mw(r.remoteStore,i),iy(r,i)}).catch(hd))}}),uP.apply(this,arguments)}function cP(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=y$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JZ.bind(null,e),e.sc.Wo=$Z.bind(null,e.eventManager),e.sc.wc=HZ.bind(null,e.eventManager),e}function dP(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XZ.bind(null,e),e}class C${constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Z.Z)(function*(){t.yt=Nw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return qV(this.persistence,new WV,e.initialUser,this.yt)}yc(e){return new GV(GI.Bs,this.yt)}gc(e){return new n$}terminate(){var e=this;return(0,Z.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class T$ extends C${constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Z.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield dP(r.Ac.syncEngine),yield X_(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return qV(this.persistence,new WV,e.initialUser,this.yt)}Tc(e,t){return new eZ(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new Uq(t,this.persistence);return new Lq(e.asyncQueue,r)}yc(e){const t=sx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new ix(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,i$(),YI(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new n$}}class h8 extends T${constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Z.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof px&&(r.sharedClientState.syncEngine={Fr:o8.bind(null,i),$r:u8.bind(null,i),Br:c8.bind(null,i),vi:l8.bind(null,i),Mr:s8.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var s=(0,Z.Z)(function*(u){yield function a8(n,e){return oP.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(e){const t=i$();if(!px.C(t))throw new Re(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new px(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hP{initialize(e,t){var r=this;return(0,Z.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>v$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=n8.bind(null,r.syncEngine),yield Ox(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new VZ}createDatastore(e){const t=Nw(e.databaseInfo.databaseId),r=new CZ(e.databaseInfo);return new IZ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>v$(this.syncEngine,h,0),u=r$.C()?new r$:new bZ,new NZ(t,r,i,s,u);var t,r,i,s,u}createSyncEngine(e,t){return function(r,i,s,u,h,p,_){const b=new qZ(r,i,s,u,h,p);return _&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Z.Z)(function*(t){const r=lt(t);He("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Q_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fP(n,e,t){if(!t)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D$(n,e,t,r){if(!0===e&&!0===r)throw new Re(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I$(n){if(!et.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S$(n){if(et.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QI(n);throw new Re(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function A$(n,e){if(e<=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const N$=new Map;class R${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,D$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ow{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dq;switch(t.type){case"gapi":return new Nq(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=N$.get(e);t&&(He("ComponentProvider","Removing Datastore"),N$.delete(e),t.terminate())}(this),Promise.resolve()}}function M$(n,e,t,r={}){var i;const s=(n=un(n,Ow))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&$f("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=Ti.MOCK_USER;else{u=(0,$.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Re(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ti(p)}n._authCredentials=new Iq(new YU(u,h))}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class wl extends Wi{constructor(e,t,r){super(e,t,V_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new et(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function O$(n,e,...t){if(n=(0,$.m9)(n),fP("collection","path",e),n instanceof Ow){const r=gn.fromString(e,...t);return S$(r),new wl(n,null,r)}{if(!(n instanceof Jn||n instanceof wl))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return S$(r),new wl(n.firestore,null,r)}}function XI(n,e,...t){if(n=(0,$.m9)(n),1===arguments.length&&(e=JU.R()),fP("doc","path",e),n instanceof Ow){const r=gn.fromString(e,...t);return I$(r),new Jn(n,null,new et(r))}{if(!(n instanceof Jn||n instanceof wl))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return I$(r),new Jn(n.firestore,n instanceof wl?n.converter:null,new et(r))}}function x$(n,e){return n=(0,$.m9)(n),e=(0,$.m9)(e),(n instanceof Jn||n instanceof wl)&&(e instanceof Jn||e instanceof wl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pP(n,e){return n=(0,$.m9)(n),e=(0,$.m9)(e),n instanceof Wi&&e instanceof Wi&&n.firestore===e.firestore&&cw(n._query,e._query)&&n.converter===e.converter}function P$(n,e=10240){let t=0;return{read:()=>(0,Z.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Z.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class eS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class p8{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new ui,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Z.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Z.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Z.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const s=yield e.Cc(i);return new jZ(JSON.parse(s),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Z.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Z.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Z.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class _8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Z.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Z.Z)(function*(s,u){const h=lt(s),p=vw(h.yt)+"/documents",_={documents:u.map(N=>yw(h.yt,N))},b=yield h._o("BatchGetDocuments",p,_,u.length),D=new Map;b.forEach(N=>{const x=function m4(n,e){return"found"in e?function(t,r){Ct(!!r.found);const i=vl(t,r.found.name),s=Vr(r.found.updateTime),u=r.found.createTime?Vr(r.found.createTime):At.min(),h=new zi({mapValue:{fields:r.found.fields}});return Kn.newFoundDocument(i,s,u,h)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const i=vl(t,r.missing),s=Vr(r.readTime);return Kn.newNoDocument(i,s)}(n,e):gt()}(h.yt,N);D.set(x.key.toString(),x)});const S=[];return u.forEach(N=>{const x=D.get(N.toString());Ct(!!x),S.push(x)}),S}),function(s,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new G_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Z.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=et.fromPath(i);e.mutations.push(new VO(s,e.precondition(s)))}),yield(r=(0,Z.Z)(function*(i,s){const u=lt(i),h=vw(u.yt)+"/documents",p={writes:s.map(_=>bw(u.yt,_))};yield u.ao("Commit",h,p)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(At.min())?or.exists(!1):or.updateTime(t):or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Re(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(t)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class y8{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new gx(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Z.Z)(function*(){const t=new _8(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Fc(s)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!rw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zB(t)}return!1}}class v8{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ti.UNAUTHENTICATED,this.clientId=JU.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Z.Z)(function*(h){He("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(He("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Z.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ty(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function k$(n,e){return gP.apply(this,arguments)}function gP(){return gP=(0,Z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Z.Z)(function*(s){r.isEqual(s)||(yield ZV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),gP.apply(this,arguments)}function F$(n,e){return mP.apply(this,arguments)}function mP(){return mP=(0,Z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _P(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>d$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>d$(e.remoteStore,s)),n.onlineComponents=e}),mP.apply(this,arguments)}function _P(n){return yP.apply(this,arguments)}function yP(){return yP=(0,Z.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield k$(n,new C$)),n.offlineComponents}),yP.apply(this,arguments)}function tS(n){return vP.apply(this,arguments)}function vP(){return vP=(0,Z.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield F$(n,new hP)),n.onlineComponents}),vP.apply(this,arguments)}function L$(n){return _P(n).then(e=>e.persistence)}function nS(n){return _P(n).then(e=>e.localStore)}function bP(n){return tS(n).then(e=>e.remoteStore)}function wP(n){return tS(n).then(e=>e.syncEngine)}function sy(n){return EP.apply(this,arguments)}function EP(){return EP=(0,Z.Z)(function*(n){const e=yield tS(n),t=e.eventManager;return t.onListen=ZZ.bind(null,e.syncEngine),t.onUnlisten=YZ.bind(null,e.syncEngine),t}),EP.apply(this,arguments)}function B$(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(i,s,u,h,p){const _=new eS({next:D=>{s.enqueueAndForget(()=>Lx(i,b));const S=D.docs.has(u);!S&&D.fromCache?p.reject(new Re(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&D.fromCache&&h&&"server"===h.source?p.reject(new Re(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new Vx(V_(u.path),_,{includeMetadataChanges:!0,Nu:!0});return kx(i,b)}(yield sy(n),n.asyncQueue,e,t,r)})),r.promise}function V$(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(i,s,u,h,p){const _=new eS({next:D=>{s.enqueueAndForget(()=>Lx(i,b)),D.fromCache&&"server"===h.source?p.reject(new Re(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new Vx(u,_,{includeMetadataChanges:!0,Nu:!0});return kx(i,b)}(yield sy(n),n.asyncQueue,e,t,r)})),r.promise}class S8{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new gx(this,"async_queue_retry"),this.Wc=()=>{const t=YI();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=YI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=YI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new ui;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Z.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!fd(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Br("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Px.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&gt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Z.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function CP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class A8{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends Ow{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new S8,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$$(this),this._firestoreClient.terminate()}}function R8(n,e){const t="object"==typeof n?n:(0,rt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,rt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,$.P0)("firestore");s&&M$(i,...s)}return i}function $r(n){return n._firestoreClient||$$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $$(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Bq(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new v8(n._authCredentials,n._appCheckCredentials,n._queue,r)}function H$(n,e,t){const r=new ui;return n.asyncQueue.enqueue((0,Z.Z)(function*(){try{yield k$(n,t),yield F$(n,e),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(u=s).name?u.code===ce.FAILED_PRECONDITION||u.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;$f("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function j$(n){if(n._initialized||n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(ci.fromBase64String(e))}catch(t){throw new Re(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new El(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sp{constructor(e){this._methodName=e}}class rS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const B8=/^__.*__$/;class V8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Au(e,this.data,this.fieldMask,t,this.fieldTransforms):new j_(e,this.data,t,this.fieldTransforms)}}class G${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Au(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function z$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class iS{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new iS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return aS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(z$(this.sa)&&B8.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class $8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Nw(e)}da(e,t,r,i=!1){return new iS({sa:e,methodName:t,fa:r,path:Ar.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function op(n){const e=n._freezeSettings(),t=Nw(n._databaseId);return new $8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sS(n,e,t,r,i,s={}){const u=n.da(s.merge||s.mergeFields?2:0,e,t,i);SP("Data must be an object, but it was:",u,r);const h=Z$(r,u);let p,_;if(s.merge)p=new Fs(u.fieldMask),_=u.fieldTransforms;else if(s.mergeFields){const b=[];for(const D of s.mergeFields){const S=AP(e,D,t);if(!u.contains(S))throw new Re(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);K$(b,S)||b.push(S)}p=new Fs(b),_=u.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,_=u.fieldTransforms;return new V8(new zi(h),p,_)}class xw extends sp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xw}}function W$(n,e,t){return new iS({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class TP extends sp{_toFieldTransform(e){return new hw(e.path,new $_)}isEqual(e){return e instanceof TP}}class H8 extends sp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=W$(this,e,!0),r=this._a.map(s=>ap(s,t)),i=new Kf(r);return new hw(e.path,i)}isEqual(e){return this===e}}class j8 extends sp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=W$(this,e,!0),r=this._a.map(s=>ap(s,t)),i=new Jf(r);return new hw(e.path,i)}isEqual(e){return this===e}}class G8 extends sp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new H_(e.yt,PB(e.yt,this.wa));return new hw(e.path,t)}isEqual(e){return this===e}}function DP(n,e,t,r){const i=n.da(1,e,t);SP("Data must be an object, but it was:",i,r);const s=[],u=zi.empty();Gf(r,(p,_)=>{const b=oS(e,p,t);_=(0,$.m9)(_);const D=i.ca(b);if(_ instanceof xw)s.push(b);else{const S=ap(_,D);null!=S&&(s.push(b),u.set(b,S))}});const h=new Fs(s);return new G$(u,h,i.fieldTransforms)}function IP(n,e,t,r,i,s){const u=n.da(1,e,t),h=[AP(e,r,t)],p=[i];if(s.length%2!=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)h.push(AP(e,s[S])),p.push(s[S+1]);const _=[],b=zi.empty();for(let S=h.length-1;S>=0;--S)if(!K$(_,h[S])){const N=h[S];let x=p[S];x=(0,$.m9)(x);const j=u.ca(N);if(x instanceof xw)_.push(N);else{const Y=ap(x,j);null!=Y&&(_.push(N),b.set(N,Y))}}const D=new Fs(_);return new G$(b,D,u.fieldTransforms)}function q$(n,e,t,r=!1){return ap(t,n.da(r?4:3,e))}function ap(n,e){if(Y$(n=(0,$.m9)(n)))return SP("Unsupported field value:",e,n),Z$(n,e);if(n instanceof sp)return function(t,r){if(!z$(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const u of t){let h=ap(u,r.aa(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,$.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PB(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=sr.fromDate(t);return{timestampValue:z_(r.yt,i)}}if(t instanceof sr){const i=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:z_(r.yt,i)}}if(t instanceof rS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof El)return{bytesValue:tV(r.yt,t._byteString)};if(t instanceof Jn){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$O(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${QI(t)}`)}(n,e)}function Z$(n,e){const t={};return sB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gf(n,(r,i)=>{const s=ap(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Y$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof rS||n instanceof El||n instanceof Jn||n instanceof sp)}function SP(n,e,t){if(!Y$(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=QI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function AP(n,e,t){if((e=(0,$.m9)(e))instanceof Mu)return e._internalPath;if("string"==typeof e)return oS(n,e);throw aS("Field path arguments must be of type string or ",n,!1,void 0,t)}const z8=new RegExp("[~\\*/\\[\\]]");function oS(n,e,t){if(e.search(z8)>=0)throw aS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mu(...e.split("."))._internalPath}catch{throw aS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function aS(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||u)&&(p+=" (found",s&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new Re(ce.INVALID_ARGUMENT,h+n+p)}function K$(n,e){return n.some(t=>t.isEqual(e))}class Pw{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new W8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class W8 extends Pw{data(){return super.data()}}function lS(n,e){return"string"==typeof e?oS(n,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}function J$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NP{}class kw extends NP{}function Dd(n,e,...t){let r=[];e instanceof NP&&r.push(e),r=r.concat(t),function(i){const s=i.filter(h=>h instanceof oy).length,u=i.filter(h=>h instanceof Fw).length;if(s>1||s>0&&u>0)throw new Re(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Fw extends kw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fw(e,t,r)}_apply(e){const t=this._parse(e);return tH(e._query,t),new Wi(e.firestore,e.converter,UO(e._query,t))}_parse(e){const t=op(e.firestore);return function(i,s,u,h,p,_,b){let D;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){eH(b,_);const S=[];for(const N of b)S.push(X$(h,i,N));D={arrayValue:{values:S}}}else D=X$(h,i,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||eH(b,_),D=q$(u,"where",b,"in"===_||"not-in"===_);return ln.create(p,_,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class oy extends NP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new oy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:On.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const u=i.getFlattenedFilters();for(const h of u)tH(s,h),s=UO(s,h)}(e._query,t),new Wi(e.firestore,e.converter,UO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RP extends kw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RP(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new U_(i,s);return function(h,p){if(null===FO(h)){const _=AI(h);null!==_&&nH(0,_,p.field)}}(r,u),u}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Su(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class uS extends kw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new uS(e,t,r)}_apply(e){return new Wi(e.firestore,e.converter,NI(e._query,this._limit,this._limitType))}}class cS extends kw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new cS(e,t,r)}_apply(e){const t=Q$(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(i=t,new Su((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class dS extends kw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new dS(e,t,r)}_apply(e){const t=Q$(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(i=t,new Su((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Q$(n,e,t,r){if(t[0]=(0,$.m9)(t[0]),t[0]instanceof Pw)return function(i,s,u,h,p){if(!h)throw new Re(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const _=[];for(const b of Yf(i))if(b.field.isKeyField())_.push(qf(s,h.key));else{const D=h.data.field(b.field);if(NO(D))throw new Re(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const S=b.field.canonicalString();throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}_.push(D)}return new yd(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=op(n.firestore);return function(s,u,h,p,_,b){const D=s.explicitOrderBy;if(_.length>D.length)throw new Re(ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let N=0;N<_.length;N++){const x=_[N];if(D[N].field.isKeyField()){if("string"!=typeof x)throw new Re(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof x}`);if(!LO(s)&&-1!==x.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${x}' contains a slash.`);const j=s.path.child(gn.fromString(x));if(!et.isDocumentKey(j))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const Y=new et(j);S.push(qf(u,Y))}else{const j=q$(h,p,x);S.push(j)}}return new yd(S,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function X$(n,e,t){if("string"==typeof(t=(0,$.m9)(t))){if(""===t)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LO(e)&&-1!==t.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!et.isDocumentKey(r))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qf(n,new et(r))}if(t instanceof Jn)return qf(n,t._key);throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QI(t)}.`)}function eH(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function tH(n,e){if(e.isInequality()){const r=AI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=FO(n);null!==s&&nH(0,i,s)}const t=function(r,i){for(const s of r)for(const u of s.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nH(n,e,t){if(!t.isEqual(e))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class MP{convertValue(e,t="none"){switch(Wf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){const r={};return Gf(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new rS(Nr(e.latitude),Nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=aB(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sw(e));default:return null}}convertTimestamp(e){const t=gd(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);Ct(dV(r));const i=new pd(r.get(1),r.get(3)),s=new et(r.popFirst(5));return i.isEqual(t)||Br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function hS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class t5 extends MP{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends Pw{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Lw extends Ou{data(e={}){return super.data(e)}}class Id{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new lp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Lw(this._firestore,this._userDataWriter,r.key,r,new lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Lw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new lp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new Lw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new lp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,_=-1;return 0!==u.type&&(p=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),_=s.indexOf(u.doc.key)),{type:n5(u.type),doc:h,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function n5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function iH(n,e){return n instanceof Ou&&e instanceof Ou?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Id&&e instanceof Id&&n._firestore===e._firestore&&pP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Sd extends MP{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function sH(n,e,t){n=un(n,Jn);const r=un(n.firestore,Qn),i=hS(n.converter,e,t);return ay(r,[sS(op(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,or.none())])}function oH(n,e,t,...r){n=un(n,Jn);const i=un(n.firestore,Qn),s=op(i);let u;return u="string"==typeof(e=(0,$.m9)(e))||e instanceof Mu?IP(s,"updateDoc",n._key,e,t,r):DP(s,"updateDoc",n._key,e),ay(i,[u.toMutation(n._key,or.exists(!0))])}function aH(n,...e){var t,r,i;n=(0,$.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||CP(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(CP(e[u])){const D=e[u];e[u]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[u+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[u+2]=null===(i=D.complete)||void 0===i?void 0:i.bind(D)}let p,_,b;if(n instanceof Jn)_=un(n.firestore,Qn),b=V_(n._key.path),p={next:D=>{e[u]&&e[u](OP(_,n,D))},error:e[u+1],complete:e[u+2]};else{const D=un(n,Wi);_=un(D.firestore,Qn),b=D._query;const S=new Sd(_);p={next:N=>{e[u]&&e[u](new Id(_,S,D,N))},error:e[u+1],complete:e[u+2]},J$(n._query)}return function(D,S,N,x){const j=new eS(x),Y=new Vx(S,j,N);return D.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return kx(yield sy(D),Y)})),()=>{j.bc(),D.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return Lx(yield sy(D),Y)}))}}($r(_),b,h,p)}function ay(n,e){return function(t,r){const i=new ui;return t.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function KZ(n,e,t){return zx.apply(this,arguments)}(yield wP(t),r,i)})),i.promise}($r(n),e)}function OP(n,e,t){const r=t.docs.get(e._key),i=new Sd(n);return new Ou(n,i,e._key,r,new lp(t.hasPendingWrites,t.fromCache),e.converter)}const h5={maxAttempts:5};class lH{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=op(e)}set(e,t,r){this._verifyNotCommitted();const i=Ad(e,this._firestore),s=hS(i.converter,t,r),u=sS(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,or.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Ad(e,this._firestore);let u;return u="string"==typeof(t=(0,$.m9)(t))||t instanceof Mu?IP(this._dataReader,"WriteBatch.update",s._key,t,r,i):DP(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ad(e,this._firestore);return this._mutations=this._mutations.concat(new G_(t._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ad(n,e){if((n=(0,$.m9)(n)).firestore!==e)throw new Re(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class f5 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=op(e)}get(e){const t=Ad(e,this._firestore),r=new t5(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gt();const s=i[0];if(s.isFoundDocument())return new Pw(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Pw(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const i=Ad(e,this._firestore),s=hS(i.converter,t,r),u=sS(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const s=Ad(e,this._firestore);let u;return u="string"==typeof(t=(0,$.m9)(t))||t instanceof Mu?IP(this._dataReader,"Transaction.update",s._key,t,r,i):DP(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Ad(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ad(e,this._firestore),r=new Sd(this._firestore);return super.get(e).then(i=>new Ou(this._firestore,r,t._key,i._document,new lp(!1,!1),t.converter))}}function xP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cH(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function dH(){if(!function Vq(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){P_=rt.SDK_VERSION,(0,rt._registerComponent)(new Yr.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),u=new Qn(new Sq(t.getProvider("auth-internal")),new Rq(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pd(h.options.projectId,p)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(ZU,"3.8.3",n),(0,rt.registerVersion)(ZU,"3.8.3","esm2017")}();class Uw{constructor(e){this._delegate=e}static fromBase64String(e){return dH(),new Uw(El.fromBase64String(e))}static fromUint8Array(e){return cH(),new Uw(El.fromUint8Array(e))}toBase64(){return dH(),this._delegate.toBase64()}toUint8Array(){return cH(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PP(n){return function E5(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class C5{enableIndexedDbPersistence(e,t){return function M8(n,e){j$(n=un(n,Qn));const t=$r(n),r=n._freezeSettings(),i=new hP;return H$(t,i,new T$(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function O8(n){j$(n=un(n,Qn));const e=$r(n),t=n._freezeSettings(),r=new hP;return H$(e,r,new h8(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function x8(n){if(n._initialized&&!n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{yield(t=(0,Z.Z)(function*(r){if(!ga.C())return Promise.resolve();const i=r+"main";yield ga.delete(i)}),function(r){return t.apply(this,arguments)})(sx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hH{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof pd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$f("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){M$(this._delegate,e,t,r)}enableNetwork(){return function k8(n){return function b8(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield L$(n),t=yield bP(n);return e.setNetworkEnabled(!0),function(r){const i=lt(r);return i._u.delete(0),Rw(i)}(t)}))}($r(n=un(n,Qn)))}(this._delegate)}disableNetwork(){return function F8(n){return function w8(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield L$(n),t=yield bP(n);return e.setNetworkEnabled(!1),(r=(0,Z.Z)(function*(i){const s=lt(i);s._u.add(0),yield Q_(s),s.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($r(n=un(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,D$("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function P8(n){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function e8(n,e){return Kx.apply(this,arguments)}(yield wP(e),t)})),t.promise}($r(n=un(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function d5(n,e){return function T8(n,e){const t=new eS(e);return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return r=yield sy(n),i=t,lt(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return r=yield sy(n),i=t,void lt(r).Ru.delete(i);var r,i}))}}($r(n=un(n,Qn)),CP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ly(this,O$(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new Po(this,XI(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Es(this,function f8(n,e){if(n=un(n,Ow),fP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wi(n,null,(t=e,new Su(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function p5(n,e,t){n=un(n,Qn);const r=Object.assign(Object.assign({},h5),t);return function(i){if(i.maxAttempts<1)throw new Re(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,u){const h=new ui;return i.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){const p=yield function U$(n){return tS(n).then(e=>e.datastore)}(i);new y8(i.asyncQueue,p,u,s,h).run()})),h.promise}($r(n),i=>e(new f5(n,i)),r)}(this._delegate,t=>e(new fH(this,t)))}batch(){return $r(this._delegate),new pH(new lH(this._delegate,e=>ay(this._delegate,e)))}loadBundle(e){return function L8(n,e){const t=$r(n=un(n,Qn)),r=new A8;return function D8(n,e,t,r){const i=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return P$(p,_);if(p instanceof ArrayBuffer)return P$(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new p8(p,u);var p}(t,Nw(e));n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){!function d8(n,e,t){const r=lt(n);var i;(i=(0,Z.Z)(function*(s,u,h){try{const p=yield u.getMetadata();if(yield function(S,N){const x=lt(S),j=Vr(N.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",Y=>x.Ns.getBundleMetadata(Y,N.id)).then(Y=>!!Y&&Y.createTime.compareTo(j)>=0)}(s.localStore,p))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(S=p).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);h._updateProgress(p$(p));const _=new GZ(p,s.localStore,u.yt);let b=yield u.mc();for(;b;){const S=yield _.Fu(b);S&&h._updateProgress(S),b=yield u.mc()}const D=yield _.complete();return yield Ru(s,D.Lu,void 0),yield function(S,N){const x=lt(S);return x.persistence.runTransaction("Save bundle","readwrite",j=>x.Ns.saveBundleMetadata(j,N))}(s.localStore,p),h._completeWith(D.progress),Promise.resolve(D.Bu)}catch(p){return $f("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var S}),function(s,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield wP(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function U8(n,e){return function I8(n,e){return n.asyncQueue.enqueue((0,Z.Z)(function*(){return function(t,r){const i=lt(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(yield nS(n),e)}))}($r(n=un(n,Qn)),e).then(t=>t?new Wi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Es(this,t):null)}}class fS extends MP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uw(new El(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Po.forKey(t,this.firestore,null)}}class fH{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new fS(e)}get(e){const t=cp(e);return this._delegate.get(t).then(r=>new Bw(this._firestore,new Ou(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=cp(e);return r?(xP("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=cp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=cp(e);return this._delegate.delete(t),this}}class pH{constructor(e){this._delegate=e}set(e,t,r){const i=cp(e);return r?(xP("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=cp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=cp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class up{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Lw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=up.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new up(e,new fS(e),t),i.set(t,s)),s}}up.INSTANCES=new WeakMap;class Po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Po(t,new Jn(t._delegate,r,new et(e)))}static forKey(e,t,r){return new Po(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ly(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ly(this.firestore,O$(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$.m9)(e))instanceof Jn&&x$(this._delegate,e)}set(e,t){t=xP("DocumentReference.set",t);try{return t?sH(this._delegate,e,t):sH(this._delegate,e)}catch(r){throw ws(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?oH(this._delegate,e):oH(this._delegate,e,t,...r)}catch(i){throw ws(i,"updateDoc()","DocumentReference.update()")}}delete(){return function u5(n){return ay(un(n.firestore,Qn),[new G_(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=gH(e),r=mH(e,i=>new Bw(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return aH(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function i5(n){n=un(n,Jn);const e=un(n.firestore,Qn),t=$r(e),r=new Sd(e);return function E8(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(r=(0,Z.Z)(function*(i,s,u){try{const h=yield function(p,_){const b=lt(p);return b.persistence.runTransaction("read document","readonly",D=>b.localDocuments.getDocument(D,_))}(i,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Re(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=ty(h,`Failed to get document '${s} from cache`);u.reject(p)}}),function(i,s,u){return r.apply(this,arguments)})(yield nS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ou(e,r,n._key,i,new lp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function s5(n){n=un(n,Jn);const e=un(n.firestore,Qn);return B$($r(e),n._key,{source:"server"}).then(t=>OP(e,n,t))}(this._delegate):function r5(n){n=un(n,Jn);const e=un(n.firestore,Qn);return B$($r(e),n._key).then(t=>OP(e,n,t))}(this._delegate),t.then(r=>new Bw(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?up.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function gH(n){for(const e of n)if("object"==typeof e&&!PP(e))return e;return{}}function mH(n,e){var t,r;let i;return i=PP(n[0])?n[0]:PP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Bw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Po(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iH(this._delegate,e._delegate)}}class Vw extends Bw{data(e){const t=this._delegate.data(e);return function Tq(n,e){n||gt()}(void 0!==t),t}}class Es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fS(e)}where(e,t,r){try{return new Es(this.firestore,Dd(this._delegate,function q8(n,e,t){const r=e,i=lS("where",n);return Fw._create(i,r,t)}(e,t,r)))}catch(i){throw ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Es(this.firestore,Dd(this._delegate,function Z8(n,e="asc"){const t=e,r=lS("orderBy",n);return RP._create(r,t)}(e,t)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Es(this.firestore,Dd(this._delegate,function Y8(n){return A$("limit",n),uS._create("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Es(this.firestore,Dd(this._delegate,function K8(n){return A$("limitToLast",n),uS._create("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Es(this.firestore,Dd(this._delegate,function J8(...n){return cS._create("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Es(this.firestore,Dd(this._delegate,function Q8(...n){return cS._create("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Es(this.firestore,Dd(this._delegate,function X8(...n){return dS._create("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Es(this.firestore,Dd(this._delegate,function e5(...n){return dS._create("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return pP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function a5(n){n=un(n,Wi);const e=un(n.firestore,Qn),t=$r(e),r=new Sd(e);return function C8(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(r=(0,Z.Z)(function*(i,s,u){try{const h=yield WI(i,s,!0),p=new _$(s,h.Hi),_=p.Wu(h.documents),b=p.applyChanges(_,!1);u.resolve(b.snapshot)}catch(h){const p=ty(h,`Failed to execute query '${s} against cache`);u.reject(p)}}),function(i,s,u){return r.apply(this,arguments)})(yield nS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Id(e,r,n,i))}(this._delegate):"server"===e?.source?function l5(n){n=un(n,Wi);const e=un(n.firestore,Qn),t=$r(e),r=new Sd(e);return V$(t,n._query,{source:"server"}).then(i=>new Id(e,r,n,i))}(this._delegate):function o5(n){n=un(n,Wi);const e=un(n.firestore,Qn),t=$r(e),r=new Sd(e);return J$(n._query),V$(t,n._query).then(i=>new Id(e,r,n,i))}(this._delegate),t.then(r=>new kP(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=gH(e),r=mH(e,i=>new kP(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return aH(this._delegate,t,r)}withConverter(e){return new Es(this.firestore,this._delegate.withConverter(e?up.getInstance(this.firestore,e):null))}}class D5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Vw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Vw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new D5(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Vw(this._firestore,r))})}isEqual(e){return iH(this._delegate,e._delegate)}}class ly extends Es{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Po(this.firestore,e):null}doc(e){try{return new Po(this.firestore,void 0===e?XI(this._delegate):XI(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function c5(n,e){const t=un(n.firestore,Qn),r=XI(n),i=hS(n.converter,e);return ay(t,[sS(op(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Po(this.firestore,t))}isEqual(e){return x$(this._delegate,e._delegate)}withConverter(e){return new ly(this.firestore,this._delegate.withConverter(e?up.getInstance(this.firestore,e):null))}}function cp(n){return un(n,Jn)}class FP{constructor(...e){this._delegate=new Mu(...e)}static documentId(){return new FP(Ar.keyField().canonicalString())}isEqual(e){return(e=(0,$.m9)(e))instanceof Mu&&this._delegate._internalPath.isEqual(e._internalPath)}}class dp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function m5(){return new TP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new dp(e)}static delete(){const e=function g5(){return new xw("deleteField")}();return e._methodName="FieldValue.delete",new dp(e)}static arrayUnion(...e){const t=function _5(...n){return new H8("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new dp(t)}static arrayRemove(...e){const t=function y5(...n){return new j8("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new dp(t)}static increment(e){const t=function v5(n){return new G8("increment",n)}(e);return t._methodName="FieldValue.increment",new dp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const I5={Firestore:hH,GeoPoint:rS,Timestamp:sr,Blob:Uw,Transaction:fH,WriteBatch:pH,DocumentReference:Po,DocumentSnapshot:Bw,Query:Es,QueryDocumentSnapshot:Vw,QuerySnapshot:kP,CollectionReference:ly,FieldPath:FP,FieldValue:dp,setLogLevel:function T5(n){!function Cq(n){dd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function _H(n,e){return function N5(n,e=ed){return new Hn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function LP(n,e){return _H(n,e).pipe((0,nt.U)(t=>({payload:t,type:"query"})))}function pS(n,e){return LP(n,e).pipe(hs(void 0),b_(),(0,nt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const p=i.find(b=>b.doc.ref.isEqual(u.ref)),_=t?.payload.docs.find(b=>b.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function yH(n,e,t){return pS(n,t).pipe(Wa((r,i)=>function M5(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function O5(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Rf(),(0,nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function UP(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function vH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function A5(n){(function S5(n,e){n.INTERNAL.registerComponent(new Yr.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},I5)))})(n,(e,t)=>new hH(e,t,new C5)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Nb.Z);class bH{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=pS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,nt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(hs(void 0),b_(),An(([r,i])=>i.length>0||!r),(0,nt.U)(([r,i])=>i),Jr)}auditTrail(e){return this.stateChanges(e).pipe(Wa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vH(e);return yH(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jr)}valueChanges(e={}){return LP(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Jr)}get(e){return(0,Kt.D)(this.query.get(e)).pipe(Jr)}add(e){return this.ref.add(e)}doc(e){return new wH(this.ref.doc(e),this.afs)}}class wH{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=EH(r,t);return new bH(i,s,this.afs)}snapshotChanges(){return function R5(n,e){return _H(n,e).pipe(hs(void 0),b_(),(0,nt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jr)}valueChanges(e={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Kt.D)(this.ref.get(e)).pipe(Jr)}}class x5{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?pS(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),An(t=>t.length>0),Jr):pS(this.query,this.afs.schedulers.outsideAngular).pipe(Jr)}auditTrail(e){return this.stateChanges(e).pipe(Wa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vH(e);return yH(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jr)}valueChanges(e={}){return LP(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Jr)}get(e){return(0,Kt.D)(this.query.get(e)).pipe(Jr)}}const P5=new o.OlP("angularfire2.enableFirestorePersistence"),k5=new o.OlP("angularfire2.firestore.persistenceSettings"),F5=new o.OlP("angularfire2.firestore.settings"),L5=new o.OlP("angularfire2.firestore.use-emulator");function EH(n,e=(t=>t)){return{query:e(n),ref:n}}let xu=(()=>{class n{constructor(t,r,i,s,u,h,p,_,b,D,S,N,x,j,Y,me,De){this.schedulers=p;const je=(0,wi.on)(t,h,r),ke=b;D&&Oo(je,h,S,x,j,Y,N,me),[this.firestore,this.persistenceEnabled$]=(0,wi.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const Ze=h.runOutsideAngular(()=>je.firestore());if(s&&Ze.settings(s),ke&&Ze.useEmulator(...ke),i&&!Yp(u)){const Qe=()=>{try{return(0,Kt.D)(Ze.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(kt){return typeof console<"u"&&console.warn(kt),ft(!1)}};return[Ze,h.runOutsideAngular(Qe)]}return[Ze,ft(!1)]},[s,ke,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=EH(i,r),h=this.schedulers.ngZone.run(()=>s);return new bH(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),s=this.firestore.collectionGroup(t);return new x5(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new wH(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(wi.Dh),o.LFG(wi.xv,8),o.LFG(P5,8),o.LFG(F5,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG($i),o.LFG(k5,8),o.LFG(L5,8),o.LFG(Ab,8),o.LFG(Ib,8),o.LFG(VD,8),o.LFG(y_,8),o.LFG(ha,8),o.LFG(Sb,8),o.LFG(v_,8),o.LFG(ml,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class Cl{constructor(e,t,r,i){this.http=e,this.router=t,this.fireauth=r,this.afs=i,this.user=new Zn(!1),this.productsRef=this.afs.collection("users")}signup(e,t){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCXDVFX6EdK1-4DpbEGrqocOgpPAEqN7DQ",{email:e,password:t,returnSecureToken:!0}).pipe(fs(r=>{if(console.log(r),!r.error||!r.error.error.message)return yi("UNKNOWN_ERROR");switch(r.error.error.message){case"EMAIL_EXISTS":return yi("EMAIL_EXISTS");case"WEAK_PASSWORD : Password should be at least 6 characters":return yi("WEAK_PASSWORD : Password should be at least 6 characters");default:return yi("UNKNOWN_ERROR")}}),nr(r=>{const i=new Date((new Date).getTime()+1e3*+r.expiresIn),s=new ol(r.email,r.localId,r.idToken,i);this.user.next(s),localStorage.setItem("userData",JSON.stringify(s))}))}login(e,t){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCXDVFX6EdK1-4DpbEGrqocOgpPAEqN7DQ",{email:e,password:t,returnSecureToken:!0}).pipe(fs(r=>(console.log(r),yi(r.error&&r.error.error.message?"COMMON_ERROR":"UNKNOWN_ERROR"))),nr(r=>{const i=new Date((new Date).getTime()+1e3*+r.expiresIn),s=new ol(r.email,r.localId,r.idToken,i);this.user.next(s),this.autoLogout(1e3*+r.expiresIn),localStorage.setItem("userData",JSON.stringify(s))}))}googleSignIn(){return this.fireauth.signInWithPopup(new Kh.Q).then(e=>{console.log(e),e.additionalUserInfo.isNewUser&&(this.model={EMAIL_ADD:e.user.email,FIRST_NAME:e.user.displayName.split(" ")[0],LAST_NAME:e.user.displayName.split(" ")[e.user.displayName.split(" ").length-1],PASSWORD:null,USERNAME:e.user.displayName},this.productsRef.doc(e.user.email).set(this.model)),this.http.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyCXDVFX6EdK1-4DpbEGrqocOgpPAEqN7DQ",{grant_type:"refresh_token",refresh_token:e.user.refreshToken}).subscribe(t=>{const r=new Date((new Date).getTime()+1e3*+t.expires_in),i=new ol(e.user.email,e.user.uid,t.id_token,r);this.user.next(i),this.autoLogout(1e3*+t.expires_in),localStorage.setItem("userData",JSON.stringify(i)),this.router.navigate(["/main"])})},e=>{alert(e.message)})}logOut(){this.user.next(null),localStorage.removeItem("userData"),this.router.navigate(["/"]),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}autoLogin(){const e=JSON.parse(localStorage.getItem("userData")||"{}");if(!e)return;const t=new ol(e.email,e.id,e._token,new Date(e._tokenExpirationDate));if(t.token){this.user.next(t);const r=new Date(e._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(r)}}autoLogout(e){this.tokenExpirationTimer=setTimeout(()=>{this.logOut()},e)}}Cl.\u0275fac=function(e){return new(e||Cl)(o.LFG(e0),o.LFG(Zr),o.LFG(Ab),o.LFG(xu))},Cl.\u0275prov=o.Yz7({token:Cl,factory:Cl.\u0275fac,providedIn:"root"});class $w{constructor(e){this.loginService=e,this.title="project-flora"}ngOnInit(){this.loginService.autoLogin()}}$w.\u0275fac=function(e){return new(e||$w)(o.Y36(Cl))},$w.\u0275cmp=o.Xpm({type:$w,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&o._UZ(0,"router-outlet")},dependencies:[Nv]});class U5{constructor(e,t){this.email=e,this.pass=t}}var B5=F(1144);const V5=["addListener","removeListener"],$5=["addEventListener","removeEventListener"],H5=["on","off"];function qi(n,e,t,r){if((0,Bi.m)(t)&&(r=t,t=void 0),r)return qi(n,e,t).pipe(wo(r));const[i,s]=function z5(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?$5.map(u=>h=>n[u](e,h,t)):function j5(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?V5.map(CH(n,e)):function G5(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?H5.map(CH(n,e)):[];if(!i&&(0,B5.z)(n))return(0,Fr.z)(u=>qi(u,e,t))((0,ts.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Hn.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return i(h),()=>s(h)})}function CH(n,e){return t=>r=>n[t](e,r)}var W5=F(3532);function BP(n=0,e,t=cD){let r=-1;return null!=e&&((0,W5.K)(e)?t=e:r=e),new Hn.y(i=>{let s=function q5(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const{isArray:Z5}=Array;function TH(n){return 1===n.length&&Z5(n[0])?n[0]:n}function DH(...n){return 1===(n=TH(n)).length?(0,ts.Xf)(n[0]):new Hn.y(function Y5(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ts.Xf)(n[r]).subscribe((0,En.x)(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))}var gS=F(5032);const IH=new Hn.y(gS.Z);function mS(...n){const e=(0,ta.jO)(n),t=TH(n);return t.length?new Hn.y(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let u=0;!r.closed&&u<t.length;u++)(0,ts.Xf)(t[u]).subscribe((0,En.x)(r,h=>{if(i[u].push(h),i.every(p=>p.length)){const p=i.map(_=>_.shift());r.next(e?e(...p):p),i.some((_,b)=>!_.length&&s[b])&&r.complete()}},()=>{s[u]=!0,!i[u].length&&r.complete()}));return()=>{i=s=null}}):ds.E}function Mr(n){return(0,kn.e)((e,t)=>{(0,ts.Xf)(n).subscribe((0,En.x)(t,()=>t.complete(),gS.Z)),!t.closed&&e.subscribe(t)})}function VP(...n){const e=(0,ta.jO)(n);return(0,kn.e)((t,r)=>{const i=n.length,s=new Array(i);let u=n.map(()=>!1),h=!1;for(let p=0;p<i;p++)(0,ts.Xf)(n[p]).subscribe((0,En.x)(r,_=>{s[p]=_,!h&&!u[p]&&(u[p]=!0,(h=u.every(us.y))&&(u=null))},gS.Z));t.subscribe((0,En.x)(r,p=>{if(h){const _=[p,...s];r.next(e?e(..._):_)}}))})}function SH(n,e){return e?t=>za(e.pipe(jn(1),function J5(){return(0,kn.e)((n,e)=>{n.subscribe((0,En.x)(e,gS.Z))})}()),t.pipe(SH(n))):(0,Fr.z)((t,r)=>(0,ts.Xf)(n(t,r)).pipe(jn(1),vc(t)))}let AH=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),hp=(()=>{class n extends AH{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Bs=new o.OlP("NgValueAccessor"),nY={provide:Bs,useExisting:(0,o.Gpc)(()=>Nd),multi:!0},iY=new o.OlP("CompositionEventMode");let Nd=(()=>{class n extends AH{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rY(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(iY,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&o.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[o._Bn([nY]),o.qOj]}),n})();function Rd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Zi=new o.OlP("NgValidators"),Md=new o.OlP("NgAsyncValidators"),oY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function xH(n){return Rd(n.value)?{required:!0}:null}function kH(n){return Rd(n.value)||oY.test(n.value)?null:{email:!0}}function _S(n){return null}function BH(n){return null!=n}function VH(n){return(0,o.QGY)(n)?(0,Kt.D)(n):n}function $H(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function HH(n,e){return e.map(t=>t(n))}function jH(n){return n.map(e=>function aY(n){return!n.validate}(e)?e:t=>e.validate(t))}function $P(n){return null!=n?function GH(n){if(!n)return null;const e=n.filter(BH);return 0==e.length?null:function(t){return $H(HH(t,e))}}(jH(n)):null}function HP(n){return null!=n?function zH(n){if(!n)return null;const e=n.filter(BH);return 0==e.length?null:function(t){return function eY(...n){const e=(0,ta.jO)(n),{args:t,keys:r}=bo(n),i=new Hn.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let p=u,_=u;for(let b=0;b<u;b++){let D=!1;(0,ts.Xf)(t[b]).subscribe((0,En.x)(s,S=>{D||(D=!0,_--),h[b]=S},()=>p--,void 0,()=>{(!p||!D)&&(_||s.next(r?vh(r,h):h),s.complete())}))}});return e?i.pipe(wo(e)):i}(HH(t,e).map(VH)).pipe((0,nt.U)($H))}}(jH(n)):null}function WH(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jP(n){return n?Array.isArray(n)?n:[n]:[]}function yS(n,e){return Array.isArray(n)?n.includes(e):n===e}function YH(n,e){const t=jP(e);return jP(n).forEach(i=>{yS(t,i)||t.push(i)}),t}function KH(n,e){return jP(e).filter(t=>!yS(n,t))}class JH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$P(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Cs extends JH{get formDirective(){return null}get path(){return null}}class Od extends JH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uy=(()=>{class n extends QH{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Od,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[o.qOj]}),n})(),vS=(()=>{class n extends QH{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cs,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[o.qOj]}),n})();const Hw="VALID",wS="INVALID",cy="PENDING",jw="DISABLED";function qP(n){return(ES(n)?n.validators:n)||null}function ZP(n,e){return(ES(e)?e.asyncValidators:n)||null}function ES(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hw}get invalid(){return this.status===wS}get pending(){return this.status==cy}get disabled(){return this.status===jw}get enabled(){return this.status!==jw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KH(e,this._rawAsyncValidators))}hasValidator(e){return yS(this._rawValidators,e)}hasAsyncValidator(e){return yS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hw||this.status===cy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jw:Hw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cy,this._hasOwnPendingAsyncValidator=!0;const t=VH(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?jw:this.errors?wS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cy)?cy:this._anyControlsHaveStatus(wS)?wS:Hw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ES(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function pY(n){return Array.isArray(n)?$P(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function gY(n){return Array.isArray(n)?HP(n):n||null}(this._rawAsyncValidators)}}class YP extends nj{constructor(e,t,r){super(qP(t),ZP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function tj(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new o.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function ej(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new o.vHH(1e3,"");if(!r[t])throw new o.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Gw=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>KP}),KP="always";function zw(n,e,t=KP){JP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function yY(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rj(n,e)})}(n,e),function bY(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function vY(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _Y(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function DS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JP(n,e){const t=function qH(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(WH(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function ZH(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(WH(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();DS(e._rawValidators,i),DS(e._rawAsyncValidators,i)}function rj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const DY={provide:Cs,useExisting:(0,o.Gpc)(()=>dy)},Ww=(()=>Promise.resolve())();let dy=(()=>{class n extends Cs{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new YP({},$P(t),HP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ww.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),zw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ww.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ww.then(()=>{const r=this._findContainer(t.path),i=new YP({});(function ij(n,e){JP(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ww.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ww.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function sj(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Zi,10),o.Y36(Md,10),o.Y36(Gw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&o.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([DY]),o.qOj]}),n})();function oj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function aj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lj=class extends nj{constructor(e=null,t,r){super(qP(t),ZP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ES(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=aj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},AY={provide:Od,useExisting:(0,o.Gpc)(()=>fp)},dj=(()=>Promise.resolve())();let fp=(()=>{class n extends Od{constructor(t,r,i,s,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new lj,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ek(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Nd?t=s:function CY(n){return Object.getPrototypeOf(n.constructor)===hp}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function XP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,o.D6c)(r);dj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function CS(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cs,9),o.Y36(Zi,10),o.Y36(Md,10),o.Y36(Bs,10),o.Y36(o.sBO,8),o.Y36(Gw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([AY]),o.qOj,o.TTD]}),n})(),SS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),fj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const UY={provide:Bs,useExisting:(0,o.Gpc)(()=>AS),multi:!0};function bj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let AS=(()=>{class n extends hp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=bj(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function BY(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([UY]),o.qOj]}),n})(),wj=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(bj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(AS,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const VY={provide:Bs,useExisting:(0,o.Gpc)(()=>ik),multi:!0};function Ej(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ik=(()=>{class n extends hp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,u)=>{s._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const u=s;for(let h=0;h<u.length;h++){const _=this._getOptionValue(u[h].value);i.push(_)}}else{const u=r.options;for(let h=0;h<u.length;h++){const p=u[h];if(p.selected){const _=this._getOptionValue(p.value);i.push(_)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function $Y(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([VY]),o.qOj]}),n})(),Cj=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ej(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ej(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(ik,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let pp=(()=>{class n{constructor(){this._validator=_S}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_S,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const GY={provide:Zi,useExisting:(0,o.Gpc)(()=>qw),multi:!0};let qw=(()=>{class n extends pp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=t=>xH}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([GY]),o.qOj]}),n})();const WY={provide:Zi,useExisting:(0,o.Gpc)(()=>NS),multi:!0};let NS=(()=>{class n extends pp{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=o.D6c,this.createValidator=t=>kH}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[o._Bn([WY]),o.qOj]}),n})();const ZY={provide:Zi,useExisting:(0,o.Gpc)(()=>sk),multi:!0};let sk=(()=>{class n extends pp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Tj(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function LH(n){return e=>function RH(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([ZY]),o.qOj]}),n})(),KY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fj]}),n})(),QY=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gw,useValue:t.callSetDisabledState??KP}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[KY]}),n})();var XY={left:"right",right:"left",bottom:"top",top:"bottom"};function RS(n){return n.replace(/left|right|bottom|top/g,function(e){return XY[e]})}function Tl(n){return n.split("-")[0]}var e7={start:"end",end:"start"};function Mj(n){return n.replace(/start|end/g,function(e){return e7[e]})}var ao="top",ma="bottom",_a="right",lo="left",ok="auto",Zw=[ao,ma,_a,lo],hy="start",Yw="end",Oj="viewport",Kw="popper",xj=Zw.reduce(function(n,e){return n.concat([e+"-"+hy,e+"-"+Yw])},[]),Pj=[].concat(Zw,[ok]).reduce(function(n,e){return n.concat([e,e+"-"+hy,e+"-"+Yw])},[]),h7=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ko(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function gp(n){return n instanceof ko(n).Element||n instanceof Element}function Fo(n){return n instanceof ko(n).HTMLElement||n instanceof HTMLElement}function ak(n){return!(typeof ShadowRoot>"u")&&(n instanceof ko(n).ShadowRoot||n instanceof ShadowRoot)}function xd(n){return((gp(n)?n.ownerDocument:n.document)||window.document).documentElement}var mp=Math.max,MS=Math.min,fy=Math.round;function lk(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kj(){return!/^((?!chrome|android).)*safari/i.test(lk())}function py(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Fo(n)&&(i=n.offsetWidth>0&&fy(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&fy(r.height)/n.offsetHeight||1);var h=(gp(n)?ko(n):window).visualViewport,p=!kj()&&t,_=(r.left+(p&&h?h.offsetLeft:0))/i,b=(r.top+(p&&h?h.offsetTop:0))/s,D=r.width/i,S=r.height/s;return{width:D,height:S,top:b,right:_+D,bottom:b+S,left:_,x:_,y:b}}function uk(n){var e=ko(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ck(n){return py(xd(n)).left+uk(n).scrollLeft}function Pu(n){return ko(n).getComputedStyle(n)}function Dl(n){return n?(n.nodeName||"").toLowerCase():null}function OS(n){return"html"===Dl(n)?n:n.assignedSlot||n.parentNode||(ak(n)?n.host:null)||xd(n)}function dk(n){var e=Pu(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function Fj(n){return["html","body","#document"].indexOf(Dl(n))>=0?n.ownerDocument.body:Fo(n)&&dk(n)?n:Fj(OS(n))}function Jw(n,e){var t;void 0===e&&(e=[]);var r=Fj(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),s=ko(r),u=i?[s].concat(s.visualViewport||[],dk(r)?r:[]):r,h=e.concat(u);return i?h:h.concat(Jw(OS(u)))}function g7(n){return["table","td","th"].indexOf(Dl(n))>=0}function Lj(n){return Fo(n)&&"fixed"!==Pu(n).position?n.offsetParent:null}function Qw(n){for(var e=ko(n),t=Lj(n);t&&g7(t)&&"static"===Pu(t).position;)t=Lj(t);return t&&("html"===Dl(t)||"body"===Dl(t)&&"static"===Pu(t).position)?e:t||function m7(n){var e=/firefox/i.test(lk());if(/Trident/i.test(lk())&&Fo(n)&&"fixed"===Pu(n).position)return null;var i=OS(n);for(ak(i)&&(i=i.host);Fo(i)&&["html","body"].indexOf(Dl(i))<0;){var s=Pu(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(n)||e}function Uj(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&ak(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hk(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Bj(n,e,t){return e===Oj?hk(function f7(n,e){var t=ko(n),r=xd(n),i=t.visualViewport,s=r.clientWidth,u=r.clientHeight,h=0,p=0;if(i){s=i.width,u=i.height;var _=kj();(_||!_&&"fixed"===e)&&(h=i.offsetLeft,p=i.offsetTop)}return{width:s,height:u,x:h+ck(n),y:p}}(n,t)):gp(e)?function _7(n,e){var t=py(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):hk(function p7(n){var e,t=xd(n),r=uk(n),i=null==(e=n.ownerDocument)?void 0:e.body,s=mp(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=mp(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+ck(n),p=-r.scrollTop;return"rtl"===Pu(i||t).direction&&(h+=mp(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:u,x:h,y:p}}(xd(n)))}function gy(n){return n.split("-")[1]}function fk(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Vj(n){var p,e=n.reference,t=n.element,r=n.placement,i=r?Tl(r):null,s=r?gy(r):null,u=e.x+e.width/2-t.width/2,h=e.y+e.height/2-t.height/2;switch(i){case ao:p={x:u,y:e.y-t.height};break;case ma:p={x:u,y:e.y+e.height};break;case _a:p={x:e.x+e.width,y:h};break;case lo:p={x:e.x-t.width,y:h};break;default:p={x:e.x,y:e.y}}var _=i?fk(i):null;if(null!=_){var b="y"===_?"height":"width";switch(s){case hy:p[_]=p[_]-(e[b]/2-t[b]/2);break;case Yw:p[_]=p[_]+(e[b]/2-t[b]/2)}}return p}function Hj(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function jj(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function pk(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,s=e.strategy,u=void 0===s?n.strategy:s,h=e.boundary,p=void 0===h?"clippingParents":h,_=e.rootBoundary,b=void 0===_?Oj:_,D=e.elementContext,S=void 0===D?Kw:D,N=e.altBoundary,x=void 0!==N&&N,j=e.padding,Y=void 0===j?0:j,me=Hj("number"!=typeof Y?Y:jj(Y,Zw)),je=n.rects.popper,ke=n.elements[x?S===Kw?"reference":Kw:S],Ze=function v7(n,e,t,r){var i="clippingParents"===e?function y7(n){var e=Jw(OS(n)),r=["absolute","fixed"].indexOf(Pu(n).position)>=0&&Fo(n)?Qw(n):n;return gp(r)?e.filter(function(i){return gp(i)&&Uj(i,r)&&"body"!==Dl(i)}):[]}(n):[].concat(e),s=[].concat(i,[t]),h=s.reduce(function(p,_){var b=Bj(n,_,r);return p.top=mp(b.top,p.top),p.right=MS(b.right,p.right),p.bottom=MS(b.bottom,p.bottom),p.left=mp(b.left,p.left),p},Bj(n,s[0],r));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}(gp(ke)?ke:ke.contextElement||xd(n.elements.popper),p,b,u),Qe=py(n.elements.reference),kt=Vj({reference:Qe,element:je,strategy:"absolute",placement:i}),Qt=hk(Object.assign({},je,kt)),br=S===Kw?Qt:Qe,hi={top:Ze.top-br.top+me.top,bottom:br.bottom-Ze.bottom+me.bottom,left:Ze.left-br.left+me.left,right:br.right-Ze.right+me.right},Hr=n.modifiersData.offset;if(S===Kw&&Hr){var Ta=Hr[i];Object.keys(hi).forEach(function(Ss){var Fp=[_a,ma].indexOf(Ss)>=0?1:-1,Lp=[ao,ma].indexOf(Ss)>=0?"y":"x";hi[Ss]+=Ta[Lp]*Fp})}return hi}const C7={name:"flip",enabled:!0,phase:"main",fn:function E7(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=void 0===i||i,u=t.altAxis,h=void 0===u||u,p=t.fallbackPlacements,_=t.padding,b=t.boundary,D=t.rootBoundary,S=t.altBoundary,N=t.flipVariations,x=void 0===N||N,j=t.allowedAutoPlacements,Y=e.options.placement,me=Tl(Y),je=p||(me!==Y&&x?function w7(n){if(Tl(n)===ok)return[];var e=RS(n);return[Mj(n),e,Mj(e)]}(Y):[RS(Y)]),ke=[Y].concat(je).reduce(function(Vy,Zd){return Vy.concat(Tl(Zd)===ok?function b7(n,e){void 0===e&&(e={});var i=e.boundary,s=e.rootBoundary,u=e.padding,h=e.flipVariations,p=e.allowedAutoPlacements,_=void 0===p?Pj:p,b=gy(e.placement),D=b?h?xj:xj.filter(function(x){return gy(x)===b}):Zw,S=D.filter(function(x){return _.indexOf(x)>=0});0===S.length&&(S=D);var N=S.reduce(function(x,j){return x[j]=pk(n,{placement:j,boundary:i,rootBoundary:s,padding:u})[Tl(j)],x},{});return Object.keys(N).sort(function(x,j){return N[x]-N[j]})}(e,{placement:Zd,boundary:b,rootBoundary:D,padding:_,flipVariations:x,allowedAutoPlacements:j}):Zd)},[]),Ze=e.rects.reference,Qe=e.rects.popper,kt=new Map,Qt=!0,br=ke[0],hi=0;hi<ke.length;hi++){var Hr=ke[hi],Ta=Tl(Hr),Ss=gy(Hr)===hy,Fp=[ao,ma].indexOf(Ta)>=0,Lp=Fp?"width":"height",po=pk(e,{placement:Hr,boundary:b,rootBoundary:D,altBoundary:S,padding:_}),Da=Fp?Ss?_a:lo:Ss?ma:ao;Ze[Lp]>Qe[Lp]&&(Da=RS(Da));var BA=RS(Da),Up=[];if(s&&Up.push(po[Ta]<=0),h&&Up.push(po[Da]<=0,po[BA]<=0),Up.every(function(Vy){return Vy})){br=Hr,Qt=!1;break}kt.set(Hr,Up)}if(Qt)for(var xL=function(Zd){var KE=ke.find(function(HA){var Bp=kt.get(HA);if(Bp)return Bp.slice(0,Zd).every(function(PL){return PL})});if(KE)return br=KE,"break"},YE=x?3:1;YE>0&&"break"!==xL(YE);YE--);e.placement!==br&&(e.modifiersData[r]._skip=!0,e.placement=br,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Xw(n,e,t){return mp(n,MS(e,t))}function gk(n){var e=py(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const S7={name:"preventOverflow",enabled:!0,phase:"main",fn:function I7(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=void 0===i||i,u=t.altAxis,h=void 0!==u&&u,S=t.tether,N=void 0===S||S,x=t.tetherOffset,j=void 0===x?0:x,Y=pk(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),me=Tl(e.placement),De=gy(e.placement),je=!De,ke=fk(me),Ze=function T7(n){return"x"===n?"y":"x"}(ke),Qe=e.modifiersData.popperOffsets,kt=e.rects.reference,Qt=e.rects.popper,br="function"==typeof j?j(Object.assign({},e.rects,{placement:e.placement})):j,hi="number"==typeof br?{mainAxis:br,altAxis:br}:Object.assign({mainAxis:0,altAxis:0},br),Hr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Ta={x:0,y:0};if(Qe){if(s){var Ss,Fp="y"===ke?ao:lo,Lp="y"===ke?ma:_a,po="y"===ke?"height":"width",Da=Qe[ke],BA=Da+Y[Fp],Up=Da-Y[Lp],VA=N?-Qt[po]/2:0,xL=De===hy?kt[po]:Qt[po],YE=De===hy?-Qt[po]:-kt[po],$A=e.elements.arrow,Vy=N&&$A?gk($A):{width:0,height:0},Zd=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},KE=Zd[Fp],HA=Zd[Lp],Bp=Xw(0,kt[po],Vy[po]),PL=je?kt[po]/2-VA-Bp-KE-hi.mainAxis:xL-Bp-KE-hi.mainAxis,kae=je?-kt[po]/2+VA+Bp+HA+hi.mainAxis:YE+Bp+HA+hi.mainAxis,kL=e.elements.arrow&&Qw(e.elements.arrow),xW=null!=(Ss=Hr?.[ke])?Ss:0,Uae=Da+kae-xW,PW=Xw(N?MS(BA,Da+PL-xW-(kL?"y"===ke?kL.clientTop||0:kL.clientLeft||0:0)):BA,Da,N?mp(Up,Uae):Up);Qe[ke]=PW,Ta[ke]=PW-Da}if(h){var kW,Vp=Qe[Ze],jA="y"===Ze?"height":"width",FW=Vp+Y["x"===ke?ao:lo],LW=Vp-Y["x"===ke?ma:_a],FL=-1!==[ao,lo].indexOf(me),UW=null!=(kW=Hr?.[Ze])?kW:0,BW=FL?FW:Vp-kt[jA]-Qt[jA]-UW+hi.altAxis,VW=FL?Vp+kt[jA]+Qt[jA]-UW-hi.altAxis:LW,$W=N&&FL?function D7(n,e,t){var r=Xw(n,e,t);return r>t?t:r}(BW,Vp,VW):Xw(N?BW:FW,Vp,N?VW:LW);Qe[Ze]=$W,Ta[Ze]=$W-Vp}e.modifiersData[r]=Ta}},requiresIfExists:["offset"]},M7={name:"arrow",enabled:!0,phase:"main",fn:function N7(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,u=t.modifiersData.popperOffsets,h=Tl(t.placement),p=fk(h),b=[lo,_a].indexOf(h)>=0?"height":"width";if(s&&u){var D=function(e,t){return Hj("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:jj(e,Zw))}(i.padding,t),S=gk(s),N="y"===p?ao:lo,x="y"===p?ma:_a,j=t.rects.reference[b]+t.rects.reference[p]-u[p]-t.rects.popper[b],Y=u[p]-t.rects.reference[p],me=Qw(s),De=me?"y"===p?me.clientHeight||0:me.clientWidth||0:0,Qe=De/2-S[b]/2+(j/2-Y/2),kt=Xw(D[N],Qe,De-S[b]-D[x]);t.modifiersData[r]=((e={})[p]=kt,e.centerOffset=kt-Qe,e)}},effect:function R7(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||Uj(e.elements.popper,i)&&(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function k7(n,e,t){void 0===t&&(t=!1);var r=Fo(e),i=Fo(e)&&function P7(n){var e=n.getBoundingClientRect(),t=fy(e.width)/n.offsetWidth||1,r=fy(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),s=xd(e),u=py(n,i,t),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(r||!r&&!t)&&(("body"!==Dl(e)||dk(s))&&(h=function x7(n){return n!==ko(n)&&Fo(n)?function O7(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):uk(n)}(e)),Fo(e)?((p=py(e,!0)).x+=e.clientLeft,p.y+=e.clientTop):s&&(p.x=ck(s))),{x:u.left+h.scrollLeft-p.x,y:u.top+h.scrollTop-p.y,width:u.width,height:u.height}}function F7(n){var e=new Map,t=new Set,r=[];function i(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(h){if(!t.has(h)){var p=e.get(h);p&&i(p)}}),r.push(s)}return n.forEach(function(s){e.set(s.name,s)}),n.forEach(function(s){t.has(s.name)||i(s)}),r}function U7(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var Gj={placement:"bottom",modifiers:[],strategy:"absolute"};function zj(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function V7(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,s=void 0===i?Gj:i;return function(h,p,_){void 0===_&&(_=s);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gj,s),modifiersData:{},elements:{reference:h,popper:p},attributes:{},styles:{}},D=[],S=!1,N={state:b,setOptions:function(me){var De="function"==typeof me?me(b.options):me;j(),b.options=Object.assign({},s,b.options,De),b.scrollParents={reference:gp(h)?Jw(h):h.contextElement?Jw(h.contextElement):[],popper:Jw(p)};var je=function L7(n){var e=F7(n);return h7.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function B7(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,b.options.modifiers)));return b.orderedModifiers=je.filter(function(Hr){return Hr.enabled}),function x(){b.orderedModifiers.forEach(function(Y){var De=Y.options,ke=Y.effect;if("function"==typeof ke){var Ze=ke({state:b,name:Y.name,instance:N,options:void 0===De?{}:De});D.push(Ze||function(){})}})}(),N.update()},forceUpdate:function(){if(!S){var me=b.elements,De=me.reference,je=me.popper;if(zj(De,je)){b.rects={reference:k7(De,Qw(je),"fixed"===b.options.strategy),popper:gk(je)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(Hr){return b.modifiersData[Hr.name]=Object.assign({},Hr.data)});for(var Ze=0;Ze<b.orderedModifiers.length;Ze++)if(!0!==b.reset){var Qe=b.orderedModifiers[Ze],kt=Qe.fn,Qt=Qe.options;"function"==typeof kt&&(b=kt({state:b,options:void 0===Qt?{}:Qt,name:Qe.name,instance:N})||b)}else b.reset=!1,Ze=-1}}},update:U7(function(){return new Promise(function(Y){N.forceUpdate(),Y(b)})}),destroy:function(){j(),S=!0}};if(!zj(h,p))return N;function j(){D.forEach(function(Y){return Y()}),D=[]}return N.setOptions(_).then(function(Y){!S&&_.onFirstUpdate&&_.onFirstUpdate(Y)}),N}}var xS={passive:!0};const H7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function $7(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=void 0===i||i,u=r.resize,h=void 0===u||u,p=ko(e.elements.popper),_=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&_.forEach(function(b){b.addEventListener("scroll",t.update,xS)}),h&&p.addEventListener("resize",t.update,xS),function(){s&&_.forEach(function(b){b.removeEventListener("scroll",t.update,xS)}),h&&p.removeEventListener("resize",t.update,xS)}},data:{}},G7={name:"popperOffsets",enabled:!0,phase:"read",fn:function j7(n){var e=n.state;e.modifiersData[n.name]=Vj({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var z7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wj(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,u=n.offsets,h=n.position,p=n.gpuAcceleration,_=n.adaptive,b=n.roundOffsets,D=n.isFixed,S=u.x,N=void 0===S?0:S,x=u.y,j=void 0===x?0:x,Y="function"==typeof b?b({x:N,y:j}):{x:N,y:j};N=Y.x,j=Y.y;var me=u.hasOwnProperty("x"),De=u.hasOwnProperty("y"),je=lo,ke=ao,Ze=window;if(_){var Qe=Qw(t),kt="clientHeight",Qt="clientWidth";Qe===ko(t)&&"static"!==Pu(Qe=xd(t)).position&&"absolute"===h&&(kt="scrollHeight",Qt="scrollWidth"),(i===ao||(i===lo||i===_a)&&s===Yw)&&(ke=ma,j-=(D&&Qe===Ze&&Ze.visualViewport?Ze.visualViewport.height:Qe[kt])-r.height,j*=p?1:-1),i!==lo&&(i!==ao&&i!==ma||s!==Yw)||(je=_a,N-=(D&&Qe===Ze&&Ze.visualViewport?Ze.visualViewport.width:Qe[Qt])-r.width,N*=p?1:-1)}var Ss,Hr=Object.assign({position:h},_&&z7),Ta=!0===b?function W7(n){var t=n.y,i=window.devicePixelRatio||1;return{x:fy(n.x*i)/i||0,y:fy(t*i)/i||0}}({x:N,y:j}):{x:N,y:j};return N=Ta.x,j=Ta.y,Object.assign({},Hr,p?((Ss={})[ke]=De?"0":"",Ss[je]=me?"0":"",Ss.transform=(Ze.devicePixelRatio||1)<=1?"translate("+N+"px, "+j+"px)":"translate3d("+N+"px, "+j+"px, 0)",Ss):((e={})[ke]=De?j+"px":"",e[je]=me?N+"px":"",e.transform="",e))}const Z7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function q7(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,s=t.adaptive,u=void 0===s||s,h=t.roundOffsets,p=void 0===h||h,b={placement:Tl(e.placement),variation:gy(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Wj(Object.assign({},b,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:p})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Wj(Object.assign({},b,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var J7=[H7,G7,Z7,{name:"applyStyles",enabled:!0,phase:"write",fn:function Y7(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Fo(s)||!Dl(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(u){var h=i[u];!1===h?s.removeAttribute(u):s.setAttribute(u,!0===h?"":h)}))})},effect:function K7(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},h=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(p,_){return p[_]="",p},{});!Fo(i)||!Dl(i)||(Object.assign(i.style,h),Object.keys(s).forEach(function(p){i.removeAttribute(p)}))})}},requires:["computeStyles"]}],Q7=V7({defaultModifiers:J7});const tK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function eK(n){var e=n.state,r=n.name,i=n.options.offset,s=void 0===i?[0,0]:i,u=Pj.reduce(function(b,D){return b[D]=function X7(n,e,t){var r=Tl(n),i=[lo,ao].indexOf(r)>=0?-1:1,s="function"==typeof t?t(Object.assign({},e,{placement:n})):t,u=s[0],h=s[1];return u=u||0,h=(h||0)*i,[lo,_a].indexOf(r)>=0?{x:h,y:u}:{x:u,y:h}}(D,e.rects,s),b},{}),h=u[e.placement],_=h.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=h.x,e.modifiersData.popperOffsets.y+=_),e.modifiersData[r]=u}};function nK(n,e){}function rK(n,e){if(1&n&&(o.TgZ(0,"button",3),o._uU(1),o.YNc(2,nK,0,0,"ng-template",4),o.qZA()),2&n){const t=e.$implicit;o.Q6J("ngbPanelToggle",t),o.xp6(1),o.hij(" ",t.title," "),o.xp6(1),o.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function iK(n,e){}function sK(n,e){}function oK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",8),o.NdJ("ngbRef",function(i){o.CHM(t);const s=o.oxw().$implicit;return o.KtG(s.panelDiv=i)}),o.TgZ(1,"div",9),o.YNc(2,sK,0,0,"ng-template",4),o.qZA()()}if(2&n){const t=o.oxw().$implicit;o.s9C("id",t.id),o.uIk("aria-labelledby",t.id+"-header"),o.xp6(2),o.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const aK=function(n,e){return{$implicit:n,opened:e}};function lK(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div",5),o.YNc(2,iK,0,0,"ng-template",6),o.qZA(),o.YNc(3,oK,3,3,"div",7),o.qZA()),2&n){const t=e.$implicit,r=o.oxw(),i=o.MAs(1);o.Tol("accordion-item "+(t.cardClass||"")),o.xp6(1),o.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),o.MGl("id","",t.id,"-header"),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",o.WLB(8,aK,t,t.isOpen)),o.xp6(1),o.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function uK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",1),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.close())}),o.qZA()}}const PS=["*"];function cK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",6),o.NdJ("click",function(){const s=o.CHM(t).$implicit,u=o.oxw();return u.focus(),o.KtG(u.select(s.id,u.NgbSlideEventSource.INDICATOR))}),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw();o.ekj("active",t.id===r.activeId),o.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function dK(n,e){}function hK(n,e){if(1&n&&(o.TgZ(0,"div",7)(1,"span",8),o.SDv(2,9),o.qZA(),o.YNc(3,dK,0,0,"ng-template",10),o.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;o.Q6J("id","slide-"+t.id),o.xp6(2),o.pQV(r+1)(i),o.QtT(2),o.xp6(1),o.Q6J("ngTemplateOutlet",t.tplRef)}}function fK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.arrowLeft())}),o._UZ(1,"span",12),o.TgZ(2,"span",8),o.SDv(3,13),o.qZA()()}}function pK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.arrowRight())}),o._UZ(1,"span",15),o.TgZ(2,"span",8),o.SDv(3,16),o.qZA()()}}const gK=["ngbDatepickerDayView",""],mK=["month"],_K=["year"];function yK(n,e){if(1&n&&(o.TgZ(0,"option",5),o._uU(1),o.qZA()),2&n){const t=e.$implicit,r=o.oxw();o.Q6J("value",t),o.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),o.xp6(1),o.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function vK(n,e){if(1&n&&(o.TgZ(0,"option",5),o._uU(1),o.qZA()),2&n){const t=e.$implicit,r=o.oxw();o.Q6J("value",t),o.xp6(1),o.Oqu(r.i18n.getYearNumerals(t))}}function bK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngb-datepicker-navigation-select",7),o.NdJ("select",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.select.emit(i))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function wK(n,e){1&n&&o._UZ(0,"div",0)}function EK(n,e){1&n&&o._UZ(0,"div",0)}function CK(n,e){if(1&n&&(o.YNc(0,wK,1,0,"div",9),o.TgZ(1,"div",10),o._uU(2),o.qZA(),o.YNc(3,EK,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=o.oxw(2);o.Q6J("ngIf",r>0),o.xp6(2),o.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),o.xp6(1),o.Q6J("ngIf",r!==i.months.length-1)}}function TK(n,e){if(1&n&&o.YNc(0,CK,4,3,"ng-template",8),2&n){const t=o.oxw();o.Q6J("ngForOf",t.months)}}function DK(n,e){if(1&n&&(o.TgZ(0,"div",5),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.i18n.getWeekLabel())}}function IK(n,e){if(1&n&&(o.TgZ(0,"div",6),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Oqu(t)}}function SK(n,e){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,DK,2,1,"div",3),o.YNc(2,IK,2,1,"div",4),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.datepicker.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",t.viewModel.weekdays)}}function AK(n,e){if(1&n&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&n){const t=o.oxw(2).$implicit,r=o.oxw();o.xp6(1),o.Oqu(r.i18n.getWeekNumerals(t.number))}}function NK(n,e){}function RK(n,e){if(1&n&&o.YNc(0,NK,0,0,"ng-template",14),2&n){const t=o.oxw().$implicit,r=o.oxw(3);o.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function MK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",12),o.NdJ("click",function(i){const u=o.CHM(t).$implicit;return o.oxw(3).doSelect(u),o.KtG(i.preventDefault())}),o.YNc(1,RK,1,2,"ng-template",13),o.qZA()}if(2&n){const t=e.$implicit;o.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),o.Q6J("tabindex",t.tabindex),o.uIk("aria-label",t.ariaLabel),o.xp6(1),o.Q6J("ngIf",!t.hidden)}}function OK(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,AK,2,1,"div",9),o.YNc(2,MK,2,9,"div",10),o.qZA()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.xp6(1),o.Q6J("ngIf",r.datepicker.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",t.days)}}function xK(n,e){1&n&&o.YNc(0,OK,3,2,"div",7),2&n&&o.Q6J("ngIf",!e.$implicit.collapsed)}const PK=["defaultDayTemplate"],kK=["content"];function FK(n,e){if(1&n&&o._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,s=e.disabled,u=e.focused;o.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",s)("focused",u)}}function LK(n,e){if(1&n&&(o.TgZ(0,"div",12),o._uU(1),o.qZA()),2&n){const t=o.oxw().$implicit,r=o.oxw(2);o.xp6(1),o.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function UK(n,e){if(1&n&&(o.TgZ(0,"div",9),o.YNc(1,LK,2,1,"div",10),o._UZ(2,"ngb-datepicker-month",11),o.qZA()),2&n){const t=e.$implicit,r=o.oxw(2);o.xp6(1),o.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),o.xp6(1),o.Q6J("month",t.firstDate)}}function BK(n,e){if(1&n&&o.YNc(0,UK,3,2,"div",8),2&n){const t=o.oxw();o.Q6J("ngForOf",t.model.months)}}function VK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngb-datepicker-navigation",13),o.NdJ("navigate",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.onNavigateEvent(i))})("select",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.onNavigateDateSelect(i))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function $K(n,e){}function HK(n,e){}const jK=["dialog"],GK=["ngbNavOutlet",""];function zK(n,e){}const WK=function(n){return{$implicit:n}};function qK(n,e){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,zK,0,0,"ng-template",3),o.qZA()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.Q6J("item",t)("nav",r.nav)("role",r.paneRole),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",o.VKq(5,WK,t.active||r.isPanelTransitioning(t)))}}function ZK(n,e){if(1&n&&o.YNc(0,qK,2,7,"div",1),2&n){const t=e.$implicit,r=o.oxw();o.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function YK(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,10),o.qZA())}function KK(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,11),o.qZA())}function JK(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,12),o.qZA())}function QK(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,13),o.qZA())}function XK(n,e){1&n&&o._uU(0,"...")}function eJ(n,e){1&n&&(o.TgZ(0,"span",15),o._uU(1,"(current)"),o.qZA())}function tJ(n,e){if(1&n&&(o._uU(0),o.YNc(1,eJ,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;o.hij(" ",t," "),o.xp6(1),o.Q6J("ngIf",t===r)}}function nJ(n,e){}const rJ=function(n){return{disabled:!0,currentPage:n}};function iJ(n,e){if(1&n&&(o.TgZ(0,"a",20),o.YNc(1,nJ,0,0,"ng-template",8),o.qZA()),2&n){const t=o.oxw(2).$implicit,r=o.oxw(),i=o.MAs(9);o.xp6(1),o.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",o.VKq(2,rJ,t))}}function sJ(n,e){}const oJ=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function aJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"a",21),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw().$implicit;return o.oxw(2).selectPage(s),o.KtG(i.preventDefault())}),o.YNc(1,sJ,0,0,"ng-template",8),o.qZA()}if(2&n){const t=o.oxw().$implicit,r=o.oxw(),i=r.disabled,s=r.$implicit,u=o.oxw(),h=o.MAs(11);o.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==u.tplNumber?null:u.tplNumber.templateRef)||h)("ngTemplateOutletContext",o.kEZ(4,oJ,i,t,s))}}function lJ(n,e){if(1&n&&(o.TgZ(0,"li",17),o.YNc(1,iJ,2,4,"a",18),o.YNc(2,aJ,2,8,"a",19),o.qZA()),2&n){const t=e.$implicit,r=o.oxw(),i=r.$implicit,s=r.disabled,u=o.oxw();o.ekj("active",t===i)("disabled",u.isEllipsis(t)||s),o.uIk("aria-current",t===i?"page":null),o.xp6(1),o.Q6J("ngIf",u.isEllipsis(t)),o.xp6(1),o.Q6J("ngIf",!u.isEllipsis(t))}}function uJ(n,e){1&n&&o.YNc(0,lJ,3,7,"li",16),2&n&&o.Q6J("ngForOf",e.pages)}function cJ(n,e){}const mk=function(n,e){return{disabled:n,currentPage:e}};function dJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",22),o.NdJ("click",function(i){return o.CHM(t),o.oxw().selectPage(1),o.KtG(i.preventDefault())}),o.YNc(2,cJ,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(1);o.ekj("disabled",t.previousDisabled()),o.xp6(1),o.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",o.WLB(6,mk,t.previousDisabled(),t.page))}}function hJ(n,e){}const fJ=function(n){return{disabled:n}};function pJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",23),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw();return s.selectPage(s.page-1),o.KtG(i.preventDefault())}),o.YNc(2,hJ,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(3);o.ekj("disabled",t.previousDisabled()),o.xp6(1),o.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",o.VKq(6,fJ,t.previousDisabled()))}}function gJ(n,e){}function mJ(n,e){}function _J(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",24),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw();return s.selectPage(s.page+1),o.KtG(i.preventDefault())}),o.YNc(2,mJ,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(5);o.ekj("disabled",t.nextDisabled()),o.xp6(1),o.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",o.WLB(6,mk,t.nextDisabled(),t.page))}}function yJ(n,e){}function vJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",25),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw();return s.selectPage(s.pageCount),o.KtG(i.preventDefault())}),o.YNc(2,yJ,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(7);o.ekj("disabled",t.nextDisabled()),o.xp6(1),o.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",o.WLB(6,mk,t.nextDisabled(),t.page))}}const bJ=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function CJ(n,e){if(1&n&&(o.TgZ(0,"span"),o.SDv(1,1),o.ALo(2,"percent"),o.qZA()),2&n){const t=o.oxw();o.xp6(2),o.pQV(o.lcZ(2,1,t.getValue()/t.max)),o.QtT(1)}}function TJ(n,e){1&n&&o._uU(0),2&n&&o.Oqu(100===e.fill?"\u2605":"\u2606")}function DJ(n,e){}function IJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",2),o._uU(1),o.qZA(),o.TgZ(2,"span",3),o.NdJ("mouseenter",function(){const s=o.CHM(t).index,u=o.oxw();return o.KtG(u.enter(s+1))})("click",function(){const s=o.CHM(t).index,u=o.oxw();return o.KtG(u.handleClick(s+1))}),o.YNc(3,DJ,0,0,"ng-template",4),o.qZA()}if(2&n){const t=e.index,r=o.oxw(),i=o.MAs(1);o.xp6(1),o.hij("(",t<r.nextRate?"*":" ",")"),o.xp6(1),o.Udp("cursor",r.isInteractive()?"pointer":"default"),o.xp6(1),o.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function SJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeHour(i.hourStep))}),o._UZ(1,"span",12),o.TgZ(2,"span",13),o.SDv(3,14),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function AJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeHour(-i.hourStep))}),o._UZ(1,"span",15),o.TgZ(2,"span",13),o.SDv(3,16),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function NJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeMinute(i.minuteStep))}),o._UZ(1,"span",12),o.TgZ(2,"span",13),o.SDv(3,17),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function RJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.changeMinute(-i.minuteStep))}),o._UZ(1,"span",15),o.TgZ(2,"span",13),o.SDv(3,18),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function MJ(n,e){1&n&&(o.TgZ(0,"div",5),o._uU(1,":"),o.qZA())}function OJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.changeSecond(i.secondStep))}),o._UZ(1,"span",12),o.TgZ(2,"span",13),o.SDv(3,21),o.qZA()()}if(2&n){const t=o.oxw(2);o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function xJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.changeSecond(-i.secondStep))}),o._UZ(1,"span",15),o.TgZ(2,"span",13),o.SDv(3,22),o.qZA()()}if(2&n){const t=o.oxw(2);o.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),o.Q6J("disabled",t.disabled)}}function PJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",19),o.YNc(1,OJ,4,7,"button",3),o.TgZ(2,"input",20),o.NdJ("change",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.updateSecond(i.target.value))})("blur",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.handleBlur())})("input",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.formatInput(i.target))})("keydown.ArrowUp",function(i){o.CHM(t);const s=o.oxw();return s.changeSecond(s.secondStep),o.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){o.CHM(t);const s=o.oxw();return s.changeSecond(-s.secondStep),o.KtG(i.preventDefault())}),o.qZA(),o.YNc(3,xJ,4,7,"button",3),o.qZA()}if(2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.spinners),o.xp6(1),o.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),o.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),o.xp6(1),o.Q6J("ngIf",t.spinners)}}function kJ(n,e){1&n&&o._UZ(0,"div",5)}function FJ(n,e){if(1&n&&(o.ynx(0),o.SDv(1,27),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.pQV(t.i18n.getAfternoonPeriod()),o.QtT(1)}}function LJ(n,e){if(1&n&&o.SDv(0,28),2&n){const t=o.oxw(2);o.pQV(t.i18n.getMorningPeriod()),o.QtT(0)}}function UJ(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",23)(1,"button",24),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.toggleMeridian())}),o.YNc(2,FJ,2,1,"ng-container",25),o.YNc(3,LJ,1,1,"ng-template",null,26,o.W1O),o.qZA()()}if(2&n){const t=o.MAs(4),r=o.oxw();o.xp6(1),o.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),o.Q6J("disabled",r.disabled),o.xp6(1),o.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function BJ(n,e){if(1&n&&(o.TgZ(0,"strong",3),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.header)}}function VJ(n,e){}function $J(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",4),o.YNc(1,VJ,0,0,"ng-template",5),o.TgZ(2,"button",6),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.hide())}),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(1);o.xp6(1),o.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function HJ(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const t=o.oxw().$implicit,r=o.oxw();o.Tol(r.highlightClass),o.xp6(1),o.Oqu(t)}}function jJ(n,e){if(1&n&&o._uU(0),2&n){const t=o.oxw().$implicit;o.Oqu(t)}}function GJ(n,e){if(1&n&&(o.YNc(0,HJ,2,3,"span",1),o.YNc(1,jJ,1,1,"ng-template",null,2,o.W1O)),2&n){const t=e.odd,r=o.MAs(2);o.Q6J("ngIf",t)("ngIfElse",r)}}function Yi(n){return parseInt(`${n}`,10)}function qj(n){return null!=n?`${n}`:""}function kS(n,e,t=0){return Math.max(Math.min(n,e),t)}function eE(n){return"string"==typeof n}function Or(n){return!isNaN(Yi(n))}function _r(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function _p(n){return null!=n}function my(n){return Or(n)?`0${n}`.slice(-2):""}function Yj(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function _y(n){return(n||document.body).getBoundingClientRect()}function Kj(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Jj={animation:!0,transitionTimerDelayMs:5},JJ=()=>{},{transitionTimerDelayMs:QJ}=Jj,tE=new Map,Si=(n,e,t,r)=>{let i=r.context||{};const s=tE.get(e);if(s)switch(r.runningTransition){case"continue":return ds.E;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),tE.delete(e)}const u=t(e,r.animation,i)||JJ;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),ft(void 0).pipe(function YJ(n){return e=>new Hn.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new wn.x,p=new wn.x,_=h.pipe(function K5(...n){return e=>za(e,ft(...n))}(!0));tE.set(e,{transition$:h,complete:()=>{p.next(),p.complete()},context:i});const b=function KJ(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const D=qi(e,"transitionend").pipe(Mr(_),An(({target:N})=>N===e));DH(BP(b+QJ).pipe(Mr(_)),D,p).pipe(Mr(_)).subscribe(()=>{tE.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()},Qj=(n,e,t)=>{let{direction:r,maxSize:i,dimension:s}=t;const{classList:u}=n;function h(){u.add("collapse"),"show"===r?u.add("show"):u.remove("show")}if(e)return i||(i=function e9(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,s),t.maxSize=i,n.style[s]="show"!==r?i:"0px",u.remove("collapse"),u.remove("collapsing"),u.remove("show"),_y(n),u.add("collapsing")),n.style[s]="show"===r?i:"0px",()=>{h(),u.remove("collapsing"),n.style[s]=""};h()};let yy=(()=>{class n{constructor(){this.animation=Jj.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t9=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n9=0,_k=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),Xj=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),e3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),yk=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+n9++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new o.vpe,this.hidden=new o.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(o.Suo(i,Xj,4),o.Suo(i,_k,4),o.Suo(i,e3,4)),2&t){let s;o.iGM(s=o.CRH())&&(r.titleTpls=s),o.iGM(s=o.CRH())&&(r.headerTpls=s),o.iGM(s=o.CRH())&&(r.contentTpls=s)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),r9=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new o.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),t3=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>vk)),o.Y36(yk,9))},n.\u0275dir=o.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(o.Ikx("disabled",r.panel.disabled),o.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),o.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),vk=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new o.vpe,this.shown=new o.vpe,this.hidden=new o.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){eE(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(jn(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,Si(this._ngZone,r,Qj,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Si(this._ngZone,r.panelDiv,Qj,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:s}=r;r.isOpen?(r.shown.emit(),this.shown.emit(s)):(r.hidden.emit(),this.hidden.emit(s))})})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(t9),o.Y36(o.R0b),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,yk,4),2&t){let s;o.iGM(s=o.CRH())&&(r.panels=s)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[o.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(o.YNc(0,rK,3,3,"ng-template",0,1,o.W1O),o.YNc(2,lK,4,11,"ng-template",2)),2&t&&(o.xp6(2),o.Q6J("ngForOf",r.panels))},dependencies:[cr,Qi,t3,r9,_k,Sn],encapsulation:2}),n})(),n3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[vk]}),n})();const i9=({classList:n})=>{n.remove("show")};let s9=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o9=(()=>{class n{constructor(t,r,i,s){this._renderer=r,this._element=i,this._zone=s,this.closed=new o.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Si(this._zone,this._element.nativeElement,i9,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(s9),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&o.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[o.TTD,o.jDz],ngContentSelectors:PS,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(o.F$t(),o.Hsn(0),o.YNc(1,uK,1,0,"button",0)),2&t&&(o.xp6(1),o.Q6J("ngIf",r.dismissible))},dependencies:[Sn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),r3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[o9]}),n})();var Pd=(()=>(function(n){n.START="start",n.END="end"}(Pd||(Pd={})),Pd))();const i3=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),nE=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},FS=n=>{nE(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},a9=(n,e,{direction:t})=>{const{classList:r}=n;return e?(i3(n)?nE(r):(r.add("carousel-item-"+(t===Pd.START?"next":"prev")),_y(n),r.add("carousel-item-"+t)),()=>{FS(r),r.add("active")}):(nE(r),FS(r),void r.add("active"))},l9=(n,e,{direction:t})=>{const{classList:r}=n;return e?(i3(n)?nE(r):r.add("carousel-item-"+t),()=>{FS(r),r.remove("active")}):(nE(r),FS(r),void r.remove("active"))};let u9=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c9=0,s3=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+c9++,this.slid=new o.vpe}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),o3=(()=>{class n{constructor(t,r,i,s,u){this._platformId=r,this._ngZone=i,this._cd=s,this._container=u,this.NgbSlideEventSource=yp,this._destroy$=new wn.x,this._interval$=new Zn(0),this._mouseHover$=new Zn(!1),this._focused$=new Zn(!1),this._pauseOnHover$=new Zn(!1),this._pauseOnFocus$=new Zn(!1),this._pause$=new Zn(!1),this._wrap$=new Zn(!1),this.slide=new o.vpe,this.slid=new o.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(yp.ARROW_LEFT)}arrowRight(){this.focus(),this.next(yp.ARROW_RIGHT)}ngAfterContentInit(){Ul(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=cs([this.slide.pipe((0,nt.U)(r=>r.current),hs(this.activeId)),this._wrap$,this.slides.changes.pipe(hs(null))]).pipe((0,nt.U)(([r,i])=>{const s=this.slides.toArray(),u=this._getSlideIdxById(r);return i?s.length>1:u<s.length-1}),Rf());cs([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,nt.U)(([r,i,s,u,h,p,_])=>r||i&&s||u&&h||!_?0:p),Rf(),Fn(r=>r>0?BP(r,r):IH),Mr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(yp.TIMER)))}),this.slides.changes.pipe(Mr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{tE.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(jn(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Pd.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Pd.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const s=this._transitionIds;if(s&&(s[0]!==t||s[1]!==this.activeId))return;let u=this._getSlideById(t);if(u&&u.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:u.id,direction:r,paused:this._pause$.value,source:i});const h={animation:this.animation,runningTransition:"stop",context:{direction:r}},p=[],_=this._getSlideById(this.activeId);if(_){const N=Si(this._ngZone,this._getSlideElement(_.id),l9,h);N.subscribe(()=>{_.slid.emit({isShown:!1,direction:r,source:i})}),p.push(N)}const b=this.activeId;this.activeId=u.id;const D=this._getSlideById(this.activeId),S=Si(this._ngZone,this._getSlideElement(u.id),a9,h);S.subscribe(()=>{D?.slid.emit({isShown:!0,direction:r,source:i})}),p.push(S),mS(...p).pipe(jn(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:b,current:u.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Pd.END:Pd.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(u9),o.Y36(o.Lbi),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,s3,4),2&t){let s;o.iGM(s=o.CRH())&&(r.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&o.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(o.uIk("aria-activedescendant","slide-"+r.activeId),o.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[o.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,cK,1,5,"button",1),o.qZA(),o.TgZ(2,"div",2),o.YNc(3,hK,4,4,"div",3),o.qZA(),o.YNc(4,fK,4,0,"button",4),o.YNc(5,pK,4,0,"button",5)),2&t&&(o.ekj("visually-hidden",!r.showNavigationIndicators),o.xp6(1),o.Q6J("ngForOf",r.slides),o.xp6(2),o.Q6J("ngForOf",r.slides),o.xp6(1),o.Q6J("ngIf",r.showNavigationArrows),o.xp6(1),o.Q6J("ngIf",r.showNavigationArrows))},dependencies:[cr,Qi,Sn],encapsulation:2,changeDetection:0}),n})();var yp=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(yp||(yp={})),yp))();let a3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[o3]}),n})(),l3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class di{constructor(e,t,r){this.year=_r(e)?e:null,this.month=_r(t)?t:null,this.day=_r(r)?r:null}static from(e){return e instanceof di?e:e?new di(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function vy(n,e){return!function d9(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function u3(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function LS(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function bk(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:s}=e;return!(null==n||i||s&&s(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function c3(n){return new di(n.getFullYear(),n.getMonth()+1,n.getDate())}function US(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let BS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function b9(){return new w9}()},providedIn:"root"}),n})(),w9=(()=>{class n extends BS{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let s=US(t),u=!0,h=s.getMonth();switch(r){case"y":s.setFullYear(s.getFullYear()+i);break;case"m":h+=i,s.setMonth(h),h%=12,h<0&&(h+=12);break;case"d":s.setDate(s.getDate()+i),u=!1;break;default:return t}return u&&s.getMonth()!==h&&s.setDate(0),c3(s)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=US(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const u=US(t[(11-r)%7]);u.setDate(u.getDate()+4-(u.getDay()||7));const h=u.getTime();return u.setMonth(0),u.setDate(1),Math.floor(Math.round((h-u.getTime())/864e5)/7)+1}getToday(){return c3(new Date)}isValid(t){if(!(t&&_r(t.year)&&_r(t.month)&&_r(t.day)&&0!==t.year))return!1;const r=US(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),vp=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function E9(n){return new C9(n)}(o.LFG(o.soG)),r},providedIn:"root"}),n})(),C9=(()=>{class n extends vp{constructor(t){super(),this._locale=t,this._monthsShort=Be(t,Ye.Standalone,Le.Abbreviated),this._monthsFull=Be(t,Ye.Standalone,Le.Wide)}getWeekdayLabel(t,r){const i=Ie(this._locale,Ye.Standalone,void 0===r?Le.Short:r);return i.map((u,h)=>i[(h+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return yn(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),wk=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(_r(i=Yi(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(_r(i=Yi(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const s=this.toValidDate(i,null);if(vy(this._state.maxDate,s))return{maxDate:s}},minDate:i=>{const s=this.toValidDate(i,null);if(vy(this._state.minDate,s))return{minDate:s}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const s=!0===i||!1===i?Le.Short:i,u=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==s||this._state.weekdaysVisible!==u)return{weekdayWidth:s,weekdaysVisible:u}}},this._model$=new wn.x,this._dateSelect$=new wn.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Le.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(An(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(An(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,s)=>({...i,...s}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&vy(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){bk(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||u3(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(vy(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&bk(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=di.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:s,focusDate:u,focusVisible:h,disabled:p,outsideDays:_}=t;t.months.forEach(b=>{b.weeks.forEach(D=>{D.days.forEach(S=>{u&&(S.context.focused=u.equals(S.date)&&h),S.tabindex=!p&&u&&S.date.equals(u)&&u.month===b.number?0:-1,!0===p&&(S.context.disabled=!0),void 0!==s&&(S.context.selected=null!==s&&s.equals(S.date)),b.number!==S.date.month&&(S.hidden="hidden"===_||"collapsed"===_||i>1&&S.date.after(r[0].firstDate)&&S.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function h9(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=LS(r.focusDate,r.minDate,r.maxDate),r.firstDate=LS(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=LS(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=LS(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const u=function _9(n,e,t,r,i){const{displayMonths:s,months:u}=t,h=u.splice(0,u.length);return Array.from({length:s},(_,b)=>{const D=Object.assign(n.getNext(e,"m",b),{day:1});if(u[b]=null,!i){const S=h.findIndex(N=>N.firstDate.equals(D));-1!==S&&(u[b]=h.splice(S,1)[0])}return D}).forEach((_,b)=>{null===u[b]&&(u[b]=function y9(n,e,t,r,i={}){const{dayTemplateData:s,minDate:u,maxDate:h,firstDayOfWeek:p,markDisabled:_,outsideDays:b,weekdayWidth:D,weekdaysVisible:S}=t,N=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function v9(n,e,t){const r=n.getDaysPerWeek(),i=new di(e.year,e.month,1),s=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+s-t)%r)}(n,e,p),S||(i.weekdays.length=0);for(let x=0;x<n.getWeeksPerMonth();x++){let j=i.weeks[x];j||(j=i.weeks[x]={number:0,days:[],collapsed:!0});const Y=j.days;for(let me=0;me<n.getDaysPerWeek();me++){0===x&&S&&(i.weekdays[me]=r.getWeekdayLabel(n.getWeekday(e),D));const De=new di(e.year,e.month,e.day),je=n.getNext(De),ke=r.getDayAriaLabel(De);let Ze=!!(u&&De.before(u)||h&&De.after(h));!Ze&&_&&(Ze=_(De,{month:i.number,year:i.year}));let Qe=De.equals(N),kt=s?s(De,{month:i.number,year:i.year}):void 0;null===i.firstDate&&De.month===i.number&&(i.firstDate=De),De.month===i.number&&je.month!==i.number&&(i.lastDate=De);let Qt=Y[me];Qt||(Qt=Y[me]={}),Qt.date=De,Qt.context=Object.assign(Qt.context||{},{$implicit:De,date:De,data:kt,currentMonth:i.number,currentYear:i.year,disabled:Ze,focused:!1,selected:!1,today:Qe}),Qt.tabindex=-1,Qt.ariaLabel=ke,Qt.hidden=!1,e=je}j.number=n.getWeekNumber(Y.map(me=>me.date),p),j.collapsed="collapsed"===b&&Y[0].date.month!==i.number&&Y[Y.length-1].date.month!==i.number}return i}(n,_,t,r,h.shift()||{}))}),u}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=u,r.firstDate=u[0].firstDate,r.lastDate=u[u.length-1].lastDate,"selectedDate"in t&&!bk(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const h=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,p=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||h)&&(r.selectBoxes.years=function p9(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,s=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,u=Array(s);for(let h=0;h<s;h++)u[h]=r+h;return u}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||h)&&(r.selectBoxes.months=function f9(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const s=i.findIndex(u=>u===t.month);i=i.slice(s)}if(r&&e.year===r.year){const s=i.findIndex(u=>u===r.month);i=i.slice(0,s+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(p||h||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function m9(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function g9(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(BS),o.LFG(vp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var by=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(by||(by={})),by))();let T9=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&o.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[o.jDz],attrs:gK,decls:1,vars:1,template:function(t,r){1&t&&o._uU(0),2&t&&o.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),D9=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new o.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new di(this.date.year,Yi(t),1))}changeYear(t){this.select.emit(new di(Yi(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vp),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(o.Gf(mK,7,o.SBq),o.Gf(_K,7,o.SBq)),2&t){let i;o.iGM(i=o.CRH())&&(r.monthSelect=i.first),o.iGM(i=o.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[o.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(o.TgZ(0,"select",0,1),o.NdJ("change",function(s){return r.changeMonth(s.target.value)}),o.YNc(2,yK,2,3,"option",2),o.qZA(),o.TgZ(3,"select",3,4),o.NdJ("change",function(s){return r.changeYear(s.target.value)}),o.YNc(5,vK,2,2,"option",2),o.qZA()),2&t&&(o.Q6J("disabled",r.disabled),o.xp6(2),o.Q6J("ngForOf",r.months),o.xp6(1),o.Q6J("disabled",r.disabled),o.xp6(2),o.Q6J("ngForOf",r.years))},dependencies:[cr],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),I9=(()=>{class n{constructor(t){this.i18n=t,this.navigation=by,this.months=[],this.navigate=new o.vpe,this.select=new o.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vp))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[o.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(s){return r.onClickPrev(s)}),o._UZ(2,"span",2),o.qZA()(),o.YNc(3,bK,1,4,"ngb-datepicker-navigation-select",3),o.YNc(4,TK,1,1,null,4),o.TgZ(5,"div",5)(6,"button",6),o.NdJ("click",function(s){return r.onClickNext(s)}),o._UZ(7,"span",2),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("disabled",r.prevDisabled),o.xp6(2),o.Q6J("ngIf",r.showSelect),o.xp6(1),o.Q6J("ngIf",!r.showSelect),o.xp6(2),o.Q6J("disabled",r.nextDisabled))},dependencies:[Sn,cr,D9],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var hn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(hn||(hn={})),hn))();let S9=(()=>{class n{processKey(t,r){const{state:i,calendar:s}=r;switch(t.which){case hn.PageUp:r.focusDate(s.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case hn.PageDown:r.focusDate(s.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case hn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case hn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case hn.ArrowLeft:r.focusDate(s.getPrev(i.focusedDate,"d",1));break;case hn.ArrowUp:r.focusDate(s.getPrev(i.focusedDate,"d",s.getDaysPerWeek()));break;case hn.ArrowRight:r.focusDate(s.getNext(i.focusedDate,"d",1));break;case hn.ArrowDown:r.focusDate(s.getNext(i.focusedDate,"d",s.getDaysPerWeek()));break;case hn.Enter:case hn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ek=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Le.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function A9(){return new N9}()},providedIn:"root"}),n})(),N9=(()=>{class n extends Ck{fromModel(t){return t&&_r(t.year)&&_r(t.month)&&_r(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&_r(t.year)&&_r(t.month)&&_r(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),d3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),Tk=(()=>{class n{constructor(t,r,i,s){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=s}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(vp),o.Y36((0,o.Gpc)(()=>VS)),o.Y36(S9),o.Y36(wk))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&o.NdJ("keydown",function(s){return r.onKeyDown(s)})},inputs:{month:"month"},standalone:!0,features:[o.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(o.YNc(0,SK,3,2,"div",0),o.YNc(1,xK,1,1,"ng-template",1)),2&t&&(o.Q6J("ngIf",r.viewModel.weekdays.length>0),o.xp6(1),o.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[Sn,cr,Qi],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),VS=(()=>{class n{constructor(t,r,i,s,u,h,p,_){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=h,this._ngbDateAdapter=p,this._ngZone=_,this._controlValue=null,this._destroyed$=new wn.x,this._publicState={},this.navigate=new o.vpe,this.dateSelect=new o.vpe,this.onChange=b=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(b=>this[b]=s[b]),t.dateSelect$.pipe(Mr(this._destroyed$)).subscribe(b=>{this.dateSelect.emit(b)}),t.model$.pipe(Mr(this._destroyed$)).subscribe(b=>{const D=b.firstDate,S=this.model?this.model.firstDate:null;this._publicState={maxDate:b.maxDate,minDate:b.minDate,firstDate:b.firstDate,lastDate:b.lastDate,focusedDate:b.focusDate,months:b.months.map(me=>me.firstDate)};let N=!1;if(!D.equals(S)&&(this.navigate.emit({current:S?{year:S.year,month:S.month}:null,next:{year:D.year,month:D.month},preventDefault:()=>N=!0}),N&&null!==S))return void this._service.open(S);const x=b.selectedDate,j=b.focusDate,Y=this.model?this.model.focusDate:null;this.model=b,vy(x,this._controlValue)&&(this._controlValue=x,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(x))),vy(j,Y)&&Y&&b.focusVisible&&this.focus(),u.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(di.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(jn(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(di.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=qi(this._contentEl.nativeElement,"focusin"),r=qi(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,o0.T)(t,r).pipe(An(({target:s,relatedTarget:u})=>!(Yj(s,"ngb-dp-day")&&Yj(u,"ngb-dp-day")&&i.contains(s)&&i.contains(u))),Mr(this._destroyed$)).subscribe(({type:s})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===s})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:s}=t.startDate;u3(s,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case by.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case by.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=di.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(wk),o.Y36(BS),o.Y36(vp),o.Y36(Ek),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(Ck),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,d3,7),2&t){let s;o.iGM(s=o.CRH())&&(r.contentTemplate=s.first)}},viewQuery:function(t,r){if(1&t&&(o.Gf(PK,7),o.Gf(kK,7)),2&t){let i;o.iGM(i=o.CRH())&&(r._defaultDayTemplate=i.first),o.iGM(i=o.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&o.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[o._Bn([{provide:Bs,useExisting:(0,o.Gpc)(()=>n),multi:!0},wk]),o.TTD,o.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(o.YNc(0,FK,1,5,"ng-template",null,0,o.W1O),o.YNc(2,BK,1,1,"ng-template",null,1,o.W1O),o.TgZ(4,"div",2),o.YNc(5,VK,1,7,"ngb-datepicker-navigation",3),o.qZA(),o.TgZ(6,"div",4,5),o.YNc(8,$K,0,0,"ng-template",6),o.qZA(),o.YNc(9,HK,0,0,"ng-template",6)),2&t){const i=o.MAs(3);o.xp6(5),o.Q6J("ngIf","none"!==r.navigation),o.xp6(1),o.ekj("ngb-dp-months",!r.contentTemplate),o.xp6(2),o.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),o.xp6(1),o.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[Sn,cr,Qi,T9,Tk,I9],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();const $S=(n,e)=>!!e&&e.some(t=>t.contains(n)),h3=(n,e)=>!e||null!=function ZJ(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),R9=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function f3(n,e,t,r,i,s,u,h){t&&n.runOutsideAngular((n=>R9?()=>setTimeout(()=>n(),100):n)(()=>{const _=qi(e,"keydown").pipe(Mr(i),An(S=>S.which===hn.Escape),nr(S=>S.preventDefault())),b=qi(e,"mousedown").pipe((0,nt.U)(S=>{const N=S.target;return 2!==S.button&&!$S(N,u)&&("inside"===t?$S(N,s)&&h3(N,h):"outside"===t?!$S(N,s):h3(N,h)||!$S(N,s))}),Mr(i)),D=qi(e,"mouseup").pipe(VP(b),An(([S,N])=>N),function Q5(n,e=ed){const t=BP(n,e);return SH(()=>t)}(0),Mr(i));DH([_.pipe((0,nt.U)(S=>0)),D.pipe((0,nt.U)(S=>1))]).subscribe(S=>n.run(()=>r(S)))}))}const p3=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function g3(n){const e=Array.from(n.querySelectorAll(p3)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let O9=(()=>{class n{constructor(t){this._element=t.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x9=/\s+/,P9=/  +/gi,k9={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},L9=/^left/,U9=/^right/,B9=/^start/,V9=/^end/;function _3({placement:n,baseClass:e},t){let r=Array.isArray(n)?n:n.split(x9),s=r.findIndex(_=>"auto"===_);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(_){null==r.find(b=>-1!==b.search("^"+_))&&r.splice(s++,1,_)});const u=r.map(_=>function F9(n,e){const[t,r]=k9[n];return e&&r||t}(_,t.isRTL()));return{placement:u.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:_}){const b=new RegExp(e+"(-[a-z]+)*","gi"),D=_.elements.popper,S=_.placement;let N=D.className;N=N.replace(b,""),N+=` ${function $9(n,e){let[t,r]=e.split("-");const i=t.replace(L9,"start").replace(U9,"end");let s=[i];if(r){let u=r;("left"===t||"right"===t)&&(u=u.replace(B9,"top").replace(V9,"bottom")),s.push(`${i}-${u}`)}return n&&(s=s.map(u=>`${n}-${u}`)),s.join(" ")}(e,S)}`,N=N.trim().replace(P9," "),D.className=N}},C7,S7,M7,{enabled:!0,name:"flip",options:{fallbackPlacements:u}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function y3(n){return n}new Date(1882,10,12),new Date(2174,10,25);let A3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[VS,Tk]}),n})(),Q9=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),Ak=(()=>{class n{constructor(t,r){this.elementRef=t,this._renderer=r,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(t,r){2&t&&(o.Ikx("tabIndex",r.disabled?-1:0),o.ekj("disabled",r.disabled))},inputs:{disabled:"disabled"},standalone:!0}),n})(),Nk=(()=>{class n{constructor(t,r){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>sE)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,Ak,4),2&t){let s;o.iGM(s=o.CRH())&&(r.menuItems=s)}},hostVars:4,hostBindings:function(t,r){1&t&&o.NdJ("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return r.dropdown.onKeyDown(s)})("keydown.Space",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),2&t&&o.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen())},standalone:!0}),n})(),zS=(()=>{class n{constructor(t,r){this.dropdown=t,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>sE)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("aria-expanded",r.dropdown.isOpen())},standalone:!0}),n})(),R3=(()=>{class n extends zS{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>sE)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),2&t&&o.uIk("aria-expanded",r.dropdown.isOpen())},standalone:!0,features:[o._Bn([{provide:zS,useExisting:(0,o.Gpc)(()=>n)}]),o.qOj]}),n})(),sE=(()=>{class n{constructor(t,r,i,s,u,h,p){this._changeDetector=t,this._document=i,this._ngZone=s,this._elementRef=u,this._renderer=h,this._destroyCloseHandlers$=new wn.x,this._bodyContainer=null,this._open=!1,this.openChange=new o.vpe,this.placement=r.placement,this.popperOptions=r.popperOptions,this.container=r.container,this.autoClose=r.autoClose,this._positioning=function v3(){const n=(0,o.f3M)(O9);let e=null;return{createPopper(t){if(!e){let i=(t.updatePopperOptions||y3)(_3(t,n));e=Q7(t.hostElement,t.targetElement,i)}},update(){e&&e.update()},setOptions(t){if(e){let i=(t.updatePopperOptions||y3)(_3(t,n));e.setOptions(i)}},destroy(){e&&(e.destroy(),e=null)}}}(),this.display=p?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(jn(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:r,previousValue:i}=t.dropdownClass;this._applyCustomDropdownClass(r,i)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:t=>this.popperOptions(function w3(n){return e=>(e.modifiers.push(tK,{name:"offset",options:{offset:()=>n}}),e)}([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),f3(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const r=t.which,i=this._getMenuElements();let s=-1,u=null;const h=this._isEventFromToggle(t);if(!h&&i.length&&i.forEach((p,_)=>{p.contains(t.target)&&(u=p),p===this._document.activeElement&&(s=_)}),r!==hn.Space&&r!==hn.Enter){if(r!==hn.Tab){if(h||u){if(this.open(),i.length){switch(r){case hn.ArrowDown:s=Math.min(s+1,i.length-1);break;case hn.ArrowUp:if(this._isDropup()&&-1===s){s=i.length-1;break}s=Math.max(s-1,0);break;case hn.Home:s=0;break;case hn.End:s=i.length-1}i[s].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const p=this._menu.nativeElement.querySelectorAll(p3);t.shiftKey&&t.target===p[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===p[p.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else qi(t.target,"focusout").pipe(jn(1)).subscribe(({relatedTarget:p})=>{this._elementRef.nativeElement.contains(p)||this.close()})}}else u&&(!0===this.autoClose||"inside"===this.autoClose)&&qi(u,"click").pipe(jn(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;this._menu&&t.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const r=this._renderer,i=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(s,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(s,"z-index","1055"),r.appendChild(s,i),r.appendChild(this._document.body,s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),t&&this._renderer.addClass(i,t))}_applyPlacementClasses(t){const r=this._menu;if(r){t||(t=this._getFirstPlacement(this.placement));const i=this._renderer,s=this._elementRef.nativeElement;i.removeClass(s,"dropup"),i.removeClass(s,"dropdown");const{nativeElement:u}=r;"static"===this.display?(r.placement=null,i.setAttribute(u,"data-bs-popper","static")):(r.placement=t,i.removeAttribute(u,"data-bs-popper"));const h=-1!==t.search("^top")?"dropup":"dropdown";i.addClass(s,h);const p=this._bodyContainer;p&&(i.removeClass(p,"dropup"),i.removeClass(p,"dropdown"),i.addClass(p,h))}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(Q9),o.Y36(he),o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(N3,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(o.Suo(i,Nk,5),o.Suo(i,zS,5)),2&t){let s;o.iGM(s=o.CRH())&&(r._menu=s.first),o.iGM(s=o.CRH())&&(r._anchor=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&o.ekj("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[o.TTD]}),n})(),M3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class Ep{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let X9=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(jn(1)).subscribe(()=>{Si(this._zone,this._el.nativeElement,(t,r)=>{r&&_y(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Si(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(o.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),o.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[o.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class O3{close(e){}dismiss(e){}}class eQ{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new wn.x,this._dismissed=new wn.x,this._hidden=new wn.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,u)=>{this._resolve=s,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Mr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Mr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Zj(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ft(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),mS(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var oE=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(oE||(oE={})),oE))();let tQ=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new wn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new wn.x,this.hidden=new wn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":eE(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(jn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=mS(Si(this._zone,t,()=>t.classList.remove("show"),r),Si(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};mS(Si(this._zone,this._elRef.nativeElement,(s,u)=>{u&&_y(s),s.classList.add("show")},t),Si(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{qi(t,"keydown").pipe(Mr(this._closed$),An(i=>i.which===hn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(oE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;qi(this._dialogEl.nativeElement,"mousedown").pipe(Mr(this._closed$),nr(()=>r=!1),Fn(()=>qi(t,"mouseup").pipe(Mr(this._closed$),jn(1))),An(({target:i})=>t===i)).subscribe(()=>{r=!0}),qi(t,"click").pipe(Mr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(oE.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=g3(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Si(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(he),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&o.Gf(jK,7),2&t){let i;o.iGM(i=o.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(o.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),o.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),o.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[o.jDz],ngContentSelectors:PS,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(o.F$t(),o.TgZ(0,"div",0,1)(2,"div",2),o.Hsn(3),o.qZA()()),2&t&&o.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),nQ=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:u}=i;if(t>0){const h=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${h+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rQ=(()=>{class n{constructor(t,r,i,s,u,h,p){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=u,this._rendererFactory=h,this._ngZone=p,this._activeWindowCmptHasChanged=new wn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=qi(e,"focusin").pipe(Mr(t),(0,nt.U)(s=>s.target));qi(e,"keydown").pipe(Mr(t),An(s=>s.which===hn.Tab),VP(i)).subscribe(([s,u])=>{const[h,p]=g3(e);(u===h||u===e)&&s.shiftKey&&(p.focus(),s.preventDefault()),u===p&&!s.shiftKey&&(h.focus(),s.preventDefault())}),r&&qi(e,"click").pipe(Mr(t),VP(i),(0,nt.U)(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:_p(i.container)?this._document.querySelector(i.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new O3,p=(t=i.injector||t).get(o.lqb,null)||this._environmentInjector,_=this._getContentRef(t,p,r,h,i);let b=!1!==i.backdrop?this._attachBackdrop(s):void 0,D=this._attachWindowComponent(s,_.nodes),S=new eQ(D,_,b,i.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(D),S.hidden.pipe(jn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=N=>{S.close(N)},h.dismiss=N=>{S.dismiss(N)},this._applyWindowOptions(D.instance,i),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,i),b.changeDetectorRef.detectChanges()),D.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,o.LMc)(X9,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,o.LMc)(tQ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{_p(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{_p(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,s,u){return i?i instanceof o.Rgc?this._createFromTemplateRef(i,s):eE(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,u):new Ep([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(s),new Ep([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Ep([[r]])}_createFromComponent(t,r,i,s,u){const h=o.zs3.create({providers:[{provide:O3,useValue:s}],parent:t}),p=(0,o.LMc)(i,{environmentInjector:r,elementInjector:h}),_=p.location.nativeElement;return u.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(p.hostView),new Ep([[_]],p.hostView,p)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(o.lqb),o.LFG(he),o.LFG(nQ),o.LFG(o.FYo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iQ=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sQ=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(rQ),o.LFG(iQ))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[sQ]}),n})();const lQ=({classList:n})=>(n.remove("show"),()=>n.remove("active")),uQ=(n,e)=>{e&&_y(n),n.classList.add("show")};let Ok=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(o.Ikx("id",r.item.panelDomId),o.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),o.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),L3=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Mr(this.nav.destroy$),hs(this._activePane?.item||null),Rf(),function X5(n){return An((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Si(this._ngZone,this._activePane.elRef.nativeElement,lQ,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Si(this._ngZone,this._activePane.elRef.nativeElement,uQ,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&o.Gf(Ok,5),2&t){let i;o.iGM(i=o.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&o.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[o.jDz],attrs:GK,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&o.YNc(0,ZK,1,1,"ng-template",0),2&t&&o.Q6J("ngForOf",r.nav.items)},dependencies:[Ok,cr,Sn,Qi],encapsulation:2,changeDetection:0}),n})(),U3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[L3]}),n})(),cQ=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),V3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),$3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),H3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),j3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),G3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),z3=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),W3=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new o.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=kS(t,this.pageCount,1),this.page!==r&&Or(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Or(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(cQ))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(o.Suo(i,B3,5),o.Suo(i,V3,5),o.Suo(i,$3,5),o.Suo(i,H3,5),o.Suo(i,j3,5),o.Suo(i,G3,5),o.Suo(i,z3,5)),2&t){let s;o.iGM(s=o.CRH())&&(r.tplEllipsis=s.first),o.iGM(s=o.CRH())&&(r.tplFirst=s.first),o.iGM(s=o.CRH())&&(r.tplLast=s.first),o.iGM(s=o.CRH())&&(r.tplNext=s.first),o.iGM(s=o.CRH())&&(r.tplNumber=s.first),o.iGM(s=o.CRH())&&(r.tplPrevious=s.first),o.iGM(s=o.CRH())&&(r.tplPages=s.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[o.TTD,o.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,s,u,h,p;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,s=$localize`:@@ngb.pagination.first-aria:First`,u=$localize`:@@ngb.pagination.previous-aria:Previous`,h=$localize`:@@ngb.pagination.next-aria:Next`,p=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(o.YNc(0,YK,2,0,"ng-template",null,0,o.W1O),o.YNc(2,KK,2,0,"ng-template",null,1,o.W1O),o.YNc(4,JK,2,0,"ng-template",null,2,o.W1O),o.YNc(6,QK,2,0,"ng-template",null,3,o.W1O),o.YNc(8,XK,1,0,"ng-template",null,4,o.W1O),o.YNc(10,tJ,2,2,"ng-template",null,5,o.W1O),o.YNc(12,uJ,1,1,"ng-template",null,6,o.W1O),o.TgZ(14,"ul"),o.YNc(15,dJ,3,9,"li",7),o.YNc(16,pJ,3,8,"li",7),o.YNc(17,gJ,0,0,"ng-template",8),o.YNc(18,_J,3,9,"li",7),o.YNc(19,vJ,3,9,"li",7),o.qZA()),2&t){const i=o.MAs(13);o.xp6(14),o.Tol("pagination"+(r.size?" pagination-"+r.size:"")),o.xp6(1),o.Q6J("ngIf",r.boundaryLinks),o.xp6(1),o.Q6J("ngIf",r.directionLinks),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",o.kEZ(8,bJ,r.page,r.pages,r.disabled)),o.xp6(1),o.Q6J("ngIf",r.directionLinks),o.xp6(1),o.Q6J("ngIf",r.boundaryLinks)}},dependencies:[Sn,cr,Qi],encapsulation:2,changeDetection:0}),n})(),q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[W3]}),n})(),Y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),mQ=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_Q=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!Or(t)||t<=0?100:t}get max(){return this._max}getValue(){return kS(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(mQ))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(o.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),o.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[o.jDz],ngContentSelectors:PS,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(o.F$t(),o.TgZ(0,"div"),o.YNc(1,CJ,3,3,"span",0),o.Hsn(2),o.qZA()),2&t&&(o.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),o.Udp("width",r.getPercentValue(),"%"),o.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),o.xp6(1),o.Q6J("ngIf",r.showValue))},dependencies:[Sn,jy],encapsulation:2,changeDetection:0}),n})(),K3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[_Q]}),n})(),yQ=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vQ=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new o.vpe,this.leave=new o.vpe,this.rateChange=new o.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case hn.ArrowDown:case hn.ArrowLeft:this.update(this.rate-1);break;case hn.ArrowUp:case hn.ArrowRight:this.update(this.rate+1);break;case hn.Home:this.update(0);break;case hn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=kS(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*kS(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(yQ),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,o.Rgc,5),2&t){let s;o.iGM(s=o.CRH())&&(r.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&o.NdJ("blur",function(){return r.handleBlur()})("keydown",function(s){return r.handleKeyDown(s)})("mouseleave",function(){return r.reset()}),2&t&&(o.Ikx("tabindex",r.disabled?-1:r.tabindex),o.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[o._Bn([{provide:Bs,useExisting:(0,o.Gpc)(()=>n),multi:!0}]),o.TTD,o.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(o.YNc(0,TJ,1,1,"ng-template",null,0,o.W1O),o.YNc(2,IJ,4,5,"ng-template",1)),2&t&&(o.xp6(2),o.Q6J("ngForOf",r.contexts))},dependencies:[cr,Qi],encapsulation:2,changeDetection:0}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[vQ]}),n})();class Q3{constructor(e,t,r){this.hour=Yi(e),this.minute=Yi(t),this.second=Yi(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=Or(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){Or(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){Or(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return Or(this.hour)&&Or(this.minute)&&(!e||Or(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let bQ=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function wQ(){return new EQ}()},providedIn:"root"}),n})(),EQ=(()=>{class n extends X3{fromModel(t){return t&&_r(t.hour)&&_r(t.minute)?{hour:t.hour,minute:t.minute,second:_r(t.second)?t.second:null}:null}toModel(t){return t&&_r(t.hour)&&_r(t.minute)?{hour:t.hour,minute:t.minute,second:_r(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),eG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function CQ(n){return new TQ(n)}(o.LFG(o.soG)),r},providedIn:"root"}),n})(),TQ=(()=>{class n extends eG{constructor(t){super(),this._periods=pe(t,Ye.Standalone,Le.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const DQ=/[^0-9]/g;let IQ=(()=>{class n{constructor(t,r,i,s){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=s,this.onChange=u=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=_r(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=_r(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=_r(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new Q3(r.hour,r.minute,r.second):new Q3,!this.seconds&&(!r||!Or(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=Yi(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Yi(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Yi(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(DQ,"")}formatHour(t){return Or(t)?my(this.meridian?t%12==0?12:t%12:t%24):my(NaN)}formatMinSec(t){return my(Or(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!Or(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(bQ),o.Y36(X3),o.Y36(o.sBO),o.Y36(eG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[o._Bn([{provide:Bs,useExisting:(0,o.Gpc)(()=>n),multi:!0}]),o.TTD,o.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,s,u,h,p,_,b,D,S,N,x;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,s=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,u=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,h=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,p=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,_=$localize`:@@ngb.timepicker.SS:SS`,b=$localize`:@@ngb.timepicker.seconds:Seconds`,D=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,S=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,N=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,x=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],s,[1,"chevron","ngb-tp-chevron","bottom"],u,h,p,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",_,"aria-label",b,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],D,S,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],N,x]},template:function(t,r){1&t&&(o.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),o.YNc(3,SJ,4,7,"button",3),o.TgZ(4,"input",4),o.NdJ("change",function(s){return r.updateHour(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeHour(r.hourStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeHour(-r.hourStep),s.preventDefault()}),o.qZA(),o.YNc(5,AJ,4,7,"button",3),o.qZA(),o.TgZ(6,"div",5),o._uU(7,":"),o.qZA(),o.TgZ(8,"div",6),o.YNc(9,NJ,4,7,"button",3),o.TgZ(10,"input",7),o.NdJ("change",function(s){return r.updateMinute(s.target.value)})("blur",function(){return r.handleBlur()})("input",function(s){return r.formatInput(s.target)})("keydown.ArrowUp",function(s){return r.changeMinute(r.minuteStep),s.preventDefault()})("keydown.ArrowDown",function(s){return r.changeMinute(-r.minuteStep),s.preventDefault()}),o.qZA(),o.YNc(11,RJ,4,7,"button",3),o.qZA(),o.YNc(12,MJ,2,0,"div",8),o.YNc(13,PJ,4,9,"div",9),o.YNc(14,kJ,1,0,"div",8),o.YNc(15,UJ,5,9,"div",10),o.qZA()()),2&t&&(o.ekj("disabled",r.disabled),o.Q6J("disabled",r.disabled),o.xp6(3),o.Q6J("ngIf",r.spinners),o.xp6(1),o.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),o.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),o.xp6(1),o.Q6J("ngIf",r.spinners),o.xp6(4),o.Q6J("ngIf",r.spinners),o.xp6(1),o.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),o.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),o.xp6(1),o.Q6J("ngIf",r.spinners),o.xp6(1),o.Q6J("ngIf",r.seconds),o.xp6(1),o.Q6J("ngIf",r.seconds),o.xp6(1),o.Q6J("ngIf",r.meridian),o.xp6(1),o.Q6J("ngIf",r.meridian))},dependencies:[Sn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),tG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[IQ]}),n})();const SQ=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),_y(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},AQ=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let NQ=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(yy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),MQ=(()=>{class n{constructor(t,r,i,s){this.ariaLive=t,this._zone=i,this._element=s,this.contentHeaderTpl=null,this.shown=new o.vpe,this.hidden=new o.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(jn(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Si(this._zone,this._element.nativeElement,AQ,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Si(this._zone,this._element.nativeElement,SQ,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(o.$8M("aria-live"),o.Y36(NQ),o.Y36(o.R0b),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,RQ,7,o.Rgc),2&t){let s;o.iGM(s=o.CRH())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(o.uIk("aria-live",r.ariaLive),o.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[o.TTD,o.jDz],ngContentSelectors:PS,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(o.F$t(),o.YNc(0,BJ,2,1,"ng-template",null,0,o.W1O),o.YNc(2,$J,3,1,"ng-template",1),o.TgZ(3,"div",2),o.Hsn(4),o.qZA()),2&t&&(o.xp6(2),o.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[Sn,Qi],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),nG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[MQ]}),n})(),rG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),OQ=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=qj(this.result),i=Array.isArray(this.term)?this.term:[this.term],s=_=>this.accentSensitive?_:Kj(_),u=i.map(_=>function qJ(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(qj(_)))).filter(_=>_),h=this.accentSensitive?r:Kj(r),p=u.length?h.split(new RegExp(`(${u.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=p;else{let _=0;this.parts=p.map(b=>r.substring(_,_+=b.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[o.TTD,o.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&o.YNc(0,GJ,3,2,"ng-template",0),2&t&&o.Q6J("ngForOf",r.parts)},dependencies:[Sn,cr],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new o.OlP("live announcer delay",{providedIn:"root",factory:function xQ(){return 100}});let iG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[OQ]}),n})(),sG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const PQ=[n3,r3,a3,l3,A3,M3,x3,U3,sG,q3,Y3,K3,J3,tG,nG,rG,iG];let kQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[PQ,n3,r3,a3,l3,A3,M3,x3,U3,sG,q3,Y3,K3,J3,tG,nG,rG,iG]}),n})();function FQ(n,e){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"img",26),o.qZA(),o.TgZ(2,"div",27)(3,"h3"),o._uU(4,"Greetings !!!"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"The Flora CONNECTS thy thou soul desires\u{1f90d}"),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("src",t.images[0],o.LSH)}}function LQ(n,e){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"img",28),o.qZA(),o.TgZ(2,"div",27)(3,"h3"),o._uU(4,"Make Friends"),o.qZA(),o.TgZ(5,"p"),o._uU(6,'"One loyal friend is worth a ten thousand\xa0relative"'),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("src",t.images[1],o.LSH)}}function UQ(n,e){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"img",29),o.qZA(),o.TgZ(2,"div",27)(3,"h3"),o._uU(4,"Relax!!"),o.qZA(),o.TgZ(5,"p"),o._uU(6,'"Sometimes talking to your pals is the only therapy\xa0you\xa0need"'),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("src",t.images[2],o.LSH)}}function BQ(n,e){1&n&&(o.TgZ(0,"ngb-carousel"),o.YNc(1,FQ,7,1,"ng-template",24),o.YNc(2,LQ,7,1,"ng-template",24),o.YNc(3,UQ,7,1,"ng-template",24),o.qZA())}function VQ(n,e){1&n&&(o.TgZ(0,"div",30),o._uU(1,"Sorry, your email or password was incorrect."),o.qZA())}function $Q(n,e){1&n&&(o.TgZ(0,"div",30),o._uU(1,"An unexpected error occurred!!"),o.qZA())}const HQ=function(){return["/signup"]};class aE{constructor(e,t){this.router=e,this.loginService=t,this.images=["assets/ok.jpg","assets/ok1.png","assets/r2.jpg"],this.email="",this.password="",this.login=new U5(this.email,this.password)}retrieve(e){this.loginService.login(e.value.email,e.value.password).subscribe(i=>{this.errorMessage=null,this.router.navigate(["/main"])},i=>{this.errorMessage=i})}signInWithGoogle(){this.loginService.googleSignIn()}}aE.\u0275fac=function(e){return new(e||aE)(o.Y36(Zr),o.Y36(Cl))},aE.\u0275cmp=o.Xpm({type:aE,selectors:[["app-login-page"]],decls:38,vars:8,consts:[[1,"container-md"],[1,"container","text-center"],[1,"row"],[1,"col","c-1"],[1,""],[4,"ngIf"],[1,"col"],[1,"fancy"],["class","error mt-3",4,"ngIf"],[1,"lel"],["Auth","ngForm"],[1,"row","mb-3"],["for","inputEmail3",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","email","id","inputEmail3","name","email","required","","email","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword3",1,"col-sm-3","col-form-label"],["type","password","id","inputPassword3","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"css-button-sliding-to-left--green",3,"disabled","click"],["type","submit",1,"css-button-sliding-to-left--green",3,"routerLink"],[1,"logins"],[1,"css-button-sliding-to-left--green"],["src","assets\\icons\\google.png","alt","",1,"icon"],[1,"font",3,"click"],[1,"owners"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","Random first slide",1,"foto",3,"src"],[1,"carousel-caption"],["alt","Random second slide",1,"foto",3,"src"],["alt","Random third slide",1,"foto",3,"src"],[1,"error","mt-3"]],template:function(e,t){if(1&e){const r=o.EpF();o.TgZ(0,"div")(1,"div",0)(2,"div"),o._UZ(3,"div"),o.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4),o.YNc(8,BQ,4,0,"ngb-carousel",5),o.qZA()(),o.TgZ(9,"div",6)(10,"h1",7),o._uU(11,"Flora"),o.qZA(),o.YNc(12,VQ,2,0,"div",8),o.YNc(13,$Q,2,0,"div",8),o.TgZ(14,"form",9,10)(16,"div",11)(17,"label",12),o._uU(18,"Email :"),o.qZA(),o.TgZ(19,"div",13)(20,"input",14),o.NdJ("ngModelChange",function(s){return t.email=s}),o.qZA()()(),o.TgZ(21,"div",11)(22,"label",15),o._uU(23,"Password :"),o.qZA(),o.TgZ(24,"div",13)(25,"input",16),o.NdJ("ngModelChange",function(s){return t.password=s}),o.qZA()()(),o.TgZ(26,"button",17),o.NdJ("click",function(){o.CHM(r);const s=o.MAs(15);return o.KtG(t.retrieve(s))}),o._uU(27,"Login"),o.qZA(),o.TgZ(28,"button",18),o._uU(29,"Signup"),o.qZA()(),o.TgZ(30,"div",19)(31,"div",20),o._UZ(32,"img",21),o.TgZ(33,"button",22),o.NdJ("click",function(){return t.signInWithGoogle()}),o._uU(34,"Sign in with Google"),o.qZA()()()()()()()()(),o.TgZ(35,"div",23)(36,"p"),o._uU(37,"Salty Bear x SuprHUlk"),o.qZA()()}if(2&e){const r=o.MAs(15);o.xp6(8),o.Q6J("ngIf",t.images),o.xp6(4),o.Q6J("ngIf","COMMON_ERROR"==t.errorMessage),o.xp6(1),o.Q6J("ngIf","UNKNOWN_ERROR"==t.errorMessage),o.xp6(7),o.Q6J("ngModel",t.email),o.xp6(5),o.Q6J("ngModel",t.password),o.xp6(1),o.Q6J("disabled",!r.valid),o.xp6(2),o.Q6J("routerLink",o.DdM(7,HQ))}},dependencies:[Sn,qh,o3,s3,SS,Nd,uy,vS,qw,NS,fp,dy],styles:['.container-md[_ngcontent-%COMP%]{margin-top:5%;background-color:#cfdad2;width:60%;border-radius:2%;padding-left:0}.col[_ngcontent-%COMP%]{padding:0%}.c-1[_ngcontent-%COMP%]{width:20%}.foto[_ngcontent-%COMP%]{border-radius:2%}label[_ngcontent-%COMP%]{font-family:sofia;font-weight:800;padding-left:4%}.lel[_ngcontent-%COMP%]{margin-top:20%}.carouselle[_ngcontent-%COMP%]{width:30%;height:100%;position:absolute}.fancy[_ngcontent-%COMP%]{margin-top:5%;font-size:8rem;font-family:sofia;-webkit-box-reflect:below -30px linear-gradient(transparent,#0004);animation:_ngcontent-%COMP%_animate 5s linear infinite;line-height:100%;outline:none}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}@keyframes _ngcontent-%COMP%_animate{to,50%{color:#3d8361;text-shadow:none}0%,to{color:#fffaf0;text-shadow:0 0 10px #1C6758,0 0 20px #1C6758,0 0 40px #1C6758,0 0 100px #1C6758,0 0 160x #1C6758}}.css-button-sliding-to-left--green[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;min-width:130px;height:40px;padding:5px 10px;font-weight:700;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;outline:none;border-radius:5px;z-index:0;background:#fff;overflow:hidden;border:2px solid #1C6758;color:#1c6758}.css-button-sliding-to-left--green[_ngcontent-%COMP%]:hover{color:#fff}.css-button-sliding-to-left--green[_ngcontent-%COMP%]:hover:after{width:100%}.css-button-sliding-to-left--green[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:-1;transition:all .3s ease;right:0;top:0;width:0;height:100%;background:#1C6758}.error[_ngcontent-%COMP%]{font-family:Tilt Neon;font-size:.9rem;font-weight:400;color:red}.font[_ngcontent-%COMP%]{color:#1c6758;text-decoration:none;border:0px;background-color:transparent;font-weight:700;font-size:1.1rem;padding-right:0}.font[_ngcontent-%COMP%]:hover{color:#fff}.icon[_ngcontent-%COMP%]{height:70%}.logins[_ngcontent-%COMP%]{margin-top:2%}.owners[_ngcontent-%COMP%]{color:#cfdad2;font-family:Tilt Neon;font-weight:700;position:absolute;bottom:-1%;left:43%;font-style:italic}']});const oG="firebasestorage.googleapis.com",aG="storageBucket";class yr extends $.ZR{constructor(e,t,r=0){super(xk(e),`Firebase Storage: ${t} (${xk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var zn=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(zn||(zn={})),zn))();function xk(n){return"storage/"+n}function Pk(){return new yr(zn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lG(){return new yr(zn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uG(){return new yr(zn.CANCELED,"User canceled the upload/download.")}function cG(){return new yr(zn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ey(n){return new yr(zn.INVALID_ARGUMENT,n)}function dG(){return new yr(zn.APP_DELETED,"The Firebase app was deleted.")}function hG(n){return new yr(zn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lE(n,e){return new yr(zn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function uE(n){throw new yr(zn.INTERNAL_ERROR,"Internal error: "+n)}class os{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=os.makeFromUrl(e,t)}catch{return new os(e,"")}if(""===r.path)return r;throw function XQ(n){return new yr(zn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(ke){ke.path_=decodeURIComponent(ke.path)}const D=t.replace(/[.]/g,"\\."),je=[{regex:h,indices:{bucket:1,path:3},postModify:function s(ke){"/"===ke.path.charAt(ke.path.length-1)&&(ke.path_=ke.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===oG?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let ke=0;ke<je.length;ke++){const Ze=je[ke],Qe=Ze.regex.exec(e);if(Qe){let Qt=Qe[Ze.indices.path];Qt||(Qt=""),r=new os(Qe[Ze.indices.bucket],Qt),Ze.postModify(r);break}}if(null==r)throw function QQ(n){return new yr(zn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class iX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function WS(n){return"string"==typeof n||n instanceof String}function fG(n){return kk()&&n instanceof Blob}function kk(){return typeof Blob<"u"&&!(0,$.UG)()}function Fk(n,e,t,r){if(r<e)throw Ey(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ey(`Invalid value for '${n}'. Expected ${t} or less.`)}function ku(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function pG(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var kd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(kd||(kd={})),kd))();function gG(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class cX{constructor(e,t,r,i,s,u,h,p,_,b,D,S=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=D,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,x)=>{this.resolve_=N,this.reject_=x,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function aX(n){return void 0!==n}(p)?s():s(p)}catch(p){u(p)}else if(null!==h){const p=Pk();p.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,p):p)}else u(i.canceled?this.appDelete_?dG():uG():lG())};this.canceled_?t(0,new qS(!1,null,!0)):this.backoffId_=function sX(n,e,t){let r=1,i=null,s=null,u=!1,h=0;function p(){return 2===h}let _=!1;function b(...Y){_||(_=!0,e.apply(null,Y))}function D(Y){i=setTimeout(()=>{i=null,n(N,p())},Y)}function S(){s&&clearTimeout(s)}function N(Y,...me){if(_)return void S();if(Y)return S(),void b.call(null,Y,...me);if(p()||u)return S(),void b.call(null,Y,...me);let je;r<64&&(r*=2),1===h?(h=2,je=0):je=1e3*(r+Math.random()),D(je)}let x=!1;function j(Y){x||(x=!0,S(),!_&&(null!==i?(Y||(h=2),clearTimeout(i),D(0)):Y||(h=1)))}return D(0),s=setTimeout(()=>{u=!0,j(!0)},t),j}((r,i)=>{if(i)return void r(!1,new qS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===kd.NO_ERROR,p=s.getStatus();if(!h||gG(p,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===kd.ABORT;return void r(!1,new qS(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);r(!0,new qS(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function oX(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qS{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _X(...n){const e=function mX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(kk())return new Blob(n);throw new yr(zn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const uo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lk{constructor(e,t){this.data=e,this.contentType=t||null}}function Uk(n,e){switch(n){case uo.RAW:return new Lk(mG(e));case uo.BASE64:case uo.BASE64URL:return new Lk(_G(n,e));case uo.DATA_URL:return new Lk(function wX(n){const e=new yG(n);return e.base64?_G(uo.BASE64,e.rest):function bX(n){let e;try{e=decodeURIComponent(n)}catch{throw lE(uo.DATA_URL,"Malformed data URL.")}return mG(e)}(e.rest)}(e),function EX(n){return new yG(n).contentType}(e))}throw Pk()}function mG(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _G(n,e){switch(n){case uo.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw lE(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case uo.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw lE(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function vX(n){if(typeof atob>"u")throw function rX(n){return new yr(zn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:lE(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class yG{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw lE(uo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function CX(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Il{constructor(e,t){let r=0,i="";fG(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(fG(this.data_)){const i=function yX(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Il(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Il(r,!0)}}static getBlob(...e){if(kk()){const t=e.map(r=>r instanceof Il?r.data_:r);return new Il(_X.apply(null,t))}{const t=e.map(u=>WS(u)?Uk(uo.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[s++]=u[h]}),new Il(i,!0)}}uploadData(){return this.data_}}function Bk(n){let e;try{e=JSON.parse(n)}catch{return null}return function uX(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function vG(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function IX(n,e){return e}class Ts{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||IX}}let ZS=null;function cE(){if(ZS)return ZS;const n=[];n.push(new Ts("bucket")),n.push(new Ts("generation")),n.push(new Ts("metageneration")),n.push(new Ts("name","fullPath",!0));const t=new Ts("name");t.xform=function e(s,u){return function SX(n){return!WS(n)||n.length<2?n:vG(n)}(u)},n.push(t);const i=new Ts("size");return i.xform=function r(s,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Ts("timeCreated")),n.push(new Ts("updated")),n.push(new Ts("md5Hash",null,!0)),n.push(new Ts("cacheControl",null,!0)),n.push(new Ts("contentDisposition",null,!0)),n.push(new Ts("contentEncoding",null,!0)),n.push(new Ts("contentLanguage",null,!0)),n.push(new Ts("contentType",null,!0)),n.push(new Ts("metadata","customMetadata",!0)),ZS=n,ZS}function bG(n,e,t){const r=Bk(e);return null===r?null:function NX(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const u=t[s];r[u.local]=u.xform(r,e[u.server])}return function AX(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new os(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function Vk(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const wG="prefixes";class Sl{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Al(n){if(!n)throw Pk()}function YS(n,e){return function t(r,i){const s=bG(n,i,e);return Al(null!==s),s}}function Cy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function KQ(){return new yr(zn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function YQ(){return new yr(zn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function ZQ(n){return new yr(zn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function JQ(n){return new yr(zn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function dE(n){const e=Cy(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function qQ(n){return new yr(zn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function CG(n,e,t){const i=ku(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Sl(i,"GET",YS(n,t),u);return h.errorHandler=dE(e),h}function kX(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=ku(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new Sl(h,"GET",function xX(n,e){return function t(r,i){const s=function OX(n,e,t){const r=Bk(t);return null===r?null:function MX(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[wG])for(const i of t[wG]){const s=i.replace(/\/$/,""),u=n._makeStorageReference(new os(e,s));r.prefixes.push(u)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new os(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Al(null!==s),s}}(n,e.bucket),_);return b.urlParams=s,b.errorHandler=Cy(e),b}function DG(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function BX(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class KS{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function $k(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Al(!1)}return Al(!!t&&-1!==(e||["active"]).indexOf(t)),t}const jX={STATE_CHANGED:"state_changed"},Ds={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hk(n){switch(n){case"running":case"pausing":case"canceling":return Ds.RUNNING;case"paused":return Ds.PAUSED;case"success":return Ds.SUCCESS;case"canceled":return Ds.CANCELED;default:return Ds.ERROR}}class GX{constructor(e,t,r){if(function lX(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Ty(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class zX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw uE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class WX extends zX{initXhr(){this.xhr_.responseType="text"}}function va(){return new WX}class NG{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=cE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(zn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(gG(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=lG()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(zn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function VX(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u=DG(e,r,i),h={name:u.fullPath},p=ku(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},D=Vk(u,t),x=new Sl(p,"POST",function N(j){let Y;$k(j);try{Y=j.getResponseHeader("X-Goog-Upload-URL")}catch{Al(!1)}return Al(WS(Y)),Y},n.maxUploadRetryTime);return x.urlParams=h,x.headers=b,x.body=D,x.errorHandler=Cy(e),x}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,va,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function $X(n,e,t,r){const p=new Sl(t,"POST",function s(_){const b=$k(_,["active","final"]);let D=null;try{D=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Al(!1)}D||Al(!1);const S=Number(D);return Al(!isNaN(S)),new KS(S,r.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Cy(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,va,t,r);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new KS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let u;try{u=function HX(n,e,t,r,i,s,u,h){const p=new KS(0,0);if(u?(p.current=u.current,p.total=u.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw function tX(){return new yr(zn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;i>0&&(b=Math.min(b,i));const D=p.current;let N="";N=0===b?"finalize":_===b?"upload, finalize":"upload";const x={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},j=r.slice(D,D+b);if(null===j)throw cG();const je=new Sl(t,"POST",function Y(ke,Ze){const Qe=$k(ke,["active","final"]),kt=p.current+b,Qt=r.size();let br;return br="final"===Qe?YS(e,s)(ke,Ze):null,new KS(kt,Qt,"final"===Qe,br)},e.maxUploadRetryTime);return je.headers=x,je.body=j.uploadData(),je.progressCallback=h||null,je.errorHandler=Cy(n),je}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(u,va,i,s,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=CG(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,va,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function IG(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let je="";for(let ke=0;ke<2;ke++)je+=Math.random().toString().slice(2);return je}();u["Content-Type"]="multipart/related; boundary="+p;const _=DG(e,r,i),b=Vk(_,t),N=Il.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",r,"\r\n--"+p+"--");if(null===N)throw cG();const x={name:_.fullPath},j=ku(s,n.host,n._protocol),me=n.maxUploadRetryTime,De=new Sl(j,"POST",YS(n,t),me);return De.urlParams=x,De.headers=u,De.body=N.uploadData(),De.errorHandler=Cy(e),De}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,va,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=uG(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Hk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new GX(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Hk(this._state)){case Ds.SUCCESS:Ty(this._resolve.bind(null,this.snapshot))();break;case Ds.CANCELED:case Ds.ERROR:Ty(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Hk(this._state)){case Ds.RUNNING:case Ds.PAUSED:e.next&&Ty(e.next.bind(e,this.snapshot))();break;case Ds.SUCCESS:e.complete&&Ty(e.complete.bind(e))();break;default:e.error&&Ty(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Cp{constructor(e,t){this._service=e,this._location=t instanceof os?t:os.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cp(e,t)}get root(){const e=new os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vG(this._location.path)}get storage(){return this._service}get parent(){const e=function TX(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new os(this._location.bucket,e);return new Cp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw hG(e)}}function MG(n,e,t){return jk.apply(this,arguments)}function jk(){return jk=(0,Z.Z)(function*(n,e,t){const i=yield OG(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield MG(n,e,i.nextPageToken))}),jk.apply(this,arguments)}function OG(n,e){null!=e&&"number"==typeof e.maxResults&&Fk("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=kX(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,va)}function iee(n){n._throwIfRoot("getDownloadURL");const e=function FX(n,e,t){const i=ku(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Sl(i,"GET",function PX(n,e){return function t(r,i){const s=bG(n,i,e);return Al(null!==s),function RX(n,e,t,r){const i=Bk(e);if(null===i||!WS(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(_=>{const D=n.fullPath;return ku("/b/"+u(n.bucket)+"/o/"+u(D),t,r)+pG({alt:"media",token:_})})[0]}(s,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=dE(e),h}(n.storage,n._location,cE());return n.storage.makeRequestWithTokens(e,va).then(t=>{if(null===t)throw function nX(){return new yr(zn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function xG(n,e){const t=function DX(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new os(n._location.bucket,t);return new Cp(n.storage,r)}function PG(n,e){if(n instanceof Gk){const t=n;if(null==t._bucket)throw function eX(){return new yr(zn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aG+"' property when initializing the app?")}();const r=new Cp(t,t._bucket);return null!=e?PG(r,e):r}return void 0!==e?xG(n,e):n}function lee(n,e){if(e&&function oee(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Gk)return function aee(n,e){return new Cp(n,e)}(n,e);throw Ey("To use ref(service, url), the first argument must be a Storage instance.")}return PG(n,e)}function kG(n,e){const t=e?.[aG];return null==t?null:os.makeFromBucketSpec(t,n)}class Gk{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=oG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?os.makeFromBucketSpec(i,this._host):kG(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?os.makeFromBucketSpec(this._url,e):kG(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Z.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Z.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cp(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new iX(dG());{const u=function gX(n,e,t,r,i,s,u=!0){const h=pG(n.urlParams),p=n.url+h,_=Object.assign({},n.headers);return function fX(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function dX(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function hX(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,s),function pX(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new cX(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Z.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const FG="@firebase/storage",UG="storage";function BG(n,e){return lee(n=(0,$.m9)(n),e)}function yee(n=(0,rt.getApp)(),e){n=(0,$.m9)(n);const r=(0,rt._getProvider)(n,UG).getImmediate({identifier:e}),i=(0,$.P0)("storage");return i&&VG(r,...i),r}function VG(n,e,t,r={}){!function uee(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,$.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function vee(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Gk(t,r,i,e,rt.SDK_VERSION)}!function bee(){(0,rt._registerComponent)(new Yr.wA(UG,vee,"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(FG,"0.11.1",""),(0,rt.registerVersion)(FG,"0.11.1","esm2017")}();class JS{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class $G{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new JS(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new JS(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?u=>t(new JS(u,this,this._ref)):{next:t.next?u=>t.next(new JS(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class HG{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Fu(e,this._service))}get items(){return this._delegate.items.map(e=>new Fu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function _ee(n,e){return xG(n,e)}(this._delegate,e);return new Fu(t,this.storage)}get root(){return new Fu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Fu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new $G(function cee(n,e,t){return function XX(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new NG(n,new Il(e),t)}(n=(0,$.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=uo.RAW,r){this._throwIfRoot("putString");const i=Uk(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new $G(new NG(this._delegate,new Il(i.data,!0),s),this)}listAll(){return function pee(n){return function tee(n){const e={prefixes:[],items:[]};return MG(n,e).then(()=>e)}(n=(0,$.m9)(n))}(this._delegate).then(e=>new HG(e,this.storage))}list(e){return function fee(n,e){return OG(n=(0,$.m9)(n),e)}(this._delegate,e||void 0).then(t=>new HG(t,this.storage))}getMetadata(){return function dee(n){return function nee(n){n._throwIfRoot("getMetadata");const e=CG(n.storage,n._location,cE());return n.storage.makeRequestWithTokens(e,va)}(n=(0,$.m9)(n))}(this._delegate)}updateMetadata(e){return function hee(n,e){return function ree(n,e){n._throwIfRoot("updateMetadata");const t=function LX(n,e,t,r){const s=ku(e.fullServerUrl(),n.host,n._protocol),h=Vk(t,r),_=n.maxOperationRetryTime,b=new Sl(s,"PATCH",YS(n,r),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=h,b.errorHandler=dE(e),b}(n.storage,n._location,e,cE());return n.storage.makeRequestWithTokens(t,va)}(n=(0,$.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function gee(n){return iee(n=(0,$.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function mee(n){return function see(n){n._throwIfRoot("deleteObject");const e=function UX(n,e){const r=ku(e.fullServerUrl(),n.host,n._protocol),h=new Sl(r,"DELETE",function u(p,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=dE(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,va)}(n=(0,$.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw hG(e)}}class jG{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(GG(e))throw Ey("ref() expected a child path but got a URL, use refFromURL instead.");return new Fu(BG(this._delegate,e),this)}refFromURL(e){if(!GG(e))throw Ey("refFromURL() expected a full URL but got a child path, use ref() instead.");try{os.makeFromUrl(e,this._delegate.host)}catch{throw Ey("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fu(BG(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){VG(this._delegate,e,t,r)}}function GG(n){return/^[A-Za-z]+:\/\//.test(n)}function Tee(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new jG(t,r)}function zG(n){const e=function Iee(n){return new Hn.y(e=>{const t=u=>e.next(u);t(n.snapshot);const s=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){s()}}).pipe(function jQ(n,e=ed){return(0,kn.e)((t,r)=>{let i=null,s=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const _=s;s=null,r.next(_)}};function p(){const _=u+n,b=e.now();if(b<_)return i=this.schedule(void 0,_-b),void r.add(i);h()}t.subscribe((0,En.x)(r,_=>{s=_,u=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,nt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function QS(n){return{getDownloadURL:()=>ft(void 0).pipe(hD,Fn(()=>n.getDownloadURL()),Jr),getMetadata:()=>ft(void 0).pipe(hD,Fn(()=>n.getMetadata()),Jr),delete:()=>(0,Kt.D)(n.delete()),child:e=>QS(n.child(e)),updateMetadata:e=>(0,Kt.D)(n.updateMetadata(e)),put:(e,t)=>zG(n.put(e,t)),putString:(e,t,r)=>zG(n.putString(e,t,r)),list:e=>(0,Kt.D)(n.list(e)),listAll:()=>(0,Kt.D)(n.listAll())}}!function Dee(n){const e={TaskState:Ds,TaskEvent:jX,StringFormat:uo,Storage:jG,Reference:Fu};n.INTERNAL.registerComponent(new Yr.wA("storage-compat",Tee,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.1")}(Nb.Z);const See=new o.OlP("angularfire2.storageBucket"),Aee=new o.OlP("angularfire2.storage.maxUploadRetryTime"),Nee=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Ree=new o.OlP("angularfire2.storage.use-emulator");let XS=(()=>{class n{constructor(t,r,i,s,u,h,p,_,b,D){const S=(0,wi.on)(t,u,r);this.storage=(0,wi.cc)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const N=u.runOutsideAngular(()=>S.storage(i||void 0)),x=b;return x&&N.useEmulator(...x),p&&N.setMaxUploadRetryTime(p),_&&N.setMaxOperationRetryTime(_),N},[p,_])}ref(t){return QS(this.storage.ref(t))}refFromURL(t){return QS(this.storage.refFromURL(t))}upload(t,r,i){return QS(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(wi.Dh),o.LFG(wi.xv,8),o.LFG(See,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG($i),o.LFG(Aee,8),o.LFG(Nee,8),o.LFG(Ree,8),o.LFG(ml,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Mee(n,e){1&n&&(o.TgZ(0,"div",20),o._uU(1,"Email address already exists!"),o.qZA())}function Oee(n,e){1&n&&(o.TgZ(0,"div",20),o._uU(1,"Password's length should be greater than 5"),o.qZA())}function xee(n,e){1&n&&(o.TgZ(0,"div",20),o._uU(1,"Password doesn't match"),o.qZA())}function Pee(n,e){1&n&&(o.TgZ(0,"div",21),o._uU(1,"An unexpected error occurred!!"),o.qZA())}class hE{constructor(e,t,r,i,s){this.loginService=e,this.router=t,this.http=r,this.afs=i,this.af=s,this.isLoginMode=!0,this.productsRef=this.afs.collection("users")}onSubmit(e){const t=e.value.email,r=e.value.password;this.password!=this.rePassword?this.errorMessage="Password does not match":this.loginService.signup(t,r).subscribe(i=>{this.http.post("https://flora-fbf5b-default-rtdb.firebaseio.com/users.json",{email:this.email}).subscribe(s=>{console.log(s)}),this.model={EMAIL_ADD:this.email,FIRST_NAME:this.f_name,LAST_NAME:this.l_name,PASSWORD:this.password,USERNAME:this.u_name},this.productsRef.doc(this.email).set(this.model).then(s=>alert("Signed up Successfully!!")),this.router.navigate(["/"])},i=>{this.errorMessage=i})}}hE.\u0275fac=function(e){return new(e||hE)(o.Y36(Cl),o.Y36(Zr),o.Y36(e0),o.Y36(xu),o.Y36(XS))},hE.\u0275cmp=o.Xpm({type:hE,selectors:[["app-signup-page"]],decls:37,vars:11,consts:[[1,"container-fluid"],[1,"col-4"],["authForm","ngForm"],[1,"mb-2"],[1,"mb-2","mt-3"],["for","f_name",1,"form-label"],["type","text","id","f_name","placeholder","Salty","name","firstname","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","l_name",1,"form-label"],["type","text","id","l_name","placeholder","Hulk","name","lastname","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","u_name",1,"form-label"],["type","text","id","u_name","placeholder","A COOL NAME","name","username","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["class","error mb-0",4,"ngIf"],["type","email","id","email","placeholder","name@example.com","name","email","email","","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["for","password_check",1,"form-label"],["type","password","id","password_check","name","rePassword","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["type","submit",1,"css-button-sliding-to-left--green","mt-2",3,"disabled","click"],[1,"error","mb-0"],[1,"error"]],template:function(e,t){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"form",1,2)(3,"h1"),o._uU(4,"Flora"),o.qZA(),o._UZ(5,"hr",3),o.TgZ(6,"div",4)(7,"label",5),o._uU(8,"First Name"),o.qZA(),o.TgZ(9,"input",6),o.NdJ("ngModelChange",function(s){return t.f_name=s}),o.qZA()(),o.TgZ(10,"div",3)(11,"label",7),o._uU(12,"Last Name "),o.qZA(),o.TgZ(13,"input",8),o.NdJ("ngModelChange",function(s){return t.l_name=s}),o.qZA()(),o.TgZ(14,"div",3)(15,"label",9),o._uU(16,"Username"),o.qZA(),o.TgZ(17,"input",10),o.NdJ("ngModelChange",function(s){return t.u_name=s}),o.qZA()(),o.TgZ(18,"div",3)(19,"label",11),o._uU(20,"Email address "),o.YNc(21,Mee,2,0,"div",12),o.qZA(),o.TgZ(22,"input",13),o.NdJ("ngModelChange",function(s){return t.email=s}),o.qZA()(),o.TgZ(23,"div",3)(24,"label",14),o._uU(25,"Password "),o.YNc(26,Oee,2,0,"div",12),o.qZA(),o.TgZ(27,"input",15),o.NdJ("ngModelChange",function(s){return t.password=s}),o.qZA()(),o.TgZ(28,"div",3)(29,"label",16),o._uU(30,"Re-enter password "),o.YNc(31,xee,2,0,"div",12),o.qZA(),o.TgZ(32,"input",17),o.NdJ("ngModelChange",function(s){return t.rePassword=s}),o.qZA()(),o.TgZ(33,"div",3),o.YNc(34,Pee,2,0,"div",18),o.TgZ(35,"button",19),o.NdJ("click",function(){o.CHM(r);const s=o.MAs(2);return o.KtG(t.onSubmit(s))}),o._uU(36,"Floral !!! "),o.qZA()()()()}if(2&e){const r=o.MAs(2);o.xp6(9),o.Q6J("ngModel",t.f_name),o.xp6(4),o.Q6J("ngModel",t.l_name),o.xp6(4),o.Q6J("ngModel",t.u_name),o.xp6(4),o.Q6J("ngIf","EMAIL_EXISTS"==t.errorMessage),o.xp6(1),o.Q6J("ngModel",t.email),o.xp6(4),o.Q6J("ngIf","WEAK_PASSWORD : Password should be at least 6 characters"==t.errorMessage),o.xp6(1),o.Q6J("ngModel",t.password),o.xp6(4),o.Q6J("ngIf","Password does not match"==t.errorMessage),o.xp6(1),o.Q6J("ngModel",t.rePassword),o.xp6(2),o.Q6J("ngIf","UNKNOWN_ERROR"==t.errorMessage),o.xp6(1),o.Q6J("disabled",!r.valid)}},dependencies:[Sn,SS,Nd,uy,vS,qw,NS,fp,dy],styles:['.container-fluid[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}h1[_ngcontent-%COMP%]{font-family:Sofia,Roboto;text-align:center;font-size:4rem;color:#1c6758}form[_ngcontent-%COMP%]{border-radius:1%;padding:2% 3%;background-color:#cfdad2}label[_ngcontent-%COMP%]{font-size:1rem;font-family:Roboto;font-weight:400}.css-button-sliding-to-left--green[_ngcontent-%COMP%]{min-width:130px;height:40px;color:#fff;padding:5px 10px;font-weight:700;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;outline:none;border-radius:5px;z-index:0;background:#fff;overflow:hidden;border:2px solid #3D8361;color:#3d8361}.css-button-sliding-to-left--green[_ngcontent-%COMP%]:hover{color:#fff}.css-button-sliding-to-left--green[_ngcontent-%COMP%]:hover:after{width:100%}.css-button-sliding-to-left--green[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:-1;transition:all .3s ease;right:0;top:0;width:0;height:100%;background:#3D8361}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.error[_ngcontent-%COMP%]{font-family:Tilt Neon;font-size:.9rem;font-weight:400;color:red}']});const kee=["toScroll"];function Fee(n,e){1&n&&(o.TgZ(0,"div",2),o._UZ(1,"img",3),o.qZA())}function Lee(n,e){1&n&&(o.TgZ(0,"p",15),o._uU(1," Send a letter to make friends "),o.qZA())}function Uee(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",16),o.NdJ("click",function(){const s=o.CHM(t).$implicit,u=o.oxw(2);return o.KtG(u.onContactClick(s))}),o.TgZ(1,"div",17),o._UZ(2,"img",18),o.qZA(),o.TgZ(3,"div",19)(4,"p",20),o._uU(5),o.qZA(),o.TgZ(6,"p",21),o._uU(7),o.qZA()(),o.TgZ(8,"div",22),o._uU(9),o.qZA()()}if(2&n){const t=e.$implicit;o.uIk("data-index",e.index),o.xp6(5),o.Oqu(t.f_name),o.xp6(2),o.Oqu(t.last_message),o.xp6(2),o.Oqu(t.time)}}function Bee(n,e){1&n&&(o.TgZ(0,"div",23)(1,"h4",24)(2,"span",25),o._uU(3,"Click on a Friend"),o.qZA(),o._uU(4," to send and receive messages "),o.TgZ(5,"span",26),o._UZ(6,"i",27),o._uU(7,"All messages are end to end encrypted"),o.qZA()()())}function Vee(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",28),o._UZ(1,"div",29),o.TgZ(2,"div",20)(3,"h4",30),o._uU(4),o.qZA(),o.TgZ(5,"p",31),o._uU(6),o.qZA()(),o.TgZ(7,"div",32)(8,"button",33),o._uU(9," Menu "),o.qZA(),o.TgZ(10,"div",34)(11,"button",35),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.deletechat())}),o._uU(12,"Delete Friend"),o.qZA()()()()}if(2&n){const t=o.oxw(2);o.xp6(1),o.Jzz("background-image: url(",t.img,"); background-size: 90% 90%; background-position: center; background-repeat: no-repeat;"),o.xp6(3),o.Oqu(t.currentUserFname),o.xp6(2),o.Oqu(t.currentUserUname)}}function $ee(n,e){if(1&n&&(o.TgZ(0,"div",41)(1,"strong"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA()()),2&n){const t=o.oxw().$implicit;o.xp6(2),o.Oqu(t.message),o.xp6(2),o.Oqu(t.time)}}function Hee(n,e){if(1&n&&(o.TgZ(0,"div",42)(1,"strong"),o._uU(2),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.qZA()()),2&n){const t=o.oxw().$implicit;o.xp6(2),o.Oqu(t.message),o.xp6(2),o.Oqu(t.time)}}function jee(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,$ee,5,2,"div",39),o.YNc(2,Hee,5,2,"div",40),o.qZA()),2&n){const t=e.$implicit,r=o.oxw(3);o.xp6(1),o.Q6J("ngIf",t.email==r.currentuser),o.xp6(1),o.Q6J("ngIf",t.email==r.em)}}function Gee(n,e){if(1&n&&(o.TgZ(0,"div",36,37),o.YNc(2,jee,3,2,"div",38),o.ALo(3,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,t.posts))}}function zee(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",43)(1,"div",44),o._UZ(2,"i",45),o.qZA(),o.TgZ(3,"input",46),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw(2);return o.KtG(s.msg=i)})("keyup.enter",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.send())}),o.qZA(),o.TgZ(4,"button",47),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.send())}),o._UZ(5,"i",48),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(3),o.Q6J("ngModel",t.msg)}}function Wee(n,e){if(1&n&&(o.TgZ(0,"div",4)(1,"div",5)(2,"div",6),o._uU(3,"Chats"),o.qZA(),o.TgZ(4,"div",7),o.YNc(5,Lee,2,0,"p",8),o.YNc(6,Uee,10,4,"div",9),o.ALo(7,"async"),o.qZA()(),o.TgZ(8,"div",10),o.YNc(9,Bee,8,0,"div",11),o.YNc(10,Vee,13,5,"div",12),o.YNc(11,Gee,4,3,"div",13),o.YNc(12,zee,6,1,"div",14),o.qZA()()),2&n){const t=o.oxw();o.xp6(5),o.Q6J("ngIf",t.showError),o.xp6(1),o.Q6J("ngForOf",o.lcZ(7,6,t.user)),o.xp6(3),o.Q6J("ngIf",!t.showTextField),o.xp6(1),o.Q6J("ngIf",t.showTextField),o.xp6(1),o.Q6J("ngIf",t.showTextField),o.xp6(1),o.Q6J("ngIf",t.showTextField)}}class fE{constructor(e,t){this.afs=e,this.af=t,this.friends=[],this.messages=[],this.showTextField=!1,this.showError=!0,this.flag=!0,this.element=document.getElementsByClassName("message-window"),this.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],this.loader=!0,this.em=JSON.parse(localStorage.getItem("userData")||"{}").email}ngOnInit(){this.userlist=this.afs.collection(`users/${this.em}/Friends`,e=>e.orderBy("epoch","desc")),this.user=this.userlist.snapshotChanges().pipe((0,nt.U)(e=>e.map(t=>(t.payload.doc.exists&&(this.showError=!1),{email:t.payload.doc.id,f_name:t.payload.doc.data().f_name,last_message:t.payload.doc.data().last_message,time:t.payload.doc.data().time})))),this.user.subscribe(e=>{this.flag&&(this.loader=!1,this.flag=!1)})}onContactClick(e){this.currentuser=e.email,this.postsCol=this.afs.collection(`users/${this.em}/Friends/${e.email}/messages`,t=>t.orderBy("timestamp").limitToLast(25)),this.posts=this.postsCol.snapshotChanges().pipe((0,nt.U)(t=>t.map(r=>{const i=r.payload.doc.data().message,s=r.payload.doc.data().email,u=r.payload.doc.data().timestamp,h=r.payload.doc.data().time;return this.toScroll.nativeElement.scrollTop=this.toScroll.nativeElement.scrollHeight,{message:i,email:s,timestamp:u,time:h}}))),this.afs.doc(`users/${e.email}`).get().subscribe(t=>{const r=t.data();this.currentUserFname=r.FIRST_NAME,this.currentUserUname="@"+r.USERNAME,this.showTextField=!0}),this.af.ref(`users/${e.email}/[object File]`).getDownloadURL().subscribe(t=>{this.img=t}),setTimeout(()=>{this.toScroll.nativeElement.scrollTop=this.toScroll.nativeElement.scrollHeight},2e3)}getTimeStamp(e){const t=e.getDate();return this.month[e.getMonth()]+" "+t+", "+e.getFullYear()+", "+e.getHours()+":"+(e.getMinutes()<3?"0"+e.getMinutes():e.getMinutes())}send(){if(""!=this.msg&&null!=this.msg){const e=new Date,t=e.getTime().toString();this.afs.collection(`users/${this.em}/Friends/${this.currentuser}/messages`).add({email:this.em,message:this.msg,timestamp:t,time:this.getTimeStamp(e)}).then(),this.afs.collection(`users/${this.currentuser}/Friends/${this.em}/messages`).add({email:this.em,message:this.msg,timestamp:t,time:this.getTimeStamp(e)}).then(),this.afs.collection(`users/${this.em}/Friends`).doc(this.currentuser).update({last_message:this.msg,time:this.getTimeStamp(e),epoch:t}),this.afs.collection(`users/${this.currentuser}/Friends`).doc(this.em).update({last_message:this.msg,time:this.getTimeStamp(e),epoch:t}),this.msg=""}}deletechat(){console.log(this.currentuser),this.afs.doc(`users/${this.em}/Friends/${this.currentuser}`).delete(),this.afs.doc(`users/${this.currentuser}/Friends/${this.em}`).delete()}}function qee(n,e){1&n&&(o.TgZ(0,"div",2),o._UZ(1,"img",3),o.qZA())}function Zee(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",4)(1,"div",5)(2,"h1",6),o._uU(3,"Settings"),o.qZA(),o.TgZ(4,"label",7),o._uU(5,"Name"),o.qZA(),o.TgZ(6,"input",8),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.name=i)}),o.qZA(),o.TgZ(7,"div",9),o._uU(8,"Help people discover your account by using the name you're known by: either your full name, nickname, or business name"),o.qZA(),o.TgZ(9,"label",7),o._uU(10,"Password"),o.qZA(),o.TgZ(11,"input",8),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.password=i)}),o.qZA(),o.TgZ(12,"label",7),o._uU(13,"Website"),o.qZA(),o.TgZ(14,"input",10),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.website=i)}),o.qZA(),o.TgZ(15,"label",11),o._uU(16,"Bio"),o.qZA(),o.TgZ(17,"textarea",12),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.bio=i)}),o.qZA(),o.TgZ(18,"p",13),o._uU(19,"Personal Information"),o.qZA(),o.TgZ(20,"div",14),o._uU(21,"Provide your personal information, even if the account is used for a business, a pet or something else. This won't be a part of your public profile."),o.qZA(),o.TgZ(22,"label",15),o._uU(23,"Gender"),o.qZA(),o.TgZ(24,"select",16),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.gender=i)}),o.TgZ(25,"option"),o._uU(26,"Male"),o.qZA(),o.TgZ(27,"option"),o._uU(28,"Female"),o.qZA(),o.TgZ(29,"option"),o._uU(30,"Combo"),o.qZA(),o.TgZ(31,"option"),o._uU(32,"Faggot"),o.qZA(),o.TgZ(33,"option"),o._uU(34,"Lesbian"),o.qZA(),o.TgZ(35,"option"),o._uU(36,"hai kuch abhi pta ni chla hai"),o.qZA()(),o._UZ(37,"br"),o.TgZ(38,"div",17)(39,"button",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.submit())}),o._uU(40,"Submit"),o.qZA(),o.TgZ(41,"div",19)(42,"label",20),o._uU(43,"Change Profile pic"),o.qZA(),o.TgZ(44,"input",21),o.NdJ("change",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.upload(i))}),o.qZA()()()(),o.TgZ(45,"div",22)(46,"div",23)(47,"h1"),o._uU(48,"Instruction"),o.qZA(),o.TgZ(49,"p"),o._uU(50,"Sign up and choose a username that clearly represents your identity."),o.qZA(),o._UZ(51,"br"),o.TgZ(52,"p"),o._UZ(53,"br"),o.TgZ(54,"b"),o._uU(55,"Customize your profile:"),o.qZA(),o._UZ(56,"br"),o._uU(57," Add a profile photo and a biography .This will help other users discover your content and connect with you. "),o.qZA()(),o._UZ(58,"img",24),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("ngModel",t.name),o.xp6(5),o.Q6J("ngModel",t.password),o.xp6(3),o.Q6J("ngModel",t.website),o.xp6(3),o.Q6J("ngModel",t.bio),o.xp6(7),o.Q6J("ngModel",t.gender)}}fE.\u0275fac=function(e){return new(e||fE)(o.Y36(xu),o.Y36(XS))},fE.\u0275cmp=o.Xpm({type:fE,selectors:[["app-chat"]],viewQuery:function(e,t){if(1&e&&o.Gf(kee,5),2&e){let r;o.iGM(r=o.CRH())&&(t.toScroll=r.first)}},decls:2,vars:2,consts:[["class","loaderwindow",4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"loaderwindow"],["src","assets\\loader.svg","alt","",1,"load"],[1,"container-fluid"],[1,"friends-list"],[1,"heading"],[1,"cover"],["class","error-message",4,"ngIf"],["class","friend",3,"click",4,"ngFor","ngForOf"],[1,"chat-window"],["class","show-instruction",4,"ngIf"],["class","user-info",4,"ngIf"],["class","message-window",4,"ngIf"],["class","input mt-2",4,"ngIf"],[1,"error-message"],[1,"friend",3,"click"],[1,"image"],["src","assets/pfp/pvz.jpeg","alt","",1,"ok"],[1,"wrapper"],[1,"name"],[1,"last-message"],[1,"time"],[1,"show-instruction"],[1,"instruction"],["id","one"],["id","two"],[1,"fa-solid","fa-lock"],[1,"user-info"],["title","Upload your pfp",1,"propic"],[1,"currentUserFname"],[1,"currentUserUname"],["ngbDropdown","",1,"dropdown"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"message-window"],["toScroll",""],[4,"ngFor","ngForOf"],["class","message friend-message",4,"ngIf"],["class","message user-message",4,"ngIf"],[1,"message","friend-message"],[1,"message","user-message"],[1,"input","mt-2"],[1,"fancy-envelope"],[1,"fa-solid","fa-envelope"],["type","text","name","title",1,"chatInput",3,"ngModel","ngModelChange","keyup.enter"],["value","add a post",1,"btn","btn-send","btn-primary",3,"click"],[1,"fa-solid","fa-arrow-right"]],template:function(e,t){1&e&&(o.YNc(0,Fee,2,0,"div",0),o.YNc(1,Wee,13,8,"div",1)),2&e&&(o.Q6J("ngIf",t.loader),o.xp6(1),o.Q6J("ngIf",!t.loader))},dependencies:[cr,Sn,sE,R3,Nk,Ak,Nd,uy,fp,Hs],styles:['.container-fluid[_ngcontent-%COMP%]{background-color:#cfdad2;min-height:97vh;max-height:97vh;border-radius:15px;display:grid;grid-template:1fr / 1fr 2fr;padding:1rem 2rem;gap:1%}.friends-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1%;border-right:1px solid black;min-width:22vw;max-width:22vw;background-color:#9dc08b;border-radius:15px 0 0 15px;padding:0 2%}.cover[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;overflow-y:auto}.heading[_ngcontent-%COMP%]{font-family:Sofia,"Sans-serif";font-size:xx-large}.friend[_ngcontent-%COMP%]{display:flex;padding:2% 0 2% 2%}.friend[_ngcontent-%COMP%]:hover{border-radius:5px;background-color:#edf1d61a;padding:2%}.image[_ngcontent-%COMP%]{flex-basis:20%;display:flex;justify-content:center}.ok[_ngcontent-%COMP%]{width:85%;border-radius:60%}.wrapper[_ngcontent-%COMP%]{flex-basis:100%;padding-left:3%;min-width:50%;max-width:50%}p[_ngcontent-%COMP%]{margin:0;padding:0}.name[_ngcontent-%COMP%]{font-family:Tilt Neon;font-weight:bolder}p.last-message[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{flex-grow:1}.chat-window[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:91vh;max-height:91vh;min-width:54vw;max-width:54vw}.chat-window[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%], .chat-window[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;padding:0}.show-instruction[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:90vh}.instruction[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#two[_ngcontent-%COMP%]{position:absolute;bottom:5%;display:flex;gap:1%;font-size:medium;min-width:20vw}.user-info[_ngcontent-%COMP%]{display:flex;flex-basis:5%}.image[_ngcontent-%COMP%]{max-width:50%}.propic[_ngcontent-%COMP%]{height:100%;width:10%;border-radius:17px}.user-info[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%]{height:50%;width:50%;flex-basis:5%}.user-info[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:50%;width:50%}.dropdown[_ngcontent-%COMP%]{position:absolute;right:4%}#dropdownBasic1[_ngcontent-%COMP%]{border:1px solid #1C6758;border-radius:5px;padding:10px;background-color:#1c6758;color:#fff;transition:.4s}#dropdownBasic1[_ngcontent-%COMP%]:hover{background-color:#fff;color:#1c6758;box-shadow:0 .1em .2em #1c675866,0 .4em .7em -.1em #1c67584d,inset 0 -.1em #1c67584d;transform:translateY(-.3rem);transition-duration:.25s}.message-window[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow-y:auto;min-height:77vh}.friend-message[_ngcontent-%COMP%] > strong[_ngcontent-%COMP%]{padding:4%;border-radius:10px 10px 10px 0%;background-color:#3d8361;word-break:break-all}.user-message[_ngcontent-%COMP%] > strong[_ngcontent-%COMP%]{padding:4%;border-radius:10px 10px 0%;background-color:#3d8361;word-break:break-all}.friend-message[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;float:left;display:flex;flex-direction:column;align-items:flex-start;text-align:start;margin-bottom:1%;font-family:Roboto;max-width:40%}.user-message[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word;display:flex;flex-direction:column;align-items:flex-end;text-align:start;gap:10%;float:right;margin-bottom:1%;margin-right:2%;font-family:Roboto;max-width:40%}.input[_ngcontent-%COMP%]{display:flex;gap:2%;border-radius:10px;background-color:#fff}.fancy-envelope[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:200%;padding-left:1%;color:#3d8361}input[_ngcontent-%COMP%]{flex-grow:1;padding:1% 2%;border:none;border-radius:10px;outline:none}.btn-send[_ngcontent-%COMP%]{border-top-left-radius:0%;border-bottom-left-radius:0%;color:#fefefe;background-color:#3d8361;border:none;padding:0 3%;font-size:130%}.fa-arrow-right[_ngcontent-%COMP%]{transition-duration:.25s}.btn-send[_ngcontent-%COMP%]:hover   .fa-arrow-right[_ngcontent-%COMP%]{transform:translate(20%);transition-duration:.25s}[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5rem}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#9DC08B;border-radius:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsl(100,40%,50%);border-radius:6px}.loaderwindow[_ngcontent-%COMP%]{min-height:97vh;max-height:100vh;background-color:#abc270;border-radius:15px}.load[_ngcontent-%COMP%]{margin-left:25%;margin-top:1%}']});class pE{constructor(e,t){this.afs=e,this.af=t,this.loader=!1,this.em=JSON.parse(localStorage.getItem("userData")||"{}").email}ngOnInit(){this.load()}submit(){this.afs.doc(`users/${this.em}`).update({FIRST_NAME:this.name,PASSWORD:this.password,BIO:this.bio,GENDER:this.gender,WEBSITE:this.website}),console.log("ok")}upload(e){this.path=e.target.files[0],this.uploadimage()}uploadimage(){console.log(this.path),this.af.upload(`users/${this.em}/${this.path}`,this.path),alert("Image was added to your pfp! reload page ")}load(){this.loader=!0,setTimeout(()=>{this.loader=!1},1e3)}}function Yee(n,e){1&n&&(o.TgZ(0,"div",2),o._UZ(1,"img",3),o.qZA())}function Kee(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",4),o._UZ(1,"br"),o.TgZ(2,"h1",5)(3,"u"),o._uU(4,"Write Your letter"),o.qZA()(),o._UZ(5,"br")(6,"br"),o.TgZ(7,"form",6)(8,"div",7)(9,"textarea",8),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.letter=i)}),o.qZA(),o._UZ(10,"br"),o.TgZ(11,"button",9),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.sendletter())}),o._uU(12,"Send"),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(9),o.Q6J("ngModel",t.letter),o.xp6(2),o.Q6J("disabled",t.lock)}}pE.\u0275fac=function(e){return new(e||pE)(o.Y36(xu),o.Y36(XS))},pE.\u0275cmp=o.Xpm({type:pE,selectors:[["app-settings"]],decls:2,vars:2,consts:[["class","loaderwindow",4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"loaderwindow"],["src","assets\\loader.svg","alt","",1,"load"],[1,"container-fluid"],[1,"'first"],[1,"fancy"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"],["id","emailHelp",1,"form-text"],["type","text","id","exampleInputEmail1",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"heading"],["id","emailHelp",1,"form-text","second"],["for","inputState",1,"form-label"],["id","inputState",1,"form-select",3,"ngModel","ngModelChange"],[1,"layout"],["type","submit",1,"btn",3,"click"],[1,"uploader"],["for","uploaderphoto"],["id","uploaderphoto","type","file",1,"fileup",3,"change"],[1,"second"],[1,"instruction"],["src","assets\\Settings\\wallpaper.jpg","alt","Responsive image",1,"img-fluid"]],template:function(e,t){1&e&&(o.YNc(0,qee,2,0,"div",0),o.YNc(1,Zee,59,5,"div",1)),2&e&&(o.Q6J("ngIf",t.loader),o.xp6(1),o.Q6J("ngIf",!t.loader))},dependencies:[Sn,wj,Cj,Nd,AS,uy,fp],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#cfdad2;min-height:97vh;border-radius:15px;max-height:90vh;padding-right:0;display:grid;grid-template:1fr/1fr 1fr;gap:1%}.fancy[_ngcontent-%COMP%]{color:#3d8361;text-align:center;width:100%;margin-bottom:5%;font-family:sofia;-webkit-box-reflect:below -30px linear-gradient(transparent,#0004);outline:none}.container.text-center[_ngcontent-%COMP%]{height:100%}.img-fluid[_ngcontent-%COMP%]{object-fit:cover;border-top-right-radius:2%;border-bottom-right-radius:2%;width:100%;height:89%}.form-control[_ngcontent-%COMP%]{padding-right:2%;padding-top:0}.form-label[_ngcontent-%COMP%]{font-family:Tilt Neon;font-weight:800}.form-text.ok[_ngcontent-%COMP%]{font-size:medium}.heading[_ngcontent-%COMP%]{font-size:medium;font-weight:1000;font-family:Roboto;color:gray;margin:0}.form-text[_ngcontent-%COMP%]   second[_ngcontent-%COMP%]{margin:0}.btn[_ngcontent-%COMP%]{border:1px solid #1C6758;border-radius:5px;padding:1% 3%;background-color:#1c6758;color:#fff;transition:.4s}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#1c6758;box-shadow:0 .1em .2em #1c675866,0 .4em .7em -.1em #1c67584d,inset 0 -.1em #1c67584d;transform:translateY(-.3rem);transition-duration:.25s}.loaderwindow[_ngcontent-%COMP%]{min-height:97vh;max-height:100vh;background-color:#abc270;border-radius:15px}.load[_ngcontent-%COMP%]{margin-left:25%;margin-top:1%}.fileup[_ngcontent-%COMP%]{display:none}.uploader[_ngcontent-%COMP%]{border:1px solid #1C6758;border-radius:5px;padding:1% 3%;background-color:#1c6758;color:#fff;transition:.4s}.uploader[_ngcontent-%COMP%]:hover{background-color:#fff;color:#1c6758;box-shadow:0 .1em .2em #1c675866,0 .4em .7em -.1em #1c67584d,inset 0 -.1em #1c67584d;transform:translateY(-.3rem);transition-duration:.25s}.layout[_ngcontent-%COMP%]{display:flex;gap:10%}.uploaderphoto[_ngcontent-%COMP%]{font-family:Roboto;font-weight:700}.instruction[_ngcontent-%COMP%]{position:absolute;border:2px solid red;width:30%;height:50%;right:10%;top:15%;border-radius:2%;background-color:#dbe4c6;font-family:Tilt Neon;text-align:center}"]});class gE{constructor(e){this.afs=e,this.lock=!1,this.loader=!0,this.count=0,this.em=JSON.parse(localStorage.getItem("userData")||"{}").email}ngOnInit(){this.load()}load(){this.loader=!0,setTimeout(()=>{this.loader=!1},1300)}gettar(e){for(this.target=Math.floor(Math.random()*e.length);e[this.target].id==this.em;)this.target=Math.floor(Math.random()*e.length);if(this.targetuser=e[this.target].id,""!=this.letter&&null!=this.letter){const t=this.letter;this.afs.collection(`users/${this.targetuser}/letters`).add({message:this.letter,sender:this.em,count:5}),alert("sent successfully"),this.afs.doc(`users/${this.targetuser}`).get().subscribe(r=>{const i=r.data();this.receivername=i.USERNAME,this.afs.collection(`users/${this.em}/myletters`).add({message:t,where:this.receivername,sender:this.em})})}this.letter=""}sendletter(){this.userlist=this.afs.collection("users"),this.user=this.userlist.snapshotChanges().pipe((0,nt.U)(e=>e.map(t=>({id:t.payload.doc.id})))),this.user.subscribe(e=>this.gettar(e)),this.count++,2==this.count&&(this.lock=!0)}}function Jee(n,e){1&n&&(o.TgZ(0,"div",2),o._UZ(1,"img",3),o.qZA())}function Qee(n,e){if(1&n&&(o.TgZ(0,"button",14)(1,"div",15),o._UZ(2,"img",16),o.TgZ(3,"div",17)(4,"p",18),o._uU(5),o.qZA(),o.TgZ(6,"div",19),o._uU(7),o.qZA()()()()),2&n){const t=e.$implicit;o.xp6(5),o.hij("@",t.where,""),o.xp6(2),o.Oqu(t.message)}}function Xee(n,e){if(1&n&&(o.TgZ(0,"div",4)(1,"div",5),o._UZ(2,"img",6),o.qZA(),o.TgZ(3,"div",7)(4,"h1",8)(5,"u"),o._uU(6,"Instruction"),o.qZA()(),o.TgZ(7,"p"),o._uU(8,"Just getting started ? Here are some steps you can take to make sure your brand takes full advantage of the platform right away. "),o.qZA(),o._UZ(9,"br"),o.TgZ(10,"p")(11,"b"),o._uU(12,"Make Connections:"),o.qZA(),o._UZ(13,"br"),o._uU(14,"\nTo connect with other users, you'll need to send letters to them. You can send letters to any random user; if they accept your proposal, they will be added to your friend list.\nSend Letters:\nYou can send letters to any random user to connect with them . Your letter will be represented by lotus images on the main page. There will be two choices: accepting the request or releasing. The user will be added to your buddy list if the request is approved; otherwise, the request will be passed on to the following randomly user.\nSend Message: The user will be able to send an instant message to any contact on their friend list. "),o.qZA(),o.TgZ(15,"p"),o._UZ(16,"br"),o.TgZ(17,"b"),o._uU(18,"Send Letters:"),o.qZA(),o._UZ(19,"br"),o._uU(20,"\nYou can send letters to any random user to connect with them . Your letter will be represented by lotus images on the main page. There will be two choices: accepting the request or releasing. The user will be added to your buddy list if the request is approved; otherwise, the request will be passed on to the following randomly user. "),o.qZA(),o.TgZ(21,"p"),o._UZ(22,"br"),o.TgZ(23,"b"),o._uU(24,"Send Message: "),o.qZA(),o._UZ(25,"br"),o._uU(26," The user will be able to send an instant message to any contact on their friend list. "),o.qZA(),o.TgZ(27,"p"),o._UZ(28,"br"),o.TgZ(29,"b",9),o._uU(30,"END-TO-END ENCRYPTION:"),o.qZA(),o._UZ(31,"br"),o.qZA(),o.TgZ(32,"p"),o._UZ(33,"br"),o.TgZ(34,"b"),o._uU(35,"Security by Default"),o.qZA(),o._UZ(36,"br"),o._uU(37," Some of your most personal moments are shared here, which is why we built end to-end encryption . When end-to-end encrypted, your messages are secured so only you and the person you're communicating with can read them, and nobody in between.\n"),o.qZA(),o.TgZ(38,"p"),o._UZ(39,"br"),o.TgZ(40,"b"),o._uU(41,"Be respectful: "),o.qZA(),o._UZ(42,"br"),o._uU(43," When chatting with other users, it is important to be respectful and polite. Avoid using offensive language or making inappropriate comments. Treat others the way you would like to be treated.\n"),o.qZA(),o.TgZ(44,"p"),o._UZ(45,"br"),o.TgZ(46,"b"),o._uU(47,"Free:"),o.qZA(),o._UZ(48,"br"),o._uU(49," It is free forever. No ads. No subscription fees.\n"),o.qZA(),o.TgZ(50,"p"),o._UZ(51,"br"),o.TgZ(52,"b"),o._uU(53,"Feedback"),o.qZA(),o._UZ(54,"br"),o._uU(55," There is always room for improvement. Right now, we are just dealing with text communication.\nIf you notice something is not working correctly, like a broken feature or a technical problem, you can report it to us.\n"),o.qZA(),o._UZ(56,"hr"),o.TgZ(57,"b",9),o._uU(58,' "DEEP CONNECTIONS WITH THE RIGHT PEOPLE ARE PRICELESS."'),o.qZA(),o._UZ(59,"br"),o.TgZ(60,"b"),o._uU(61," That's it! Have fun exploring and connecting with others."),o.qZA(),o.TgZ(62,"b"),o._uU(63," - credit : Anshika"),o.qZA()(),o.TgZ(64,"div",10)(65,"div",11)(66,"p"),o._uU(67,"Your letters"),o.qZA()(),o.TgZ(68,"div",12),o.YNc(69,Qee,8,2,"button",13),o.ALo(70,"async"),o.qZA()()()),2&n){const t=o.oxw();o.xp6(69),o.Q6J("ngForOf",o.lcZ(70,1,t.user))}}gE.\u0275fac=function(e){return new(e||gE)(o.Y36(xu))},gE.\u0275cmp=o.Xpm({type:gE,selectors:[["app-letter"]],decls:2,vars:2,consts:[["class","loaderwindow",4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"loaderwindow"],["src","assets\\loader.svg","alt","",1,"load"],[1,"container-fluid"],[1,"fancy"],["action",""],[1,"mb-3"],["id","exampleFormControlTextarea1","rows","13","name","letter","maxlength","450",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn",3,"disabled","click"]],template:function(e,t){1&e&&(o.YNc(0,Yee,2,0,"div",0),o.YNc(1,Kee,13,2,"div",1)),2&e&&(o.Q6J("ngIf",t.loader),o.xp6(1),o.Q6J("ngIf",!t.loader))},dependencies:[Sn,SS,Nd,uy,vS,sk,fp,dy],styles:[".container-fluid[_ngcontent-%COMP%]{background-image:url(letterbkg.ba3274ec90fd885c.jpg);background-position:center;background-size:cover;min-height:97vh;border-radius:2%;padding:1rem 10rem 10rem;max-height:97vh}.fancy[_ngcontent-%COMP%]{color:#1c6758;width:100%;font-family:sofia;font-weight:400;outline:none;padding-bottom:1%}.form-control[_ngcontent-%COMP%]{background-color:#00000001}.btn[_ngcontent-%COMP%]{border:1px solid #1C6758;border-radius:5px;padding:1% 3%;background-color:#1c6758;color:#fff;transition:.4s}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#1c6758;box-shadow:0 .1em .2em #1c675866,0 .4em .7em -.1em #1c67584d,inset 0 -.1em #1c67584d;transform:translateY(-.3rem);transition-duration:.25s}textarea[_ngcontent-%COMP%]{font-size:20px;font-family:Roboto}.loaderwindow[_ngcontent-%COMP%]{min-height:97vh;max-height:100vh;background-color:#abc270;border-radius:15px}.load[_ngcontent-%COMP%]{margin-left:25%;margin-top:1%}"]});class mE{constructor(e){this.afs=e,this.em=JSON.parse(localStorage.getItem("userData")||"{}").email,this.loader=!0,this.flag=!0}ngOnInit(){this.load(),this.userlist=this.afs.collection(`users/${this.em}/myletters`),this.user=this.userlist.snapshotChanges().pipe((0,nt.U)(e=>e.map(t=>({message:t.payload.doc.data().message,where:t.payload.doc.data().where})))),this.user.subscribe(e=>{this.flag&&(this.loader=!1,this.flag=!1)})}load(){this.loader=!0,setTimeout(()=>{this.loader=!1},3e3)}}function ete(n,e){1&n&&(o.TgZ(0,"div",2),o._UZ(1,"img",3),o.qZA())}function tte(n,e){if(1&n&&(o.TgZ(0,"div",4)(1,"div",5)(2,"h1",6),o._uU(3,"About"),o.qZA()(),o.TgZ(4,"div",7)(5,"div",8),o._UZ(6,"img",9),o.qZA(),o.TgZ(7,"div",10)(8,"div",11)(9,"p",12),o._uU(10),o.qZA(),o.TgZ(11,"p",13),o._uU(12),o.qZA(),o.TgZ(13,"p",14),o._uU(14,"108 "),o.TgZ(15,"span",15),o._uU(16,"friends"),o.qZA()()(),o.TgZ(17,"div",16),o._uU(18," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),o.qZA(),o.TgZ(19,"div",17)(20,"label",18),o._uU(21," Upload "),o._UZ(22,"input",19),o.qZA()()()(),o.TgZ(23,"div",20),o._uU(24,"Post"),o.qZA(),o._UZ(25,"div",21),o.qZA()),2&n){const t=o.oxw();o.xp6(10),o.Oqu(t.username),o.xp6(2),o.Oqu(t.name)}}mE.\u0275fac=function(e){return new(e||mE)(o.Y36(xu))},mE.\u0275cmp=o.Xpm({type:mE,selectors:[["app-my-letters"]],decls:2,vars:2,consts:[["class","loaderwindow",4,"ngIf"],["class","container-fluid ",4,"ngIf"],[1,"loaderwindow"],["src","assets\\loader.svg","alt","",1,"load"],[1,"container-fluid"],[1,"side-left"],["src","assets\\Settings\\wallpaper.jpg","alt","Responsive image",1,"img-fluid"],[1,"instruction"],[1,"head"],[1,"banner"],[1,"side-right","mt-2","mb-2"],[1,"fancy","mt-2","mb-4"],[1,"letters"],["class","btn btn-success",4,"ngFor","ngForOf"],[1,"btn","btn-success"],[1,"user-info"],["src","assets/pfp/pvz.jpeg","alt","",1,"ok"],[1,"content"],["id","where"],["id","message"]],template:function(e,t){1&e&&(o.YNc(0,Jee,2,0,"div",0),o.YNc(1,Xee,71,3,"div",1)),2&e&&(o.Q6J("ngIf",t.loader),o.xp6(1),o.Q6J("ngIf",!t.loader))},dependencies:[cr,Sn,Hs],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#cfdad2;min-height:90vh;border-radius:15px;max-height:97vh;padding-left:0;display:grid;grid-template:1fr/1fr 1fr;gap:1%}.img-fluid[_ngcontent-%COMP%]{object-fit:cover;border-top-left-radius:2%;border-bottom-left-radius:2%;width:100%;height:89%}.side-right[_ngcontent-%COMP%]{background-color:#fbd5a4;max-height:95vh;padding:1% 10%;border-radius:0 15px 15px 0}.letters[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-right:1%;gap:.5rem;overflow-y:auto;max-height:80vh}.fancy[_ngcontent-%COMP%]{text-align:center;font-size:xx-large;font-family:Sofia;font-weight:bolder}p[_ngcontent-%COMP%]{margin:0;padding:0}.ok[_ngcontent-%COMP%]{width:10%}.duration[_ngcontent-%COMP%]{position:absolute;right:5%}.btn[_ngcontent-%COMP%]{width:100%}.user-info[_ngcontent-%COMP%]{display:flex;gap:1rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:25rem}#where[_ngcontent-%COMP%], #message[_ngcontent-%COMP%]{font-family:Tilt Neon;font-weight:700;color:#000;text-align:start;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5rem}[_ngcontent-%COMP%]::-webkit-scrollbar-track{margin-block-start:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:hsl(34,70%,50%);border-radius:6px}.loaderwindow[_ngcontent-%COMP%]{min-height:97vh;max-height:100vh;background-color:#abc270;border-radius:15px}.load[_ngcontent-%COMP%]{margin-left:25%;margin-top:1%}.instruction[_ngcontent-%COMP%]{border:2px solid red;z-index:2;width:35%;height:80%;position:absolute;left:7.5%;top:10%;border-radius:2%;background-color:#dbe4c6;text-align:center;font-family:Tilt Neon;font-weight:500;overflow-y:scroll}.banner[_ngcontent-%COMP%]{color:red}"]});class _E{constructor(e){this.afs=e,this.loader=!1,this.em=JSON.parse(localStorage.getItem("userData")||"{}").email}ngOnInit(){this.load(),this.afs.doc(`users/${this.em}`).get().subscribe(e=>{if(e.exists){const t=e.data();this.name=t.FIRST_NAME,this.username="@"+t.USERNAME}})}load(){this.loader=!0,setTimeout(()=>{this.loader=!1},1e3)}}function nte(n,e){1&n&&o._UZ(0,"div",2)}function rte(n,e){1&n&&(o.TgZ(0,"div",3),o._UZ(1,"img",9),o.qZA())}function ite(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.show())}),o._UZ(1,"img",11),o.qZA()}}function ste(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",12)(1,"p"),o._uU(2),o.qZA(),o.TgZ(3,"button",13),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.closePanel())}),o.qZA(),o.TgZ(4,"div",14)(5,"button",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.onAccept())}),o._uU(6,"Accept"),o.qZA(),o.TgZ(7,"button",15),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.sendletter())}),o._uU(8,"Release"),o.qZA()()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.lettermessage)}}function ote(n,e){if(1&n&&(o.TgZ(0,"div",3)(1,"video",4),o._UZ(2,"source",5),o.qZA(),o.YNc(3,rte,2,0,"div",1),o.TgZ(4,"div",6),o.YNc(5,ite,2,0,"button",7),o.ALo(6,"async"),o.qZA(),o.YNc(7,ste,9,1,"div",8),o.qZA()),2&n){const t=o.oxw();o.xp6(3),o.Q6J("ngIf",t.loader),o.xp6(2),o.Q6J("ngForOf",o.lcZ(6,3,t.user)),o.xp6(2),o.Q6J("ngIf",t.display)}}_E.\u0275fac=function(e){return new(e||_E)(o.Y36(xu))},_E.\u0275cmp=o.Xpm({type:_E,selectors:[["app-about"]],decls:2,vars:2,consts:[["class","loaderwindow",4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"loaderwindow"],["src","assets\\loader.svg","alt","",1,"load"],[1,"container-fluid"],[1,"branding","mt-4","mb-4"],[1,"head"],[1,"container"],[1,"pfp"],["src","assets/pfp/pvz.jpeg","alt","",1,"dp"],[1,"name-info"],[1,"name"],[1,"u-name"],[1,"r-name"],[1,"friend"],[1,"bold"],[1,"bio"],[1,"upload"],["for","inputTag"],["id","inputTag","type","file"],[1,"hr-sect","mt-4"],[1,"post"]],template:function(e,t){1&e&&(o.YNc(0,ete,2,0,"div",0),o.YNc(1,tte,26,2,"div",1)),2&e&&(o.Q6J("ngIf",t.loader),o.xp6(1),o.Q6J("ngIf",!t.loader))},dependencies:[Sn],styles:['.container-fluid[_ngcontent-%COMP%]{background-color:#cfdad2;min-height:97vh;border-radius:15px;padding:1rem 10rem 10rem}h1[_ngcontent-%COMP%]{font-family:Sofia;-webkit-box-reflect:below -30px linear-gradient(transparent,#0004);outline:none;color:#3d8361}.container[_ngcontent-%COMP%]{display:flex;gap:5rem}.name-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding-top:1rem}.name[_ngcontent-%COMP%]{display:grid;grid-template:1fr 1fr/ 1fr 1fr}.name[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;padding:0}.u-name[_ngcontent-%COMP%]{font-family:Tilt Neon;font-size:medium;font-weight:100}.r-name[_ngcontent-%COMP%]{font-family:Tilt Neon;font-size:larger;grid-row:2/3}.bold[_ngcontent-%COMP%]{font-family:Tilt Neon;font-weight:1000}.bio[_ngcontent-%COMP%]{font-size:1vw}.btn-upload[_ngcontent-%COMP%]{border-radius:7%;font-size:large;font-family:Tilt Neon}.hr-sect[_ngcontent-%COMP%]{display:flex;flex-basis:100%;align-items:center;color:#00000059;margin:8px 0}.hr-sect[_ngcontent-%COMP%]:before, .hr-sect[_ngcontent-%COMP%]:after{content:"";flex-grow:1;background:rgba(0,0,0,.35);height:1px;font-size:0px;line-height:0px;margin:0 8px}label[_ngcontent-%COMP%]{border:1px solid #1C6758;border-radius:5px;padding:1% 3%;background-color:#1c6758;color:#fff;transition:.4s}label[_ngcontent-%COMP%]:hover{background-color:#fff;color:#1c6758;box-shadow:0 .1em .2em #1c675866,0 .4em .7em -.1em #1c67584d,inset 0 -.1em #1c67584d;transform:translateY(-.3rem);transition-duration:.25s}input[_ngcontent-%COMP%]{display:none}.loaderwindow[_ngcontent-%COMP%]{min-height:97vh;max-height:100vh;background-color:#abc270;border-radius:15px}.load[_ngcontent-%COMP%]{margin-left:25%;margin-top:1%}']});class yE{constructor(e){this.afs=e,this.display=!1,this.lettermessage="",this.loader=!0,this.em=JSON.parse(localStorage.getItem("userData")||"{}").email}load(){this.loader=!0,setTimeout(()=>{this.loader=!1},5500)}closePanel(){this.display=!1}ngOnInit(){this.load(),this.userlist=this.afs.collection(`users/${this.em}/letters`),this.user=this.userlist.snapshotChanges().pipe((0,nt.U)(e=>e.map(t=>({content:t.payload.doc.id}))))}gettar(e){for(this.target=Math.floor(Math.random()*e.length%e.length);e[this.target].id==this.sender;)this.target=Math.floor(Math.random()*e.length%e.length);this.targetuser=e[this.target].id,this.afs.doc(`users/${this.em}/letters/${this.uid}`).delete(),0!=this.count&&this.afs.collection(`users/${this.targetuser}/letters`).add({message:this.lettermessage,count:this.count-1,sender:this.sender}),this.display=!1}sendletter(){this.userlist1=this.afs.collection("users"),this.user1=this.userlist1.snapshotChanges().pipe((0,nt.U)(e=>e.map(t=>({id:t.payload.doc.id})))),this.user1.subscribe(e=>this.gettar(e))}show(){this.user.subscribe(e=>{this.uid=e[0].content,this.afs.doc(`users/${this.em}/letters/${this.uid}`).get().subscribe(t=>{t.exists&&(this.doc=t.data(),this.lettermessage=this.doc.message,this.count=this.doc.count,this.sender=this.doc.sender)})}),this.display=!0}getSenderFname(e,t){this.afs.doc(`users/${e}`).get().subscribe(r=>{const i=r.data();this.afs.collection(`users/${this.em}/Friends`).doc(this.doc.sender).set({f_name:i.FIRST_NAME,epoch:t})})}getUserFname(e,t){this.afs.doc(`users/${e}`).get().subscribe(r=>{const i=r.data();this.afs.collection(`users/${this.doc.sender}/Friends`).doc(this.em).set({f_name:i.FIRST_NAME,epoch:t})})}onAccept(){const e=(new Date).getTime();this.getSenderFname(this.doc.sender,e),this.getUserFname(this.em,e),this.display=!1,this.afs.doc(`users/${this.em}/letters/${this.uid}`).delete(),this.lettermessage=""}}function ate(n,e){1&n&&o._UZ(0,"app-about")}function lte(n,e){1&n&&o._UZ(0,"app-settings")}function ute(n,e){1&n&&o._UZ(0,"app-my-letters")}function cte(n,e){1&n&&o._UZ(0,"app-letter")}function dte(n,e){1&n&&o._UZ(0,"app-chat")}function hte(n,e){1&n&&o._UZ(0,"app-home")}yE.\u0275fac=function(e){return new(e||yE)(o.Y36(xu))},yE.\u0275cmp=o.Xpm({type:yE,selectors:[["app-home"]],decls:2,vars:2,consts:[["class","loaderwindow",4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"loaderwindow"],[1,"container-fluid"],["autoplay","","playsinline","","loop","","muted","","poster","assets\\Home\\alt.jpg",1,"img-fluid"],["src","assets\\Home\\back.mp4","type","video/mp4"],[1,"butdiv"],["class","letterbutton",3,"click",4,"ngFor","ngForOf"],["class","container-fluidletter",4,"ngIf"],["src","assets\\Home\\loader.gif","alt","",1,"load"],[1,"letterbutton",3,"click"],["src","assets\\Home\\lotushover.png","alt","",1,"btnimg"],[1,"container-fluidletter"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"buttonlay"],[1,"lel",3,"click"]],template:function(e,t){1&e&&(o.YNc(0,nte,1,0,"div",0),o.YNc(1,ote,8,5,"div",1)),2&e&&(o.Q6J("ngIf",t.loader),o.xp6(1),o.Q6J("ngIf",!t.loader))},dependencies:[cr,Sn,Hs],styles:[".container-fluid[_ngcontent-%COMP%]{min-height:97vh;border-radius:15px;padding:1rem 10rem 10rem;background-color:#000}.loaderwindow[_ngcontent-%COMP%]{min-height:97vh;max-height:100vh;background-color:#000;border-radius:15px;background-image:url(loader.758ac41b6e9055d7.gif);background-size:cover;background-repeat:no-repeat;background-position-y:60%}.img-fluid[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0%;top:0%;border-radius:1%}.letterbutton[_ngcontent-%COMP%]{display:inline-block;height:134px;padding:0;margin:0;vertical-align:top;width:15%;height:0%;z-index:1;background-color:transparent;border-color:transparent}.letterbutton[_ngcontent-%COMP%]:hover{transform:translateY(-.2rem);transition:all .2s ease-in}.butdiv[_ngcontent-%COMP%]{position:absolute;width:45%;z-index:1;bottom:11%;left:50%;height:20%}.btnimg[_ngcontent-%COMP%]{width:55%;padding:0}.btnimg[_ngcontent-%COMP%]:hover{opacity:1;size:20px}p[_ngcontent-%COMP%]{padding-top:25%;padding-left:10%;padding-right:3%}.btn-close[_ngcontent-%COMP%]{left:92%;position:absolute;top:19%}.buttonlay[_ngcontent-%COMP%]{position:absolute;display:flex;gap:100%;left:29%;padding:5%;bottom:18%}.lel[_ngcontent-%COMP%]{border:1px solid #1C6758;border-radius:5px;padding:10% 20%;background-color:#1c6758;color:#fff;transition:.4s}.lel[_ngcontent-%COMP%]:hover{background-color:#fff;color:#1c6758;box-shadow:0 .1em .2em #1c675866,0 .4em .7em -.1em #1c67584d,inset 0 -.1em #1c67584d;transform:translateY(-.3rem);transition-duration:.25s}.container-fluidletter[_ngcontent-%COMP%]{position:absolute;z-index:2;background-image:url(letterbkg.ba3274ec90fd885c.jpg);background-position:center;background-size:cover;border-radius:2%;padding-top:1rem;left:18%;top:5%;height:90%;width:65%;background-size:contain;background-repeat:no-repeat;overflow-wrap:break-word}"]});class vE{constructor(e,t,r){this.loginService=e,this.afs=t,this.af=r,this.usertype="Home",this.display=!1,this.lettermessage="",this.em=JSON.parse(localStorage.getItem("userData")||"{}").email}gettar(e){let t;this.userlist=this.afs.collection(`users/${this.em}/letters`),this.user=this.userlist.snapshotChanges().pipe((0,nt.U)(r=>r.map(i=>({content:i.payload.doc.id})))),this.user.pipe(jn(1)).subscribe(r=>{t=r[0].content,this.afs.doc(`users/${this.em}/letters/${t}`).get().subscribe(i=>{if(i.exists){for(this.doc=i.data(),this.lettermessage=this.doc.message,this.sender=this.doc.sender,this.count=this.doc.count,this.target=Math.floor(Math.random()*e.length%e.length);e[this.target].id==this.sender;)this.target=Math.floor(Math.random()*e.length%e.length);this.targetuser=e[this.target].id,this.afs.doc(`users/${this.em}/letters/${t}`).delete(),0!=this.count&&this.afs.collection(`users/${this.targetuser}/letters`).add({message:this.lettermessage,count:this.count-1,sender:this.sender}),this.loginService.logOut()}})})}onLogOut(){this.userlist1=this.afs.collection("users"),this.user1=this.userlist1.snapshotChanges().pipe((0,nt.U)(e=>e.map(t=>({id:t.payload.doc.id})))),this.user1.pipe(jn(1)).subscribe(e=>this.gettar(e))}ngOnInit(){this.afs.doc(`users/${this.em}`).get().subscribe(e=>{if(e.exists){const t=e.data();this.name=t.FIRST_NAME}}),this.fetchimg()}fetchimg(){this.af.ref(`users/${this.em}/[object File]`).getDownloadURL().subscribe(e=>{this.img=e})}}vE.\u0275fac=function(e){return new(e||vE)(o.Y36(Cl),o.Y36(xu),o.Y36(XS))},vE.\u0275cmp=o.Xpm({type:vE,selectors:[["app-main"]],decls:72,vars:11,consts:[[1,"wrapper"],[1,"sidebar"],[1,"back"],["title","Upload your pfp",1,"propic"],["src","assets/pfp/pvz.jpeg","alt","",1,"pfp"],["src","assets/background.png","alt","",1,"imagebackground"],[1,"namena"],[1,"profilename"],["type","button",1,"btn","btn-outline-success","ok",3,"click"],[1,"nav-buttons"],[1,"fa-solid","fa-house"],[1,"fa-solid","fa-user-group"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-list"],[1,"fa-solid","fa-gears"],[1,"fa-solid","fa-address-card"],[1,"fancy"],["href","https://docs.google.com/forms/d/e/1FAIpQLSdXxuhLvu93ByuD0P7tnlnaVbBjBzjAxQp93XCPAQgE8T90RA/viewform?vc=0&c=0&w=1&flr=0","target","_blank","rel","noopener noreferrer"],["type","button",1,"btn","btn-outline-success","ok"],[1,"fa-solid","fa-comment"],[1,"fa-solid","fa-person-walking-arrow-right"],["controls","","loop","",1,"music"],["src","assets\\Home\\birdmusic.mp3","type","audio/mpeg"],[1,"parent-component","app",3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"div",3)(4,"img",4)(5,"img",5),o.TgZ(6,"div",6)(7,"h1",7),o._uU(8),o.qZA()()(),o.TgZ(9,"ul")(10,"li")(11,"button",8),o.NdJ("click",function(){return t.usertype="Home"}),o.TgZ(12,"p",9),o._UZ(13,"i",10),o._uU(14," Home"),o.qZA()()(),o.TgZ(15,"li")(16,"button",8),o.NdJ("click",function(){return t.usertype="chat"}),o.TgZ(17,"p",9),o._UZ(18,"i",11),o._uU(19," Friends "),o.TgZ(20,"sup"),o._uU(21,"BETA"),o.qZA()()()(),o.TgZ(22,"li")(23,"button",8),o.NdJ("click",function(){return t.usertype="letter"}),o.TgZ(24,"p",9),o._UZ(25,"i",12),o._uU(26," Write a letter"),o.qZA()()(),o.TgZ(27,"li")(28,"button",8),o.NdJ("click",function(){return t.usertype="my-letters"}),o.TgZ(29,"p",9),o._UZ(30,"i",13),o._uU(31," Your letter "),o.TgZ(32,"sup"),o._uU(33,"BETA"),o.qZA()()()(),o.TgZ(34,"li")(35,"button",8),o.NdJ("click",function(){return t.usertype="settings"}),o.TgZ(36,"p",9),o._UZ(37,"i",14),o._uU(38," Settings"),o.qZA()()(),o.TgZ(39,"li")(40,"button",8),o.NdJ("click",function(){return t.usertype="about"}),o.TgZ(41,"p",9),o._UZ(42,"i",15),o._uU(43," About "),o.TgZ(44,"sup"),o._uU(45,"BETA"),o.qZA()()()(),o.TgZ(46,"li")(47,"h1",16),o._uU(48,"Flora "),o.qZA()(),o.TgZ(49,"li")(50,"a",17)(51,"button",18)(52,"p",9),o._UZ(53,"i",19),o._uU(54," Feedback"),o.qZA()()()(),o.TgZ(55,"li")(56,"button",8),o.NdJ("click",function(){return t.onLogOut()}),o.TgZ(57,"p",9),o._UZ(58,"i",20),o._uU(59," Signout"),o.qZA()()(),o.TgZ(60,"li")(61,"audio",21),o._uU(62," //autoplay "),o._UZ(63,"source",22),o._uU(64," Your browser does not support the audio element. "),o.qZA()()()(),o.TgZ(65,"div",23),o.YNc(66,ate,1,0,"app-about",24),o.YNc(67,lte,1,0,"app-settings",24),o.YNc(68,ute,1,0,"app-my-letters",24),o.YNc(69,cte,1,0,"app-letter",24),o.YNc(70,dte,1,0,"app-chat",24),o.YNc(71,hte,1,0,"app-home",24),o.qZA()()),2&e&&(o.xp6(3),o.Jzz("z-index: 5; background-image: url(",t.img,"); background-size: cover;"),o.xp6(5),o.Oqu(t.name),o.xp6(57),o.Q6J("ngSwitch",t.usertype),o.xp6(1),o.Q6J("ngSwitchCase","about"),o.xp6(1),o.Q6J("ngSwitchCase","settings"),o.xp6(1),o.Q6J("ngSwitchCase","my-letters"),o.xp6(1),o.Q6J("ngSwitchCase","letter"),o.xp6(1),o.Q6J("ngSwitchCase","chat"),o.xp6(1),o.Q6J("ngSwitchCase","Home"))},dependencies:[$o,Ho,fE,pE,gE,mE,_E,yE],styles:["*[_ngcontent-%COMP%]{margin:0%;padding:0;list-style:none;text-decoration:none;box-sizing:border-box}.sidebar[_ngcontent-%COMP%]{position:fixed;left:0;width:17%;background:#ABC270;height:100%;border-top-right-radius:2%;border-top-left-radius:2%}.btn-outline-success[_ngcontent-%COMP%]{text-transform:uppercase;width:100%;font-size:150%;font-weight:400;border-top:1px solid rgba(0,0,0,.05);border-bottom:3px solid rgba(225,225,225,.05);border-right:0px;font-family:Tilt Neon;font-size:130%;color:#1c6758;background-color:#abc270;border-radius:0;line-height:200%;transition:.4s}p.nav-buttons[_ngcontent-%COMP%]{transition:.4s}p.nav-buttons[_ngcontent-%COMP%]:hover{transform:translate(10%);transition-duration:.25s}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#d6cda4;transform:translateY(-.1rem);transition-duration:.25s}.btn-outline-success[_ngcontent-%COMP%]:active{background-color:#1c6758}.img-fluid[_ngcontent-%COMP%]{width:100%}.fa-solid[_ngcontent-%COMP%]{font-size:70%}.brand[_ngcontent-%COMP%]{font-family:sofia}.back[_ngcontent-%COMP%]{height:35%}.imagebackground[_ngcontent-%COMP%]{height:30%;border-top-right-radius:2%;background-image:linear-gradient(rgba(183,236,184,1) 21%,rgba(183,236,184,1) 47%,rgba(207,218,210,1) 100%)}.pfp[_ngcontent-%COMP%]{position:absolute;border-radius:3%;left:20%;top:5%;width:60%;border-width:0%;z-index:1}.imagebackground[_ngcontent-%COMP%]{width:100%;height:100%;border-top-right-radius:2%;filter:blur(5px);background-image:linear-gradient(#b7ecb8,#cfdad2)}.fancy[_ngcontent-%COMP%]{color:#3d8361;position:absolute;bottom:4%;text-align:center;width:100%;margin-top:5%;font-family:sofia;-webkit-box-reflect:below -30px linear-gradient(transparent,#0004);outline:none}.app[_ngcontent-%COMP%]{position:absolute;left:18%;min-height:100vh;width:81%;padding-top:.7rem}audio[_ngcontent-%COMP%]{width:90%;padding:3%;margin-left:5%}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:#abc270}audio[_ngcontent-%COMP%]::-webkit-media-controls-play-button{width:20%}audio[_ngcontent-%COMP%]:hover, audio[_ngcontent-%COMP%]:focus, audio[_ngcontent-%COMP%]:active{transform:scale(1.05)}.profilename[_ngcontent-%COMP%]{max-width:10%;z-index:4;position:absolute;font-size:200%;font-family:Tilt Neon;font-weight:800;color:#1c6758;text-align:center;padding-left:20%}.namena[_ngcontent-%COMP%]{position:absolute;z-index:inherit;top:28%;width:80%;left:10%;height:5%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.propic[_ngcontent-%COMP%]{position:absolute;z-index:4;height:18%;width:50%;left:25%;top:6.5%;border-radius:3%}"]});const WG={firebase:{projectId:"flora-fbf5b",appId:"1:589891605231:web:46913a99fa7f0fb0edc11a",databaseURL:"https://flora-fbf5b-default-rtdb.firebaseio.com",storageBucket:"flora-fbf5b.appspot.com",locationId:"us-central",apiKey:"AIzaSyCXDVFX6EdK1-4DpbEGrqocOgpPAEqN7DQ",authDomain:"flora-fbf5b.firebaseapp.com",messagingSenderId:"589891605231",measurementId:"G-7LX24P85RD"}};function fte(n){return new Hn.y(function(e){return{unsubscribe:(0,Kh.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class eA{constructor(e){return e}}class bE{constructor(){return Ro("auth")}}const zk=new o.OlP("angularfire2.auth-instances");function mte(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new eA(r)}}const _te={provide:bE,deps:[[new o.FiY,zk]]},yte={provide:eA,useFactory:function gte(n,e){const t=is("auth",n,e);return t&&new eA(t)},deps:[[new o.FiY,zk],Hi]};let vte=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[yte,_te]}),n})();const wte=ss(fte,!0),Ete=ss(Kh.n,!0),ZG="@firebase/database";let Wk="";class Tte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,$.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,$.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Dte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,$.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const KG=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tte(e)}}catch{}return new Dte},Tp=KG("localStorage"),qk=KG("sessionStorage"),Dy=new ii.Yd("@firebase/database"),JG=function(){let n=1;return function(){return n++}}(),QG=function(n){const e=(0,$.dS)(n),t=new $.gQ;t.update(e);const r=t.digest();return $.US.encodeByteArray(r)},wE=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=wE.apply(null,r):e+="object"==typeof r?(0,$.Wl)(r):r,e+=" "}return e};let Dp=null,XG=!0;const Ai=function(...n){if(!0===XG&&(XG=!1,null===Dp&&!0===qk.get("logging_enabled")&&function(n,e){(0,$.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Dy.logLevel=ii.in.VERBOSE,Dp=Dy.log.bind(Dy),e&&qk.set("logging_enabled",!0)):"function"==typeof n?Dp=n:(Dp=null,qk.remove("logging_enabled"))}(!0)),Dp){const e=wE.apply(null,n);Dp(e)}},EE=function(n){return function(...e){Ai(n,...e)}},Zk=function(...n){const e="FIREBASE INTERNAL ERROR: "+wE(...n);Dy.error(e)},Nl=function(...n){const e=`FIREBASE FATAL ERROR: ${wE(...n)}`;throw Dy.error(e),new Error(e)},as=function(...n){const e="FIREBASE WARNING: "+wE(...n);Dy.warn(e)},tA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Fd="[MIN_NAME]",Lu="[MAX_NAME]",Ip=function(n,e){if(n===e)return 0;if(n===Fd||e===Lu)return-1;if(e===Fd||n===Lu)return 1;{const t=rz(n),r=rz(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Ate=function(n,e){return n===e?0:n<e?-1:1},CE=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,$.Wl)(e))},Yk=function(n){if("object"!=typeof n||null===n)return(0,$.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,$.Wl)(e[r]),t+=":",t+=Yk(n[e[r]]);return t+="}",t},tz=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Ni(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const nz=function(n){(0,$.hu)(!tA(n),"Invalid JSON number");const r=1023;let i,s,u,h,p;0===n?(s=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(u%2?1:0),u=Math.floor(u/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(i?1:0),_.reverse();const b=_.join("");let D="";for(p=0;p<64;p+=8){let S=parseInt(b.substr(p,8),2).toString(16);1===S.length&&(S="0"+S),D+=S}return D.toLowerCase()},Ote=new RegExp("^-?(0*)\\d{1,10}$"),rz=function(n){if(Ote.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Iy=function(n){try{n()}catch(e){setTimeout(()=>{throw as("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},TE=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Fte{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){as(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Lte{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ai("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',as(e)}}let DE=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const lz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dz="websocket",hz="long_polling";class Jk{constructor(e,t,r,i,s=!1,u="",h=!1,p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tp.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tp.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function fz(n,e,t){let r;if((0,$.hu)("string"==typeof e,"typeof type must == string"),(0,$.hu)("object"==typeof t,"typeof params must == object"),e===dz)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==hz)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Ute(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Ni(t,(s,u)=>{i.push(s+"="+u)}),r+i.join("&")}class Bte{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,$.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,$.p$)(this.counters_)}}const Qk={},Xk={};function eF(n){const e=n.toString();return Qk[e]||(Qk[e]=new Bte),Qk[e]}class $te{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Iy(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ld{constructor(e,t,r,i,s,u,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=EE(e),this.stats_=eF(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),fz(t,hz,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $te(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,$.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tF((...s)=>{const[u,h,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=p;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&lz.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ld.forceAllow_=!0}static forceDisallow(){Ld.forceDisallow_=!0}static isAvailable(){return!((0,$.Yr)()||!Ld.forceAllow_&&(Ld.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,$.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,$.h$)(t),i=tz(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,$.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,$.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class tF{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,$.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=JG(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=tF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Ai("frame writing exception"),h.stack&&Ai(h.stack),Ai(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ai("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,$.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ai("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let rA=null;typeof MozWebSocket<"u"?rA=MozWebSocket:typeof WebSocket<"u"&&(rA=WebSocket);let Sy=(()=>{class n{constructor(t,r,i,s,u,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=EE(this.connId),this.stats_=eF(r),this.connURL=n.connectionURL_(r,h,p,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,u){const h={v:"5"};return!(0,$.Yr)()&&typeof location<"u"&&location.hostname&&lz.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),u&&(h.p=u),fz(t,dz,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tp.set("previous_websocket_failure",!0);try{let i;if((0,$.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Wk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new rA(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==rA&&!n.forceDisallow_}static previouslyFailed(){return Tp.isInMemoryStorage||!0===Tp.get("previous_websocket_failure")}markConnectionHealthy(){Tp.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,$.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,$.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,$.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=tz(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),bz=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ld,Sy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Sy&&Sy.isAvailable();let i=r&&!Sy.previouslyFailed();if(t.webSocketOnly&&(r||as("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Sy];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Sz{constructor(e,t,r,i,s,u,h,p,_,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=EE("c:"+this.id+":"),this.transportManager_=new bz(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=TE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=CE("t",e),r=CE("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=CE("t",e),r=CE("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=CE("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Zk("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zk("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&as("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),TE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):TE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Az{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Nz{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,$.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,$.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class iA extends Nz{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,$.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new iA}getInitialEvent(e){return(0,$.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Nn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Cn(){return new Nn("")}function tn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ud(n){return n.pieces_.length-n.pieceNum_}function Bn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Nn(n.pieces_,e)}function rF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function IE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Oz(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Nn(e,0)}function lr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Nn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Nn(t,0)}function nn(n){return n.pieceNum_>=n.pieces_.length}function Is(n,e){const t=tn(n),r=tn(e);if(null===t)return e;if(t===r)return Is(Bn(n),Bn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function iF(n,e){if(Ud(n)!==Ud(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Lo(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ud(n)>Ud(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class cne{constructor(e,t){this.errorPrefix_=t,this.parts_=IE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,$.ug)(this.parts_[r]);xz(this)}}function xz(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Sp(n))}function Sp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class sF extends Nz{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new sF}getInitialEvent(e){return(0,$.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const SE=1e3;let oA,Ap=(()=>{class n extends Az{constructor(t,r,i,s,u,h,p,_){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=EE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=SE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,$.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sF.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&iA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,u={r:s,a:t,b:r};this.log_((0,$.Wl)(u)),(0,$.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new $.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,$.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,$.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(i,s),t.onComplete&&t.onComplete(b,_))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,$.r3)(t,"w")){const i=(0,$.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();as(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,$.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,$.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const u=s.s,h=s.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,$.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const u={p:t};s&&(u.q=i,u.t=s),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,u){this.initConnection_();const h={p:r,d:i};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,$.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Zk("Unrecognized action received from server: "+(0,$.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,$.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=SE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=SE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=SE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Z.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};t.realtime_={close:b,sendRequest:function(N){(0,$.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(N)}};const S=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[N,x]=yield Promise.all([t.authTokenProvider_.getToken(S),t.appCheckTokenProvider_.getToken(S)]);p?Ai("getToken() completed but was canceled"):(Ai("getToken() completed. Creating connection."),t.authToken_=N&&N.accessToken,t.appCheckToken_=x&&x.token,_=new Sz(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,j=>{as(j+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(N){t.log_("Failed to get token: "+N),p||(t.repoInfo_.nodeAdmin&&as(N),b())}}})()}interrupt(t){Ai("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ai("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,$.xb)(this.interruptReasons_)&&(this.reconnectDelay_=SE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>Yk(u)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Nn(t).toString();let s;if(this.listens.has(i)){const u=this.listens.get(i);s=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Ai("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ai("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,$.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Wk.replace(/\./g,"-")]=1,(0,$.uI)()?t["framework.cordova"]=1:(0,$.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=iA.getInstance().currentlyOnline();return(0,$.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class sn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new sn(e,t)}}class sA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new sn(Fd,e),i=new sn(Fd,t);return 0!==this.compare(r,i)}minPost(){return sn.MIN}}class Fz extends sA{static get __EMPTY_NODE(){return oA}static set __EMPTY_NODE(e){oA=e}compare(e,t){return Ip(e.name,t.name)}isDefinedOn(e){throw(0,$.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return sn.MIN}maxPost(){return new sn(Lu,oA)}makePost(e,t){return(0,$.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new sn(e,oA)}toString(){return".key"}}const Rl=new Fz;class aA{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let aF,ba=(()=>{class n{constructor(t,r,i,s,u){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??Vs.EMPTY_NODE,this.right=u??Vs.EMPTY_NODE}copy(t,r,i,s,u){return new n(t??this.key,r??this.value,i??this.color,s??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const u=i(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===u?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Vs.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Vs{constructor(e,t=Vs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Vs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ba.BLACK,null,null))}remove(e){return new Vs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ba.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new aA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new aA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new aA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new aA(this.root_,null,this.comparator_,!0,e)}}function yne(n,e){return Ip(n.name,e.name)}function oF(n,e){return Ip(n,e)}Vs.EMPTY_NODE=new class _ne{copy(e,t,r,i,s){return this}insert(e,t,r){return new ba(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Lz=function(n){return"number"==typeof n?"number:"+nz(n):"string:"+n},Uz=function(n){if(n.isLeafNode()){const e=n.val();(0,$.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,$.r3)(e,".sv"),"Priority must be a string or number.")}else(0,$.hu)(n===aF||n.isEmpty(),"priority of unexpected type.");(0,$.hu)(n===aF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Bz,Vz,$z,Ay=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,$.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Uz(this.priorityNode_)}static set __childrenNodeConstructor(t){Bz=t}static get __childrenNodeConstructor(){return Bz}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return nn(t)?this:".priority"===tn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=tn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,$.hu)(".priority"!==i||1===Ud(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Lz(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?nz(this.value_):this.value_,this.lazyHash_=QG(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,$.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,$.hu)(s>=0,"Unknown leaf type: "+r),(0,$.hu)(u>=0,"Unknown leaf type: "+i),s===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Wn=new class Ene extends sA{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Ip(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(Lu,new Ay("[PRIORITY-POST]",$z))}makePost(e,t){const r=Vz(e);return new sn(t,new Ay("[PRIORITY-POST]",r))}toString(){return".priority"}},Cne=Math.log(2);class Tne{constructor(e){this.count=parseInt(Math.log(e+1)/Cne,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lA=function(n,e,t,r){n.sort(e);const i=function(p,_){const b=_-p;let D,S;if(0===b)return null;if(1===b)return D=n[p],S=t?t(D):D,new ba(S,D.node,ba.BLACK,null,null);{const N=parseInt(b/2,10)+p,x=i(p,N),j=i(N+1,_);return D=n[N],S=t?t(D):D,new ba(S,D.node,ba.BLACK,x,j)}},h=function(p){let _=null,b=null,D=n.length;const S=function(x,j){const Y=D-x,me=D;D-=x;const De=i(Y+1,me),je=n[Y],ke=t?t(je):je;N(new ba(ke,je.node,j,null,De))},N=function(x){_?(_.left=x,_=x):(b=x,_=x)};for(let x=0;x<p.count;++x){const j=p.nextBitIsOne(),Y=Math.pow(2,p.count-(x+1));j?S(Y,ba.BLACK):(S(Y,ba.BLACK),S(Y,ba.RED))}return b}(new Tne(n.length));return new Vs(r||e,h)};let lF;const Ny={};class Uu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,$.hu)(Ny&&Wn,"ChildrenNode.ts has not been loaded"),lF=lF||new Uu({".priority":Ny},{".priority":Wn}),lF}get(e){const t=(0,$.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vs?t:null}hasIndex(e){return(0,$.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,$.hu)(e!==Rl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(sn.Wrap);let h,u=s.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=s.getNext();h=i?lA(r,e.getCompare()):Ny;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const b=Object.assign({},this.indexes_);return b[p]=h,new Uu(b,_)}addToIndexes(e,t){const r=(0,$.UI)(this.indexes_,(i,s)=>{const u=(0,$.DV)(this.indexSet_,s);if((0,$.hu)(u,"Missing index implementation for "+s),i===Ny){if(u.isDefinedOn(e.node)){const h=[],p=t.getIterator(sn.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&h.push(_),_=p.getNext();return h.push(e),lA(h,u.getCompare())}return Ny}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new sn(e.name,h))),p.insert(e,e.node)}});return new Uu(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,$.UI)(this.indexes_,i=>{if(i===Ny)return i;{const s=t.get(e.name);return s?i.remove(new sn(e.name,s)):i}});return new Uu(r,this.indexSet_)}}let AE,Yt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Uz(this.priorityNode_),this.children_.isEmpty()&&(0,$.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return AE||(AE=new n(new Vs(oF),null,Uu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||AE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?AE:r}}getChild(t){const r=tn(t);return null===r?this:this.getImmediateChild(r).getChild(Bn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,$.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new sn(t,r);let s,u;r.isEmpty()?(s=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?AE:this.priorityNode_;return new n(s,h,u)}}updateChild(t,r){const i=tn(t);if(null===i)return r;{(0,$.hu)(".priority"!==tn(t)||1===Ud(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Bn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,u=!0;if(this.forEachChild(Wn,(h,p)=>{r[h]=p.val(t),i++,u&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):u=!1}),!t&&u&&s<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Lz(this.getPriority().val())+":"),this.forEachChild(Wn,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":QG(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const u=s.getPredecessorKey(new sn(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new sn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new sn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,sn.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,sn.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)>0;)s.getNext(),u=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===NE?-1:0}withIndex(t){if(t===Rl||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Rl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Wn),s=r.getIterator(Wn);let u=i.getNext(),h=s.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=i.getNext(),h=s.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===Rl?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const NE=new class Dne extends Yt{constructor(){super(new Vs(oF),Yt.EMPTY_NODE,Uu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yt.EMPTY_NODE}isEmpty(){return!1}};function vr(n,e=null){if(null===n)return Yt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,$.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ay(n,vr(e));if(n instanceof Array){let t=Yt.EMPTY_NODE;return Ni(n,(r,i)=>{if((0,$.r3)(n,r)&&"."!==r.substring(0,1)){const s=vr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(vr(e))}{const t=[];let r=!1;if(Ni(n,(u,h)=>{if("."!==u.substring(0,1)){const p=vr(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new sn(u,p)))}}),0===t.length)return Yt.EMPTY_NODE;const s=lA(t,yne,u=>u.name,oF);if(r){const u=lA(t,Wn.getCompare());return new Yt(s,vr(e),new Uu({".priority":u},{".priority":Wn}))}return new Yt(s,vr(e),Uu.Default)}}Object.defineProperties(sn,{MIN:{value:new sn(Fd,Yt.EMPTY_NODE)},MAX:{value:new sn(Lu,NE)}}),Fz.__EMPTY_NODE=Yt.EMPTY_NODE,Ay.__childrenNodeConstructor=Yt,function vne(n){aF=n}(NE),function wne(n){$z=n}(NE),function bne(n){Vz=n}(vr);class uF extends sA{constructor(e){super(),this.indexPath_=e,(0,$.hu)(!nn(e)&&".priority"!==tn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Ip(e.name,t.name):s}makePost(e,t){const r=vr(e),i=Yt.EMPTY_NODE.updateChild(this.indexPath_,r);return new sn(t,i)}maxPost(){const e=Yt.EMPTY_NODE.updateChild(this.indexPath_,NE);return new sn(Lu,e)}toString(){return IE(this.indexPath_,0).join("/")}}const cF=new class Sne extends sA{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Ip(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(e,t){const r=vr(e);return new sn(t,r)}toString(){return".value"}};function ME(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class hF{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,$.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wn}copy(){const e=new hF;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jz(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Wn?t="$priority":n.index_===cF?t="$value":n.index_===Rl?t="$key":((0,$.hu)(n.index_ instanceof uF,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,$.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,$.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,$.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,$.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,$.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Gz(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Wn&&(e.i=n.index_.toString()),e}class cA extends Az{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=EE("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,$.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const u=cA.getListenId_(e,r),h={};this.listens_[u]=h;const p=jz(e._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(s,D,!1,r),(0,$.DV)(this.listens_,u)===h){let S;S=_?401===_?"permission_denied":"rest_error:"+_:"ok",i(S,null)}})}unlisten(e,t){const r=cA.getListenId_(e,t);delete this.listens_[r]}get(e){const t=jz(e._queryParams),r=e._path.toString(),i=new $.BH;return this.restRequest_(r+".json",t,(s,u)=>{let h=u;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,$.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,$.cI)(h.responseText)}catch{as("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&as("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class kne{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function dA(){return{value:null,children:new Map}}function My(n,e,t){if(nn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=tn(e);n.children.has(r)||n.children.set(r,dA()),My(n.children.get(r),e=Bn(e),t)}}function mF(n,e,t){null!==n.value?t(e,n.value):function Fne(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{mF(i,new Nn(e.toString()+"/"+r),t)})}class Lne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ni(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Vne{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lne(e);const r=1e4+2e4*Math.random();TE(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ni(e,(i,s)=>{s>0&&(0,$.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),TE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Uo=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Uo||(Uo={})),Uo))();function vF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class hA{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Uo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(nn(this.path)){if(null!=this.affectedTree.value)return(0,$.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Nn(e));return new hA(Cn(),t,this.revert)}}return(0,$.hu)(tn(this.path)===e,"operationForChild called for unrelated child."),new hA(Bn(this.path),this.affectedTree,this.revert)}}class Np{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Uo.OVERWRITE}operationForChild(e){return nn(this.path)?new Np(this.source,Cn(),this.snap.getImmediateChild(e)):new Np(this.source,Bn(this.path),this.snap)}}class Oy{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Uo.MERGE}operationForChild(e){if(nn(this.path)){const t=this.children.subtree(new Nn(e));return t.isEmpty()?null:t.value?new Np(this.source,Cn(),t.value):new Oy(this.source,Cn(),t)}return(0,$.hu)(tn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Oy(this.source,Bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bd{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=tn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function PE(n,e,t,r,i,s){const u=r.filter(h=>h.type===t);u.sort((h,p)=>function Gne(n,e,t){if(null==e.childName||null==t.childName)throw(0,$.g5)("Should only compare child_ events.");const r=new sn(e.childName,e.snapshotNode),i=new sn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),u.forEach(h=>{const p=function jne(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);i.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(p,n.query_))})})}function fA(n,e){return{eventCache:n,serverCache:e}}function kE(n,e,t,r){return fA(new Bd(e,t,r),n.serverCache)}function Wz(n,e,t,r){return fA(n.eventCache,new Bd(e,t,r))}function pA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Rp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let bF;class qn{constructor(e,t=(()=>(bF||(bF=new Vs(Ate)),bF))()){this.value=e,this.children=t}static fromObject(e){let t=new qn(null);return Ni(e,(r,i)=>{t=t.set(new Nn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Cn(),value:this.value};if(nn(e))return null;{const r=tn(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Bn(e),t);return null!=s?{path:lr(new Nn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(nn(e))return this;{const t=tn(e),r=this.children.get(t);return null!==r?r.subtree(Bn(e)):new qn(null)}}set(e,t){if(nn(e))return new qn(t,this.children);{const r=tn(e),s=(this.children.get(r)||new qn(null)).set(Bn(e),t),u=this.children.insert(r,s);return new qn(this.value,u)}}remove(e){if(nn(e))return this.children.isEmpty()?new qn(null):new qn(null,this.children);{const t=tn(e),r=this.children.get(t);if(r){const i=r.remove(Bn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new qn(null):new qn(this.value,s)}return this}}get(e){if(nn(e))return this.value;{const t=tn(e),r=this.children.get(t);return r?r.get(Bn(e)):null}}setTree(e,t){if(nn(e))return t;{const r=tn(e),s=(this.children.get(r)||new qn(null)).setTree(Bn(e),t);let u;return u=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new qn(this.value,u)}}fold(e){return this.fold_(Cn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(lr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Cn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(nn(e))return null;{const s=tn(e),u=this.children.get(s);return u?u.findOnPath_(Bn(e),lr(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Cn(),t)}foreachOnPath_(e,t,r){if(nn(e))return this;{this.value&&r(t,this.value);const i=tn(e),s=this.children.get(i);return s?s.foreachOnPath_(Bn(e),lr(t,i),r):new qn(null)}}foreach(e){this.foreach_(Cn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(lr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class wa{constructor(e){this.writeTree_=e}static empty(){return new wa(new qn(null))}}function FE(n,e,t){if(nn(e))return new wa(new qn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const u=Is(i,e);return s=s.updateChild(u,t),new wa(n.writeTree_.set(i,s))}{const i=new qn(t),s=n.writeTree_.setTree(e,i);return new wa(s)}}}function wF(n,e,t){let r=n;return Ni(t,(i,s)=>{r=FE(r,lr(e,i),s)}),r}function qz(n,e){if(nn(e))return wa.empty();{const t=n.writeTree_.setTree(e,new qn(null));return new wa(t)}}function EF(n,e){return null!=Mp(n,e)}function Mp(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Is(t.path,e)):null}function Zz(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Wn,(r,i)=>{e.push(new sn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new sn(r,i.value))}),e}function Vd(n,e){if(nn(e))return n;{const t=Mp(n,e);return new wa(null!=t?new qn(t):n.writeTree_.subtree(e))}}function CF(n){return n.writeTree_.isEmpty()}function xy(n,e){return Yz(Cn(),n.writeTree_,e)}function Yz(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,$.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=Yz(lr(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(lr(n,".priority"),r)),t}}function gA(n,e){return e6(e,n)}function Kne(n,e){if(n.snap)return Lo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Lo(lr(n.path,t),e))return!0;return!1}function Qne(n){return n.visible}function Kz(n,e,t){let r=wa.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const u=s.path;let h;if(s.snap)Lo(t,u)?(h=Is(t,u),r=FE(r,h,s.snap)):Lo(u,t)&&(h=Is(u,t),r=FE(r,Cn(),s.snap.getChild(h)));else{if(!s.children)throw(0,$.g5)("WriteRecord should have .snap or .children");if(Lo(t,u))h=Is(t,u),r=wF(r,h,s.children);else if(Lo(u,t))if(h=Is(u,t),nn(h))r=wF(r,Cn(),s.children);else{const p=(0,$.DV)(s.children,tn(h));if(p){const _=p.getChild(Bn(h));r=FE(r,Cn(),_)}}}}}return r}function Jz(n,e,t,r,i){if(r||i){const s=Vd(n.visibleWrites,e);return!i&&CF(s)?t:i||null!=t||EF(s,Cn())?xy(Kz(n.allWrites,function(_){return(_.visible||i)&&(!r||!~r.indexOf(_.writeId))&&(Lo(_.path,e)||Lo(e,_.path))},e),t||Yt.EMPTY_NODE):null}{const s=Mp(n.visibleWrites,e);if(null!=s)return s;{const u=Vd(n.visibleWrites,e);return CF(u)?t:null!=t||EF(u,Cn())?xy(u,t||Yt.EMPTY_NODE):null}}}function mA(n,e,t,r){return Jz(n.writeTree,n.treePath,e,t,r)}function TF(n,e){return function Xne(n,e,t){let r=Yt.EMPTY_NODE;const i=Mp(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Wn,(s,u)=>{r=r.updateImmediateChild(s,u)}),r;if(t){const s=Vd(n.visibleWrites,e);return t.forEachChild(Wn,(u,h)=>{const p=xy(Vd(s,new Nn(u)),h);r=r.updateImmediateChild(u,p)}),Zz(s).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return Zz(Vd(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function Qz(n,e,t,r){return function ere(n,e,t,r,i){(0,$.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=lr(e,t);if(EF(n.visibleWrites,s))return null;{const u=Vd(n.visibleWrites,s);return CF(u)?i.getChild(t):xy(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function _A(n,e){return function nre(n,e){return Mp(n.visibleWrites,e)}(n.writeTree,lr(n.treePath,e))}function DF(n,e,t){return function tre(n,e,t,r){const i=lr(e,t),s=Mp(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?xy(Vd(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Xz(n,e){return e6(lr(n.treePath,e),n.writeTree)}function e6(n,e){return{treePath:n,writeTree:e}}class ore{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,$.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,$.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,ME(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function RE(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function Ry(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,$.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,ME(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const t6=new class are{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class IF{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Bd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return DF(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rp(this.viewCache_),s=function sre(n,e,t,r,i,s){return function rre(n,e,t,r,i,s,u){let h;const p=Vd(n.visibleWrites,e),_=Mp(p,Cn());if(null!=_)h=_;else{if(null==t)return[];h=xy(p,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const b=[],D=u.getCompare(),S=s?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let N=S.getNext();for(;N&&b.length<i;)0!==D(N,r)&&b.push(N),N=S.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function n6(n,e,t,r,i,s){const u=e.eventCache;if(null!=_A(r,t))return e;{let h,p;if(nn(t))if((0,$.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Rp(e),D=TF(r,_ instanceof Yt?_:Yt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const _=mA(r,Rp(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=tn(t);if(".priority"===_){(0,$.hu)(1===Ud(t),"Can't have a priority with additional path components");const b=u.getNode();p=e.serverCache.getNode();const D=Qz(r,t,b,p);h=null!=D?n.filter.updatePriority(b,D):u.getNode()}else{const b=Bn(t);let D;if(u.isCompleteForChild(_)){p=e.serverCache.getNode();const S=Qz(r,t,u.getNode(),p);D=null!=S?u.getNode().getImmediateChild(_).updateChild(b,S):u.getNode().getImmediateChild(_)}else D=DF(r,_,e.serverCache);h=null!=D?n.filter.updateChild(u.getNode(),_,D,b,i,s):u.getNode()}}return kE(e,h,u.isFullyInitialized()||nn(t),n.filter.filtersNodes())}}function yA(n,e,t,r,i,s,u,h){const p=e.serverCache;let _;const b=u?n.filter:n.filter.getIndexedFilter();if(nn(t))_=b.updateFullNode(p.getNode(),r,null);else if(b.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(t,r);_=b.updateFullNode(p.getNode(),N,null)}else{const N=tn(t);if(!p.isCompleteForPath(t)&&Ud(t)>1)return e;const x=Bn(t),Y=p.getNode().getImmediateChild(N).updateChild(x,r);_=".priority"===N?b.updatePriority(p.getNode(),Y):b.updateChild(p.getNode(),N,Y,x,t6,null)}const D=Wz(e,_,p.isFullyInitialized()||nn(t),b.filtersNodes());return n6(n,D,t,i,new IF(i,D,s),h)}function SF(n,e,t,r,i,s,u){const h=e.eventCache;let p,_;const b=new IF(i,e,s);if(nn(t))_=n.filter.updateFullNode(e.eventCache.getNode(),r,u),p=kE(e,_,!0,n.filter.filtersNodes());else{const D=tn(t);if(".priority"===D)_=n.filter.updatePriority(e.eventCache.getNode(),r),p=kE(e,_,h.isFullyInitialized(),h.isFiltered());else{const S=Bn(t),N=h.getNode().getImmediateChild(D);let x;if(nn(S))x=r;else{const j=b.getCompleteChild(D);x=null!=j?".priority"===rF(S)&&j.getChild(Oz(S)).isEmpty()?j:j.updateChild(S,r):Yt.EMPTY_NODE}p=N.equals(x)?e:kE(e,n.filter.updateChild(h.getNode(),D,x,S,b,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function r6(n,e){return n.eventCache.isCompleteForChild(e)}function i6(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function AF(n,e,t,r,i,s,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=nn(t)?r:new qn(null).setTree(t,r);const b=e.serverCache.getNode();return _.children.inorderTraversal((D,S)=>{if(b.hasChild(D)){const x=i6(0,e.serverCache.getNode().getImmediateChild(D),S);p=yA(n,p,new Nn(D),x,i,s,u,h)}}),_.children.inorderTraversal((D,S)=>{const N=!e.serverCache.isCompleteForChild(D)&&null===S.value;if(!b.hasChild(D)&&!N){const j=i6(0,e.serverCache.getNode().getImmediateChild(D),S);p=yA(n,p,new Nn(D),j,i,s,u,h)}}),p}function vre(n,e){const t=Rp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!nn(e)&&!t.getImmediateChild(tn(e)).isEmpty())?t.getChild(e):null}function a6(n,e,t,r){e.type===Uo.MERGE&&null!==e.source.queryId&&((0,$.hu)(Rp(n.viewCache_),"We should always have a full cache before handling merges"),(0,$.hu)(pA(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function cre(n,e,t,r,i){const s=new ore;let u,h;if(t.type===Uo.OVERWRITE){const _=t;_.source.fromUser?u=SF(n,e,_.path,_.snap,r,i,s):((0,$.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!nn(_.path),u=yA(n,e,_.path,_.snap,r,i,h,s))}else if(t.type===Uo.MERGE){const _=t;_.source.fromUser?u=function hre(n,e,t,r,i,s,u){let h=e;return r.foreach((p,_)=>{const b=lr(t,p);r6(e,tn(b))&&(h=SF(n,h,b,_,i,s,u))}),r.foreach((p,_)=>{const b=lr(t,p);r6(e,tn(b))||(h=SF(n,h,b,_,i,s,u))}),h}(n,e,_.path,_.children,r,i,s):((0,$.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),u=AF(n,e,_.path,_.children,r,i,h,s))}else if(t.type===Uo.ACK_USER_WRITE){const _=t;u=_.revert?function gre(n,e,t,r,i,s){let u;if(null!=_A(r,t))return e;{const h=new IF(r,e,i),p=e.eventCache.getNode();let _;if(nn(t)||".priority"===tn(t)){let b;if(e.serverCache.isFullyInitialized())b=mA(r,Rp(e));else{const D=e.serverCache.getNode();(0,$.hu)(D instanceof Yt,"serverChildren would be complete if leaf node"),b=TF(r,D)}_=n.filter.updateFullNode(p,b,s)}else{const b=tn(t);let D=DF(r,b,e.serverCache);null==D&&e.serverCache.isCompleteForChild(b)&&(D=p.getImmediateChild(b)),_=null!=D?n.filter.updateChild(p,b,D,Bn(t),h,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Yt.EMPTY_NODE,Bn(t),h,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=mA(r,Rp(e)),u.isLeafNode()&&(_=n.filter.updateFullNode(_,u,s)))}return u=e.serverCache.isFullyInitialized()||null!=_A(r,Cn()),kE(e,_,u,n.filter.filtersNodes())}}(n,e,_.path,r,i,s):function fre(n,e,t,r,i,s,u){if(null!=_A(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(nn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return yA(n,e,t,p.getNode().getChild(t),i,s,h,u);if(nn(t)){let _=new qn(null);return p.getNode().forEachChild(Rl,(b,D)=>{_=_.set(new Nn(b),D)}),AF(n,e,t,_,i,s,h,u)}return e}{let _=new qn(null);return r.foreach((b,D)=>{const S=lr(t,b);p.isCompleteForPath(S)&&(_=_.set(b,p.getNode().getChild(S)))}),AF(n,e,t,_,i,s,h,u)}}(n,e,_.path,_.affectedTree,r,i,s)}else{if(t.type!==Uo.LISTEN_COMPLETE)throw(0,$.g5)("Unknown operation type: "+t.type);u=function pre(n,e,t,r,i){const s=e.serverCache;return n6(n,Wz(e,s.getNode(),s.isFullyInitialized()||nn(t),s.isFiltered()),t,r,t6,i)}(n,e,t.path,r,s)}const p=s.getChanges();return function dre(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=pA(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function Hz(n){return{type:"value",snapshotNode:n}}(pA(e)))}}(e,u,p),{viewCache:u,changes:p}}(n.processor_,i,e,t,r);return function ure(n,e){(0,$.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,$.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,$.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function l6(n,e,t,r){return function Hne(n,e,t,r){const i=[],s=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function Ane(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),PE(n,i,"child_removed",e,r,t),PE(n,i,"child_added",e,r,t),PE(n,i,"child_moved",s,r,t),PE(n,i,"child_changed",e,r,t),PE(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let vA,wA;function NF(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,$.hu)(null!=s,"SyncTree gave us an op for an invalid query."),a6(s,e,t,r)}{let s=[];for(const u of n.views.values())s=s.concat(a6(u,e,t,r));return s}}function $d(n,e){let t=null;for(const r of n.views.values())t=t||vre(r,e);return t}class p6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qn(null),this.pendingWriteTree_=function ire(){return{visibleWrites:wa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function RF(n,e,t,r,i){return function Wne(n,e,t,r,i){(0,$.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=FE(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Py(n,new Np({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function jd(n,e,t=!1){const r=function Zne(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Yne(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,$.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&Kne(h,r.path)?i=!1:Lo(r.path,h.path)&&(s=!0)),u--}return!!i&&(s?(function Jne(n){n.visibleWrites=Kz(n.allWrites,Qne,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=qz(n.visibleWrites,r.path):Ni(r.children,p=>{n.visibleWrites=qz(n.visibleWrites,lr(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new qn(null);return null!=r.snap?s=s.set(Cn(),!0):Ni(r.children,u=>{s=s.set(new Nn(u),!0)}),Py(n,new hA(r.path,s,t))}return[]}function LE(n,e,t){return Py(n,new Np({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function CA(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(u,h)=>{const _=$d(h,Is(u,e));if(_)return _});return Jz(i,e,s,t,!0)}function Py(n,e){return m6(e,n.syncPointTree_,null,gA(n.pendingWriteTree_,Cn()))}function m6(n,e,t,r){if(nn(n.path))return _6(n,e,t,r);{const i=e.get(Cn());null==t&&null!=i&&(t=$d(i,Cn()));let s=[];const u=tn(n.path),h=n.operationForChild(u),p=e.children.get(u);if(p&&h){const _=t?t.getImmediateChild(u):null,b=Xz(r,u);s=s.concat(m6(h,p,_,b))}return i&&(s=s.concat(NF(i,n,r,t))),s}}function _6(n,e,t,r){const i=e.get(Cn());null==t&&null!=i&&(t=$d(i,Cn()));let s=[];return e.children.inorderTraversal((u,h)=>{const p=t?t.getImmediateChild(u):null,_=Xz(r,u),b=n.operationForChild(u);b&&(s=s.concat(_6(b,h,p,_)))}),i&&(s=s.concat(NF(i,n,r,t))),s}function OF(n,e){return n.tagToQueryMap.get(e)}function xF(n){const e=n.indexOf("$");return(0,$.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Nn(n.substr(0,e))}}function PF(n,e,t){const r=n.syncPointTree_.get(e);return(0,$.hu)(r,"Missing sync point for query tag that we're tracking"),NF(r,t,gA(n.pendingWriteTree_,e),null)}class kF{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new kF(t)}node(){return this.node_}}class FF{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=lr(this.path_,e);return new FF(this.syncTree_,t)}node(){return CA(this.syncTree_,this.path_)}}const v6=function(n,e,t){return n&&"object"==typeof n?((0,$.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?$re(n[".sv"],e,t):"object"==typeof n[".sv"]?Hre(n[".sv"],e):void(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},$re=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,$.hu)(!1,"Unexpected server value: "+n)},Hre=function(n,e,t){n.hasOwnProperty("increment")||(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,$.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,$.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},LF=function(n,e,t){return UF(n,new kF(e),t)};function UF(n,e,t){const r=n.getPriority().val(),i=v6(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const u=n,h=v6(u.getValue(),e,t);return h!==u.getValue()||i!==u.getPriority().val()?new Ay(h,vr(i)):n}{const u=n;return s=u,i!==u.getPriority().val()&&(s=s.updatePriority(new Ay(i))),u.forEachChild(Wn,(h,p)=>{const _=UF(p,e.getImmediateChild(h),t);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class BF{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function DA(n,e){let t=e instanceof Nn?e:new Nn(e),r=n,i=tn(t);for(;null!==i;){const s=(0,$.DV)(r.node.children,i)||{children:{},childCount:0};r=new BF(i,r,s),t=Bn(t),i=tn(t)}return r}function Op(n){return n.node.value}function VF(n,e){n.node.value=e,$F(n)}function w6(n){return n.node.childCount>0}function IA(n,e){Ni(n.node.children,(t,r)=>{e(new BF(t,n,r))})}function E6(n,e,t,r){t&&!r&&e(n),IA(n,i=>{E6(i,e,!0,r)}),t&&r&&e(n)}function VE(n){return new Nn(null===n.parent?n.name:VE(n.parent)+"/"+n.name)}function $F(n){null!==n.parent&&function zre(n,e,t){const r=function jre(n){return void 0===Op(n)&&!w6(n)}(t),i=(0,$.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,$F(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,$F(n))}(n.parent,n.name,n)}const Wre=/[\[\].#$\/\u0000-\u001F\u007F]/,qre=/[\[\].#$\u0000-\u001F\u007F]/,HF=10485760,SA=function(n){return"string"==typeof n&&0!==n.length&&!Wre.test(n)},HE=function(n,e,t){const r=t instanceof Nn?new cne(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Sp(r));if("function"==typeof e)throw new Error(n+"contains a function "+Sp(r)+" with contents = "+e.toString());if(tA(e))throw new Error(n+"contains "+e.toString()+" "+Sp(r));if("string"==typeof e&&e.length>HF/3&&(0,$.ug)(e)>HF)throw new Error(n+"contains a string greater than "+HF+" utf8 bytes "+Sp(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Ni(e,(u,h)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!SA(u)))throw new Error(n+" contains an invalid key ("+u+") "+Sp(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function dne(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,$.ug)(e),xz(n)})(r,u),HE(n,h,r),function hne(n){const e=n.parts_.pop();n.byteLength_-=(0,$.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+Sp(r)+" in addition to actual children.")}},D6=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!SA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!qre.test(n)}(n)}(t))throw new Error((0,$.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Jre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function co(n,e,t){(function AA(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!iF(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function S6(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Qre(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Lo(r,e)||Lo(e,r))}function Qre(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Dp&&Ai("event: "+t.toString()),Iy(r)}}}class eie{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dA(),this.transactionQueueTree_=new BF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function N6(n){const t=n.infoData_.getNode(new Nn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function GE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:N6(n)})}function R6(n,e,t,r,i){n.dataUpdateCount++;const s=new Nn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const p=(0,$.UI)(t,_=>vr(_));u=function Pre(n,e,t,r){const i=OF(n,r);if(i){const s=xF(i),u=s.path,h=s.queryId,p=Is(u,e),_=qn.fromObject(t);return PF(n,u,new Oy(vF(h),p,_))}return[]}(n.serverSyncTree_,s,p,i)}else{const p=vr(t);u=function g6(n,e,t,r){const i=OF(n,r);if(null!=i){const s=xF(i),u=s.path,h=s.queryId,p=Is(u,e);return PF(n,u,new Np(vF(h),p,t))}return[]}(n.serverSyncTree_,s,p,i)}else if(r){const p=(0,$.UI)(t,_=>vr(_));u=function Mre(n,e,t){const r=qn.fromObject(t);return Py(n,new Oy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,p)}else{const p=vr(t);u=LE(n.serverSyncTree_,s,p)}let h=s;u.length>0&&(h=Fy(n,s)),co(n.eventQueue_,h,u)}function M6(n,e){zF(n,"connected",e),!1===e&&function sie(n){ky(n,"onDisconnectEvents");const e=GE(n),t=dA();mF(n.onDisconnect_,Cn(),(i,s)=>{const u=function(n,e,t,r){return UF(e,new FF(t,n),r)}(i,s,n.serverSyncTree_,e);My(t,i,u)});let r=[];mF(t,Cn(),(i,s)=>{r=r.concat(LE(n.serverSyncTree_,i,s));const u=function YF(n,e){const t=VE(P6(n,e)),r=DA(n.transactionQueueTree_,e);return function Gre(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{KF(n,i)}),KF(n,r),E6(r,i=>{KF(n,i)}),t}(n,i);Fy(n,u)}),n.onDisconnect_=dA(),co(n.eventQueue_,Cn(),r)}(n)}function zF(n,e,t){const r=new Nn("/.info/"+e),i=vr(t);n.infoData_.updateSnapshot(r,i);const s=LE(n.infoSyncTree_,r,i);co(n.eventQueue_,r,s)}function NA(n){return n.nextWriteId_++}function ky(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ai(t,...e)}function ZF(n,e,t){return CA(n.serverSyncTree_,e,t)||Yt.EMPTY_NODE}function RA(n,e=n.transactionQueueTree_){if(e||MA(n,e),Op(e)){const t=k6(n,e);(0,$.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function hie(n,e,t){const r=t.map(_=>_.currentWriteId),i=ZF(n,e,r);let s=i;const u=i.hash();for(let _=0;_<t.length;_++){const b=t[_];(0,$.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=Is(e,b.path);s=s.updateChild(D,b.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,_=>{ky(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let S=0;S<t.length;S++)t[S].status=2,b=b.concat(jd(n.serverSyncTree_,t[S].currentWriteId)),t[S].onComplete&&D.push(()=>t[S].onComplete(null,!0,t[S].currentOutputSnapshotResolved)),t[S].unwatcher();MA(n,DA(n.transactionQueueTree_,e)),RA(n,n.transactionQueueTree_),co(n.eventQueue_,e,b);for(let S=0;S<D.length;S++)Iy(D[S])}else{if("datastale"===_)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{as("transaction at "+p.toString()+" failed: "+_);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=_}Fy(n,e)}},u)}(n,VE(e),t)}else w6(e)&&IA(e,t=>{RA(n,t)})}function Fy(n,e){const t=P6(n,e),r=VE(t);return function fie(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],_=Is(t,p.path);let D,b=!1;if((0,$.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,D=p.abortReason,i=i.concat(jd(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,D="maxretry",i=i.concat(jd(n.serverSyncTree_,p.currentWriteId,!0));else{const S=ZF(n,p.path,u);p.currentInputSnapshot=S;const N=e[h].update(S.val());if(void 0!==N){HE("transaction failed: Data returned ",N,p.path);let x=vr(N);"object"==typeof N&&null!=N&&(0,$.r3)(N,".priority")||(x=x.updatePriority(S.getPriority()));const Y=p.currentWriteId,me=GE(n),De=LF(x,S,me);p.currentOutputSnapshotRaw=x,p.currentOutputSnapshotResolved=De,p.currentWriteId=NA(n),u.splice(u.indexOf(Y),1),i=i.concat(RF(n.serverSyncTree_,p.path,De,p.currentWriteId,p.applyLocally)),i=i.concat(jd(n.serverSyncTree_,Y,!0))}else b=!0,D="nodata",i=i.concat(jd(n.serverSyncTree_,p.currentWriteId,!0))}co(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===D?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(D),!1,null)))}MA(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Iy(r[h]);RA(n,n.transactionQueueTree_)}(n,k6(n,t),r),r}function P6(n,e){let t,r=n.transactionQueueTree_;for(t=tn(e);null!==t&&void 0===Op(r);)r=DA(r,t),t=tn(e=Bn(e));return r}function k6(n,e){const t=[];return F6(n,e,t),t.sort((r,i)=>r.order-i.order),t}function F6(n,e,t){const r=Op(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);IA(e,i=>{F6(n,i,t)})}function MA(n,e){const t=Op(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,VF(e,t.length>0?t:void 0)}IA(e,r=>{MA(n,r)})}function KF(n,e){const t=Op(e);if(t){const r=[];let i=[],s=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,$.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,t[u].status=3,t[u].abortReason="set"):((0,$.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(jd(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?VF(e,void 0):t.length=s+1,co(n.eventQueue_,VE(e),i);for(let u=0;u<r.length;u++)Iy(r[u])}}const JF=function(n,e){const t=mie(n),r=t.namespace;return"firebase.com"===t.domain&&Nl(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Nl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&as("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Jk(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Nn(t.pathString)}},mie=function(n){let e="",t="",r="",i="",s="",u=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(b,D)),b<D&&(i=function pie(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,D)));const S=function gie(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):as(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));_=e.indexOf(":"),_>=0?(u="https"===h||"wss"===h,p=parseInt(e.substring(_+1),10)):_=e.length;const N=e.slice(0,_);if("localhost"===N.toLowerCase())t="localhost";else if(N.split(".").length<=2)t=N;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),t=e.substring(x+1),s=r}"ns"in S&&(s=S.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:u,scheme:h,pathString:i,namespace:s}};class ho{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return nn(this._path)?null:rF(this._path)}get ref(){return new Ea(this._repo,this._path)}get _queryIdentifier(){const e=Gz(this._queryParams),t=Yk(e);return"{}"===t?"default":t}get _queryObject(){return Gz(this._queryParams)}isEqual(e){if(!((e=(0,$.m9)(e))instanceof ho))return!1;const t=this._repo===e._repo,r=iF(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function lne(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Ea extends ho{constructor(e,t){super(e,t,new hF,!1)}get parent(){const e=Oz(this._path);return null===e?null:new Ea(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Ere(n){(0,$.hu)(!vA,"__referenceConstructor has already been defined"),vA=n})(Ea),function Sre(n){(0,$.hu)(!wA,"__referenceConstructor has already been defined"),wA=n}(Ea);const XF={};class Fie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function tie(n,e,t){if(n.stats_=eF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new cA(n.repoInfo_,(r,i,s,u)=>{R6(n,r,i,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>M6(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,$.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ap(n.repoInfo_,e,(r,i,s,u)=>{R6(n,r,i,s,u)},r=>{M6(n,r)},r=>{!function nie(n,e){Ni(e,(t,r)=>{zF(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Vte(n,e){const t=n.toString();return Xk[t]||(Xk[t]=e()),Xk[t]}(n.repoInfo_,()=>new Vne(n.stats_,n.server_)),n.infoData_=new kne,n.infoSyncTree_=new p6({startListening:(r,i,s,u)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=LE(n.infoSyncTree_,r._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),zF(n,"connected",!1),n.serverSyncTree_=new p6({startListening:(r,i,s,u)=>(n.server_.listen(r,s,i,(h,p)=>{const _=u(h,p);co(n.eventQueue_,r._path,_)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ea(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xie(n,e){const t=XF[e];(!t||t[n.key]!==n)&&Nl(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function x6(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Nl("Cannot call "+e+" on a deleted database.")}}function Lie(n=(0,rt.getApp)(),e){const t=(0,rt._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,$.P0)("database");r&&function Uie(n,e,t,r={}){(n=(0,$.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Nl("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Nl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new DE(DE.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,$.Sg)(r.mockUserToken,n.app.options.projectId);s=new DE(u)}!function Mie(n,e,t,r){n.repoInfo_=new Jk(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}Ap.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ap.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Bie(n){(function Cte(n){Wk=n})(rt.SDK_VERSION),(0,rt._registerComponent)(new Yr.wA("database",(e,{instanceIdentifier:t})=>function Oie(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Nl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ai("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,u=JF(s,i),h=u.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,u=JF(s,i),h=u.repoInfo):p=!u.repoInfo.secure;const b=i&&p?new DE(DE.OWNER):new Lte(n.name,n.options,e);D6("Invalid Firebase Database URL",u),nn(u.path)||Nl("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function Pie(n,e,t,r){let i=XF[e.name];i||(i={},XF[e.name]=i);let s=i[n.toURLString()];return s&&Nl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new eie(n,!1,t,r),i[n.toURLString()]=s,s}(h,n,b,new Fte(n.name,t));return new Fie(D,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(ZG,"0.14.3",n),(0,rt.registerVersion)(ZG,"0.14.3","esm2017")}();class eL{constructor(e){return e}}const z6="database",tL=new o.OlP("angularfire2.database-instances");function Gie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new eL(r)}}const zie={provide:class Hie{constructor(){return Ro(z6)}},deps:[[new o.FiY,tL]]},Wie={provide:eL,useFactory:function jie(n,e){const t=is(z6,n,e);return t&&new eL(t)},deps:[[new o.FiY,tL],Hi]};let qie=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Wie,zie]}),n})();const Yie=ss(Lie,!0);class nL{constructor(e){return e}}const W6="firestore",rL=new o.OlP("angularfire2.firestore-instances");function Qie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new nL(r)}}const Xie={provide:class Kie{constructor(){return Ro(W6)}},deps:[[new o.FiY,rL]]},ese={provide:nL,useFactory:function Jie(n,e){const t=is(W6,n,e);return t&&new nL(t)},deps:[[new o.FiY,rL],Hi]};let tse=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ese,Xie]}),n})();const rse=ss(R8,!0);class iL{constructor(e){return e}}const q6="messaging",sL=new o.OlP("angularfire2.messaging-instances");function ose(n){return(e,t)=>{if(!n_.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new iL(r)}}const ase={provide:class ise{constructor(){return Ro(q6)}},deps:[[new o.FiY,sL]]},lse={provide:iL,useFactory:function sse(n,e){if(!n_.sync())return null;const t=is(q6,n,e);return t&&new iL(t)},deps:[[new o.FiY,sL],Hi]};let use=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[lse,ase,{provide:o.ip1,useValue:n_.async,multi:!0}]}),n})();const dse=ss(k1,!0);class oL{constructor(e){return e}}const Z6="storage",aL=new o.OlP("angularfire2.storage-instances");function pse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new oL(r)}}const gse={provide:class hse{constructor(){return Ro(Z6)}},deps:[[new o.FiY,aL]]},mse={provide:oL,useFactory:function fse(n,e){const t=is(Z6,n,e);return t&&new oL(t)},deps:[[new o.FiY,aL],Hi]};let _se=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[mse,gse]}),n})();const vse=ss(yee,!0);var wse=F(655);class qE{constructor(e){return e}}const Y6="analytics",K6=i_.async,Cse=ss(eD,!0),Tse=ss(nD,!0),Dse=ss(tD,!0);let lL=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],(0,rt.registerVersion)("angularfire",rs.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(u=>{s=u})),K6().then(()=>{const u=i.get(qE);u?this.disposables=[wte(t).subscribe(h=>{Dse(u,h?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(eA),o.LFG(o.R0b),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const J6="firebase_screen_id",uL="outlet",ZE="screen_class",Q6="screen_name";let Lse=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const cL={},Use=n=>{const e=[n[ZE],n[uL]].join("#");if(cL.hasOwnProperty(e))return cL[e];{const t=Lse++;return cL[e]=t,t}};let X6=(()=>{class n{constructor(t,r,i,s,u,h){(0,rt.registerVersion)("angularfire",rs.full,"screen-tracking"),K6().then(()=>{const p=h.get(qE);!t||!p||s.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(An(i=>i instanceof Dv)).pipe(Fn(i=>{var s;const h=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,N=>N.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",p=n.routerState.root.children.map(N=>N).find(N=>N.outlet===i.snapshot.outlet);if(!p)return ft(null);let _=p;for(;_.firstChild;)_=_.firstChild;const b=_.pathFromRoot.map(N=>{var x;return null===(x=N.routeConfig)||void 0===x?void 0:x.path}).filter(N=>N).join("/")||"/",D={[Q6]:b,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:b,[uL]:i.snapshot.outlet};e&&(D.page_title=e.getTitle());let S=p.component;if(S){if(S===$h){let N=i.snapshot;for(;N.firstChild;)N=N.firstChild;S=N.component}}else S=i.snapshot.component;if("string"==typeof S)return ft(Object.assign(Object.assign({},D),{[ZE]:S}));if(S){const N=t.resolveComponentFactory(S);return ft(Object.assign(Object.assign({},D),{[ZE]:N.selector}))}return ft(null)}),An(i=>!!i),(0,nt.U)(i=>Object.assign({firebase_screen_class:i[ZE],[J6]:Use(i)},i)),function bse(n,e,t,r){return(0,kn.e)((i,s)=>{let u;e&&"function"!=typeof e?({duration:t,element:u,connector:r}=e):u=e;const h=new Map,p=x=>{h.forEach(x),x(s)},_=x=>p(j=>j.error(x));let b=0,D=!1;const S=new En.Q(s,x=>{try{const j=n(x);let Y=h.get(j);if(!Y){h.set(j,Y=r?r():new wn.x);const me=function N(x,j){const Y=new Hn.y(me=>{b++;const De=j.subscribe(me);return()=>{De.unsubscribe(),0==--b&&D&&S.unsubscribe()}});return Y.key=x,Y}(j,Y);if(s.next(me),t){const De=(0,En.x)(Y,()=>{Y.complete(),De?.unsubscribe()},void 0,void 0,()=>h.delete(j));S.add((0,ts.Xf)(t(me)).subscribe(De))}}Y.next(u?u(x):x)}catch(j){_(j)}},()=>p(x=>x.complete()),_,()=>h.clear(),()=>(D=!0,0===b));i.subscribe(S)})}(i=>i[uL]),(0,Fr.z)(i=>i.pipe(Rf((s,u)=>JSON.stringify(s)===JSON.stringify(u)),hs(void 0),b_(),(0,nt.U)(([s,u])=>s?Object.assign({firebase_previous_class:s[ZE],firebase_previous_screen:s[Q6],firebase_previous_id:s[J6]},u):u)))))(t,r,i).pipe(Fn(_=>(0,wse.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),Tse(p,"screen_view",_)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zr,8),o.LFG(uc,8),o.LFG(o._Vd),o.LFG(o.R0b),o.LFG(lL,8),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const dL=new o.OlP("angularfire2.analytics-instances");function $se(n){return(e,t)=>{if(!i_.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new qE(r)}}const Hse={provide:class Ese{constructor(){return Ro(Y6)}},deps:[[new o.FiY,dL]]},jse={provide:qE,useFactory:function Vse(n,e){if(!i_.sync())return null;const t=is(Y6,n,e);return t&&new qE(t)},deps:[[new o.FiY,dL],Hi]};let Gse=(()=>{class n{constructor(t,r){(0,rt.registerVersion)("angularfire",rs.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(X6,8),o.LFG(lL,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jse,Hse,{provide:o.ip1,useValue:i_.async,multi:!0}]}),n})();const fL="functions";class Kse{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return(0,Z.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,Z.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,Z.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,Z.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const pL="us-central1";class Qse{constructor(e,t,r,i,s=pL,u){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new Kse(t,r,i),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(s);this.customDomain=h.origin,this.region=pL}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const rW="@firebase/functions";function loe(n=(0,rt.getApp)(),e=pL){const r=(0,rt._getProvider)((0,$.m9)(n),fL).getImmediate({identifier:e}),i=(0,$.P0)("functions");return i&&function uoe(n,e,t){!function Xse(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,$.m9)(n),e,t)}(r,...i),r}!function aoe(n,e){(0,rt._registerComponent)(new Yr.wA(fL,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),u=r.getProvider("auth-internal"),h=r.getProvider("messaging-internal"),p=r.getProvider("app-check-internal");return new Qse(s,u,h,p,i,n)},"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(rW,"0.9.3",e),(0,rt.registerVersion)(rW,"0.9.3","esm2017")}(fetch.bind(self));class _L{constructor(e){return e}}const sW="functions",yL=new o.OlP("angularfire2.functions-instances");function hoe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _L(r)}}const foe={provide:class coe{constructor(){return Ro(sW)}},deps:[[new o.FiY,yL]]},poe={provide:_L,useFactory:function doe(n,e){const t=is(sW,n,e);return t&&new _L(t)},deps:[[new o.FiY,yL],Hi]};let goe=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[poe,foe]}),n})();const _oe=ss(loe,!0),oW="@firebase/performance",vL="0.6.3",aW=vL,bL="FB-PERF-TRACE-MEASURE",hW="@firebase/performance/config",fW="@firebase/performance/configexpire",pW="Performance",Ki=new $.LL("performance",pW,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),xl=new ii.Yd(pW);let wL,gW,mW,CL;xl.logLevel=ii.in.INFO;class Ri{constructor(e){if(this.window=e,!e)throw Ki.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,$.zI)()?!!(0,$.hl)()||(xl.info("IndexedDB is not supported by current browswer"),!1):(xl.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===wL&&(wL=new Ri(gW)),wL}}function EL(){return mW}function _W(n,e){const t=n.length-e.length;if(t<0||t>1)throw Ki.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class fo{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=_W("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=_W("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===CL&&(CL=new fo),CL}}var Pp=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(Pp||(Pp={})),Pp))();const Doe=["firebase_","google_","ga_"],Ioe=new RegExp("^[a-zA-Z]\\w*$");function Noe(){const n=Ri.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function yW(){switch(Ri.getInstance().document.visibilityState){case"visible":return Pp.VISIBLE;case"hidden":return Pp.HIDDEN;default:return Pp.UNKNOWN}}function Roe(){const e=Ri.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function vW(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw Ki.create("no app id");return t}const Ca={loggingEnabled:!0};const Voe="Could not fetch config, will use default configs";function bW(n){if(!n)return n;const e=fo.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Ca.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Ca.logSource&&(e.logSource=Ca.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Ca.logEndPointUrl&&(e.logEndPointUrl=Ca.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Ca.transportKey&&(e.transportKey=Ca.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Ca.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Ca.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Ca.tracesSamplingRate&&(e.tracesSamplingRate=Ca.tracesSamplingRate),e.logTraceAfterSampling=wW(e.tracesSamplingRate),e.logNetworkAfterSampling=wW(e.networkRequestsSamplingRate),n}function wW(n){return Math.random()<=n}let DL,TL=1;function EW(n){return TL=2,DL=DL||function Goe(n){return function zoe(){const n=Ri.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function Coe(n){const e=n.getId();return e.then(t=>{mW=t}),e}(n.installations)).then(e=>function Loe(n,e){const t=function Uoe(){const n=Ri.getInstance().localStorage;if(!n)return;const e=n.getItem(fW);if(!e||!function Hoe(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(hW);if(t)try{return JSON.parse(t)}catch{return}}();return t?(bW(t),Promise.resolve()):function $oe(n,e){return function Toe(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function xoe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw Ki.create("no project id");return t}(n.app),i=function Poe(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw Ki.create("no api key");return t}(n.app),u=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:vW(n.app),app_version:aW,sdk_version:"0.0.1"})});return fetch(u).then(h=>{if(h.ok)return h.json();throw Ki.create("RC response not ok")})}).catch(()=>{xl.info(Voe)})}(n,e).then(bW).then(r=>function Boe(n){const e=Ri.getInstance().localStorage;!n||!e||(e.setItem(hW,JSON.stringify(n)),e.setItem(fW,String(Date.now()+60*fo.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>CW(),()=>CW())}(n),DL}function CW(){TL=3}let SL,FA=3,Wd=[],DW=!1;function LA(n){setTimeout(()=>{if(0!==FA){if(!Wd.length)return LA(1e4);!function Yoe(){const n=Wd.splice(0,1e3),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function Koe(n,e){return function Joe(n){const e=fo.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||xl.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Wd=[...e,...Wd],xl.info("Retry transport request later.")),FA=3,LA(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:fo.getInstance().logSource,log_event:e},n).catch(()=>{Wd=[...n,...Wd],FA--,xl.info(`Tries left: ${FA}.`),LA(1e4)})}()}},n)}function IW(n,e){SL||(SL=function Xoe(n){return(...e)=>{!function Qoe(n){if(!n.eventTime||!n.message)throw Ki.create("invalid cc log");Wd=[...Wd,n]}({message:n(...e),eventTime:Date.now()})}}(tae)),SL(n,e)}function UA(n){const e=fo.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||Ri.getInstance().requiredApisAvailable()&&(n.isAuto&&yW()!==Pp.VISIBLE||(function joe(){return 3===TL}()?AL(n):EW(n.performanceController).then(()=>AL(n),()=>AL(n))))}function AL(n){if(!EL())return;const e=fo.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>IW(n,1),0)}function tae(n,e){return 0===e?function nae(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:SW(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function rae(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:SW(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function SW(n){return{google_app_id:vW(n),app_instance_id:EL(),web_app_info:{sdk_version:aW,page_url:Ri.getInstance().getUrl(),service_worker_status:Noe(),visibility_state:yW(),effective_connection_type:Roe()},application_process_state:0}}const oae=["_fp","_fcp","_fid"];class qd{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Ri.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${bL}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Ki.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Ki.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),UA(this)}record(e,t,r){if(e<=0)throw Ki.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Ki.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));UA(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function aae(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&oae.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw Ki.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function lae(n){const e=Math.floor(n);return e<n&&xl.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function Moe(n){return!(0===n.length||n.length>40||Doe.some(t=>n.startsWith(t))||!n.match(Ioe))}(e),i=function Ooe(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Ki.create("invalid attribute name",{attributeName:e});if(!i)throw Ki.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=Ri.getInstance().getUrl();if(!s)return;const u=new qd(e,"_wt_"+s,!0),h=Math.floor(1e3*Ri.getInstance().getTimeOrigin());if(u.setStartTime(h),t&&t[0]&&(u.setDuration(Math.floor(1e3*t[0].duration)),u.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),u.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),u.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const b=r.find(S=>"first-paint"===S.name);b&&b.startTime&&u.putMetric("_fp",Math.floor(1e3*b.startTime));const D=r.find(S=>"first-contentful-paint"===S.name);D&&D.startTime&&u.putMetric("_fcp",Math.floor(1e3*D.startTime)),i&&u.putMetric("_fid",Math.floor(1e3*i))}UA(u)}static createUserTimingTrace(e,t){UA(new qd(e,t,!1,t))}}function AW(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=Ri.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,u=Math.floor(1e3*(t.responseEnd-t.startTime));!function eae(n){const e=fo.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>IW(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:u})}function NW(n){EL()&&(setTimeout(()=>function dae(n){const e=Ri.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{qd.createOobTrace(n,t,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),qd.createOobTrace(n,t,r,s))})}else qd.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function cae(n){const e=Ri.getInstance(),t=e.getEntriesByType("resource");for(const r of t)AW(n,r);e.setupObserver("resource",r=>AW(n,r))}(n),0),setTimeout(()=>function hae(n){const e=Ri.getInstance(),t=e.getEntriesByType("measure");for(const r of t)RW(n,r);e.setupObserver("measure",r=>RW(n,r))}(n),0))}function RW(n,e){const t=e.name;t.substring(0,bL.length)!==bL&&qd.createUserTimingTrace(n,t)}class fae{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Ri.getInstance().requiredApisAvailable()?(0,$.eu)().then(t=>{t&&(function Zoe(){DW||(LA(5500),DW=!0)}(),EW(this).then(()=>NW(this),()=>NW(this)),this.initialized=!0)}).catch(t=>{xl.info(`Environment doesn't support IndexedDB: ${t}`)}):xl.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){fo.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return fo.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){fo.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return fo.getInstance().dataCollectionEnabled}}function gae(n=(0,rt.getApp)()){return n=(0,$.m9)(n),(0,rt._getProvider)(n,"performance").getImmediate()}const mae=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw Ki.create("FB not default");if(typeof window>"u")throw Ki.create("no window");!function Eoe(n){gW=n}(window);const i=new fae(t,r);return i._init(e),i};!function _ae(){(0,rt._registerComponent)(new Yr.wA("performance",mae,"PUBLIC")),(0,rt.registerVersion)(oW,vL),(0,rt.registerVersion)(oW,vL,"esm2017")}();class NL{constructor(e){return e}}const MW="performance",RL=new o.OlP("angularfire2.performance-instances");function bae(n){return(e,t,r)=>{if(!Ul(t))return null;const i=e.runOutsideAngular(()=>n(r));return new NL(i)}}const wae={provide:class yae{constructor(){return Ro(MW)}},deps:[[new o.FiY,RL]]},Eae={provide:NL,useFactory:function vae(n,e,t){if(!Ul(t))return null;const r=is(MW,n,e);return r&&new NL(r)},deps:[[new o.FiY,RL],Hi,o.Lbi]};let Cae=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Eae,wae]}),n})();const Dae=ss(gae,!0);class ML{constructor(e){return e}}const OW="remote-config",OL=new o.OlP("angularfire2.remote-config-instances");function Aae(n){return(e,t)=>{if(!r_.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new ML(r)}}const Nae={provide:class Iae{constructor(){return Ro(OW)}},deps:[[new o.FiY,OL]]},Rae={provide:ML,useFactory:function Sae(n,e){if(!r_.sync())return null;const t=is(OW,n,e);return t&&new ML(t)},deps:[[new o.FiY,OL],Hi]};let Mae=(()=>{class n{constructor(){(0,rt.registerVersion)("angularfire",rs.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Rae,Nae,{provide:o.ip1,useValue:r_.async,multi:!0}]}),n})();const xae=ss(ER,!0);class kp{constructor(e,t){this.userService=e,this.router=t}canActivate(e,t){return this.userService.user.pipe(jn(1),(0,nt.U)(r=>!!r||this.router.createUrlTree(["/"])))}}kp.\u0275fac=function(e){return new(e||kp)(o.LFG(Cl),o.LFG(Zr))},kp.\u0275prov=o.Yz7({token:kp,factory:kp.\u0275fac,providedIn:"root"});const Pae=[{path:"",component:aE},{path:"signup",component:hE},{path:"main",component:vE,canActivate:[kp]}];class By{}By.\u0275fac=function(e){return new(e||By)},By.\u0275mod=o.oAB({type:By,bootstrap:[$w]}),By.\u0275inj=o.cJS({providers:[X6,lL,kp,{provide:wi.Dh,useValue:WG.firebase}],imports:[mg,sl,Zv.forRoot(Pae),kQ,sR,QY,function vM(n,...e){return{ngModule:yM,providers:[{provide:s_,useFactory:_M(n),multi:!0,deps:[o.R0b,o.zs3,$i,...e]}]}}(()=>gD(WG.firebase)),function bte(n,...e){return{ngModule:vte,providers:[{provide:zk,useFactory:mte(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,[new o.FiY,ml],...e]}]}}(()=>Ete()),function Zie(n,...e){return{ngModule:qie,providers:[{provide:tL,useFactory:Gie(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,[new o.FiY,bE],[new o.FiY,ml],...e]}]}}(()=>Yie()),function nse(n,...e){return{ngModule:tse,providers:[{provide:rL,useFactory:Qie(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,[new o.FiY,bE],[new o.FiY,ml],...e]}]}}(()=>rse()),function cse(n,...e){return{ngModule:use,providers:[{provide:sL,useFactory:ose(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,...e]}]}}(()=>dse()),function yse(n,...e){return{ngModule:_se,providers:[{provide:aL,useFactory:pse(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,[new o.FiY,bE],[new o.FiY,ml],...e]}]}}(()=>vse()),function zse(n,...e){return{ngModule:Gse,providers:[{provide:dL,useFactory:$se(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,...e]}]}}(()=>Cse()),function moe(n,...e){return{ngModule:goe,providers:[{provide:yL,useFactory:hoe(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,[new o.FiY,bE],[new o.FiY,ml],...e]}]}}(()=>_oe()),function Tae(n,...e){return{ngModule:Cae,providers:[{provide:RL,useFactory:bae(n),multi:!0,deps:[o.R0b,o.Lbi,o.zs3,$i,ro,...e]}]}}(()=>Dae()),function Oae(n,...e){return{ngModule:Mae,providers:[{provide:OL,useFactory:Aae(n),multi:!0,deps:[o.R0b,o.zs3,$i,ro,...e]}]}}(()=>xae())]}),av().bootstrapModule(By).catch(n=>console.error(n))},9751:(vt,Ne,F)=>{F.d(Ne,{y:()=>Ce});var o=F(930),V=F(727),P=F(8822),le=F(9635),be=F(2416),he=F(576),ze=F(2806);let Ce=(()=>{class J{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const tt=new J;return tt.source=this,tt.operator=Fe,tt}subscribe(Fe,tt,dt){const ie=function G(J){return J&&J instanceof o.Lv||function z(J){return J&&(0,he.m)(J.next)&&(0,he.m)(J.error)&&(0,he.m)(J.complete)}(J)&&(0,V.Nn)(J)}(Fe)?Fe:new o.Hp(Fe,tt,dt);return(0,ze.x)(()=>{const{operator:Me,source:Ee}=this;ie.add(Me?Me.call(ie,Ee):Ee?this._subscribe(ie):this._trySubscribe(ie))}),ie}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(tt){Fe.error(tt)}}forEach(Fe,tt){return new(tt=Ue(tt))((dt,ie)=>{const Me=new o.Hp({next:Ee=>{try{Fe(Ee)}catch(Pe){ie(Pe),Me.unsubscribe()}},error:ie,complete:dt});this.subscribe(Me)})}_subscribe(Fe){var tt;return null===(tt=this.source)||void 0===tt?void 0:tt.subscribe(Fe)}[P.L](){return this}pipe(...Fe){return(0,le.U)(Fe)(this)}toPromise(Fe){return new(Fe=Ue(Fe))((tt,dt)=>{let ie;this.subscribe(Me=>ie=Me,Me=>dt(Me),()=>tt(ie))})}}return J.create=qe=>new J(qe),J})();function Ue(J){var qe;return null!==(qe=J??be.v.Promise)&&void 0!==qe?qe:Promise}},7579:(vt,Ne,F)=>{F.d(Ne,{x:()=>ze});var o=F(9751),V=F(727);const le=(0,F(3888).d)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=F(8737),he=F(2806);let ze=(()=>{class Ue extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new Ce(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new le}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:qe,observers:Fe}=this;return J||qe?V.Lc:(this.currentObservers=null,Fe.push(G),new V.w0(()=>{this.currentObservers=null,(0,be.P)(Fe,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:qe,isStopped:Fe}=this;J?G.error(qe):Fe&&G.complete()}asObservable(){const G=new o.y;return G.source=this,G}}return Ue.create=(z,G)=>new Ce(z,G),Ue})();class Ce extends ze{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,z)}error(z){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==J?J:V.Lc}}},930:(vt,Ne,F)=>{F.d(Ne,{Hp:()=>dt,Lv:()=>J});var o=F(576),V=F(727),P=F(2416),le=F(7849),be=F(5032);const he=Ue("C",void 0,void 0);function Ue(xe,ve,Te){return{kind:xe,value:ve,error:Te}}var z=F(3410),G=F(2806);class J extends V.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,V.Nn)(ve)&&ve.add(this)):this.destination=Pe}static create(ve,Te,$e){return new dt(ve,Te,$e)}next(ve){this.isStopped?Ee(function Ce(xe){return Ue("N",xe,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Ee(function ze(xe){return Ue("E",void 0,xe)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ee(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Fe(xe,ve){return qe.call(xe,ve)}class tt{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Te}=this;if(Te.next)try{Te.next(ve)}catch($e){ie($e)}}error(ve){const{partialObserver:Te}=this;if(Te.error)try{Te.error(ve)}catch($e){ie($e)}else ie(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Te){ie(Te)}}}class dt extends J{constructor(ve,Te,$e){let X;if(super(),(0,o.m)(ve)||!ve)X={next:ve??void 0,error:Te??void 0,complete:$e??void 0};else{let ne;this&&P.v.useDeprecatedNextContext?(ne=Object.create(ve),ne.unsubscribe=()=>this.unsubscribe(),X={next:ve.next&&Fe(ve.next,ne),error:ve.error&&Fe(ve.error,ne),complete:ve.complete&&Fe(ve.complete,ne)}):X=ve}this.destination=new tt(X)}}function ie(xe){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,le.h)(xe)}function Ee(xe,ve){const{onStoppedNotification:Te}=P.v;Te&&z.z.setTimeout(()=>Te(xe,ve))}const Pe={closed:!0,next:be.Z,error:function Me(xe){throw xe},complete:be.Z}},727:(vt,Ne,F)=>{F.d(Ne,{Lc:()=>he,w0:()=>be,Nn:()=>ze});var o=F(576);const P=(0,F(3888).d)(Ue=>function(G){Ue(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,qe)=>`${qe+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var le=F(8737);class be{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Fe of G)Fe.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,o.m)(J))try{J()}catch(Fe){z=Fe instanceof P?Fe.errors:[Fe]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Fe of qe)try{Ce(Fe)}catch(tt){z=z??[],tt instanceof P?z=[...z,...tt.errors]:z.push(tt)}}if(z)throw new P(z)}}add(z){var G;if(z&&z!==this)if(this.closed)Ce(z);else{if(z instanceof be){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,le.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,le.P)(G,z),z instanceof be&&z._removeParent(this)}}be.EMPTY=(()=>{const Ue=new be;return Ue.closed=!0,Ue})();const he=be.EMPTY;function ze(Ue){return Ue instanceof be||Ue&&"closed"in Ue&&(0,o.m)(Ue.remove)&&(0,o.m)(Ue.add)&&(0,o.m)(Ue.unsubscribe)}function Ce(Ue){(0,o.m)(Ue)?Ue():Ue.unsubscribe()}},2416:(vt,Ne,F)=>{F.d(Ne,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ne,F)=>{F.d(Ne,{E:()=>V});const V=new(F(9751).y)(be=>be.complete())},8996:(vt,Ne,F)=>{F.d(Ne,{D:()=>ve});var o=F(8421),V=F(5363),P=F(9468),he=F(9751),Ce=F(2202),Ue=F(576),z=F(9672);function J(Te,$e){if(!Te)throw new Error("Iterable cannot be null");return new he.y(X=>{(0,z.f)(X,$e,()=>{const ne=Te[Symbol.asyncIterator]();(0,z.f)(X,$e,()=>{ne.next().then(ye=>{ye.done?X.complete():X.next(ye.value)})},0,!0)})})}var qe=F(3670),Fe=F(8239),tt=F(1144),dt=F(6495),ie=F(2206),Me=F(4532),Ee=F(3260);function ve(Te,$e){return $e?function xe(Te,$e){if(null!=Te){if((0,qe.c)(Te))return function le(Te,$e){return(0,o.Xf)(Te).pipe((0,P.R)($e),(0,V.Q)($e))}(Te,$e);if((0,tt.z)(Te))return function ze(Te,$e){return new he.y(X=>{let ne=0;return $e.schedule(function(){ne===Te.length?X.complete():(X.next(Te[ne++]),X.closed||this.schedule())})})}(Te,$e);if((0,Fe.t)(Te))return function be(Te,$e){return(0,o.Xf)(Te).pipe((0,P.R)($e),(0,V.Q)($e))}(Te,$e);if((0,ie.D)(Te))return J(Te,$e);if((0,dt.T)(Te))return function G(Te,$e){return new he.y(X=>{let ne;return(0,z.f)(X,$e,()=>{ne=Te[Ce.h](),(0,z.f)(X,$e,()=>{let ye,Ye;try{({value:ye,done:Ye}=ne.next())}catch(Le){return void X.error(Le)}Ye?X.complete():X.next(ye)},0,!0)}),()=>(0,Ue.m)(ne?.return)&&ne.return()})}(Te,$e);if((0,Ee.L)(Te))return function Pe(Te,$e){return J((0,Ee.Q)(Te),$e)}(Te,$e)}throw(0,Me.z)(Te)}(Te,$e):(0,o.Xf)(Te)}},8421:(vt,Ne,F)=>{F.d(Ne,{Xf:()=>qe});var o=F(655),V=F(1144),P=F(8239),le=F(9751),be=F(3670),he=F(2206),ze=F(4532),Ce=F(6495),Ue=F(3260),z=F(576),G=F(7849),J=F(8822);function qe(xe){if(xe instanceof le.y)return xe;if(null!=xe){if((0,be.c)(xe))return function Fe(xe){return new le.y(ve=>{const Te=xe[J.L]();if((0,z.m)(Te.subscribe))return Te.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,V.z)(xe))return function tt(xe){return new le.y(ve=>{for(let Te=0;Te<xe.length&&!ve.closed;Te++)ve.next(xe[Te]);ve.complete()})}(xe);if((0,P.t)(xe))return function dt(xe){return new le.y(ve=>{xe.then(Te=>{ve.closed||(ve.next(Te),ve.complete())},Te=>ve.error(Te)).then(null,G.h)})}(xe);if((0,he.D)(xe))return Me(xe);if((0,Ce.T)(xe))return function ie(xe){return new le.y(ve=>{for(const Te of xe)if(ve.next(Te),ve.closed)return;ve.complete()})}(xe);if((0,Ue.L)(xe))return function Ee(xe){return Me((0,Ue.Q)(xe))}(xe)}throw(0,ze.z)(xe)}function Me(xe){return new le.y(ve=>{(function Pe(xe,ve){var Te,$e,X,ne;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Te=(0,o.KL)(xe);!($e=yield Te.next()).done;)if(ve.next($e.value),ve.closed)return}catch(ye){X={error:ye}}finally{try{$e&&!$e.done&&(ne=Te.return)&&(yield ne.call(Te))}finally{if(X)throw X.error}}ve.complete()})})(xe,ve).catch(Te=>ve.error(Te))})}},6451:(vt,Ne,F)=>{F.d(Ne,{T:()=>he});var o=F(8189),V=F(8421),P=F(515),le=F(3269),be=F(8996);function he(...ze){const Ce=(0,le.yG)(ze),Ue=(0,le._6)(ze,1/0),z=ze;return z.length?1===z.length?(0,V.Xf)(z[0]):(0,o.J)(Ue)((0,be.D)(z,Ce)):P.E}},5403:(vt,Ne,F)=>{F.d(Ne,{Q:()=>P,x:()=>V});var o=F(930);function V(le,be,he,ze,Ce){return new P(le,be,he,ze,Ce)}class P extends o.Lv{constructor(be,he,ze,Ce,Ue,z){super(be),this.onFinalize=Ue,this.shouldUnsubscribe=z,this._next=he?function(G){try{he(G)}catch(J){be.error(J)}}:super._next,this._error=Ce?function(G){try{Ce(G)}catch(J){be.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ze?function(){try{ze()}catch(G){be.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},4004:(vt,Ne,F)=>{F.d(Ne,{U:()=>P});var o=F(4482),V=F(5403);function P(le,be){return(0,o.e)((he,ze)=>{let Ce=0;he.subscribe((0,V.x)(ze,Ue=>{ze.next(le.call(be,Ue,Ce++))}))})}},8189:(vt,Ne,F)=>{F.d(Ne,{J:()=>P});var o=F(5577),V=F(4671);function P(le=1/0){return(0,o.z)(V.y,le)}},5577:(vt,Ne,F)=>{F.d(Ne,{z:()=>Ce});var o=F(4004),V=F(8421),P=F(4482),le=F(9672),be=F(5403),ze=F(576);function Ce(Ue,z,G=1/0){return(0,ze.m)(z)?Ce((J,qe)=>(0,o.U)((Fe,tt)=>z(J,Fe,qe,tt))((0,V.Xf)(Ue(J,qe))),G):("number"==typeof z&&(G=z),(0,P.e)((J,qe)=>function he(Ue,z,G,J,qe,Fe,tt,dt){const ie=[];let Me=0,Ee=0,Pe=!1;const xe=()=>{Pe&&!ie.length&&!Me&&z.complete()},ve=$e=>Me<J?Te($e):ie.push($e),Te=$e=>{Fe&&z.next($e),Me++;let X=!1;(0,V.Xf)(G($e,Ee++)).subscribe((0,be.x)(z,ne=>{qe?.(ne),Fe?ve(ne):z.next(ne)},()=>{X=!0},void 0,()=>{if(X)try{for(Me--;ie.length&&Me<J;){const ne=ie.shift();tt?(0,le.f)(z,tt,()=>Te(ne)):Te(ne)}xe()}catch(ne){z.error(ne)}}))};return Ue.subscribe((0,be.x)(z,ve,()=>{Pe=!0,xe()})),()=>{dt?.()}}(J,qe,Ue,G)))}},5363:(vt,Ne,F)=>{F.d(Ne,{Q:()=>le});var o=F(9672),V=F(4482),P=F(5403);function le(be,he=0){return(0,V.e)((ze,Ce)=>{ze.subscribe((0,P.x)(Ce,Ue=>(0,o.f)(Ce,be,()=>Ce.next(Ue),he),()=>(0,o.f)(Ce,be,()=>Ce.complete(),he),Ue=>(0,o.f)(Ce,be,()=>Ce.error(Ue),he)))})}},3099:(vt,Ne,F)=>{F.d(Ne,{B:()=>be});var o=F(8421),V=F(7579),P=F(930),le=F(4482);function be(ze={}){const{connector:Ce=(()=>new V.x),resetOnError:Ue=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=ze;return J=>{let qe,Fe,tt,dt=0,ie=!1,Me=!1;const Ee=()=>{Fe?.unsubscribe(),Fe=void 0},Pe=()=>{Ee(),qe=tt=void 0,ie=Me=!1},xe=()=>{const ve=qe;Pe(),ve?.unsubscribe()};return(0,le.e)((ve,Te)=>{dt++,!Me&&!ie&&Ee();const $e=tt=tt??Ce();Te.add(()=>{dt--,0===dt&&!Me&&!ie&&(Fe=he(xe,G))}),$e.subscribe(Te),!qe&&dt>0&&(qe=new P.Hp({next:X=>$e.next(X),error:X=>{Me=!0,Ee(),Fe=he(Pe,Ue,X),$e.error(X)},complete:()=>{ie=!0,Ee(),Fe=he(Pe,z),$e.complete()}}),(0,o.Xf)(ve).subscribe(qe))})(J)}}function he(ze,Ce,...Ue){if(!0===Ce)return void ze();if(!1===Ce)return;const z=new P.Hp({next:()=>{z.unsubscribe(),ze()}});return(0,o.Xf)(Ce(...Ue)).subscribe(z)}},9468:(vt,Ne,F)=>{F.d(Ne,{R:()=>V});var o=F(4482);function V(P,le=0){return(0,o.e)((be,he)=>{he.add(P.schedule(()=>be.subscribe(he),le))})}},3410:(vt,Ne,F)=>{F.d(Ne,{z:()=>o});const o={setTimeout(V,P,...le){const{delegate:be}=o;return be?.setTimeout?be.setTimeout(V,P,...le):setTimeout(V,P,...le)},clearTimeout(V){const{delegate:P}=o;return(P?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(vt,Ne,F)=>{F.d(Ne,{h:()=>V});const V=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ne,F)=>{F.d(Ne,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Ne,F)=>{F.d(Ne,{_6:()=>he,jO:()=>le,yG:()=>be});var o=F(576),V=F(3532);function P(ze){return ze[ze.length-1]}function le(ze){return(0,o.m)(P(ze))?ze.pop():void 0}function be(ze){return(0,V.K)(P(ze))?ze.pop():void 0}function he(ze,Ce){return"number"==typeof P(ze)?ze.pop():Ce}},8737:(vt,Ne,F)=>{function o(V,P){if(V){const le=V.indexOf(P);0<=le&&V.splice(le,1)}}F.d(Ne,{P:()=>o})},3888:(vt,Ne,F)=>{function o(V){const le=V(be=>{Error.call(be),be.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Ne,{d:()=>o})},2806:(vt,Ne,F)=>{F.d(Ne,{O:()=>le,x:()=>P});var o=F(2416);let V=null;function P(be){if(o.v.useDeprecatedSynchronousErrorHandling){const he=!V;if(he&&(V={errorThrown:!1,error:null}),be(),he){const{errorThrown:ze,error:Ce}=V;if(V=null,ze)throw Ce}}else be()}function le(be){o.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=be)}},9672:(vt,Ne,F)=>{function o(V,P,le,be=0,he=!1){const ze=P.schedule(function(){le(),he?V.add(this.schedule(null,be)):this.unsubscribe()},be);if(V.add(ze),!he)return ze}F.d(Ne,{f:()=>o})},4671:(vt,Ne,F)=>{function o(V){return V}F.d(Ne,{y:()=>o})},1144:(vt,Ne,F)=>{F.d(Ne,{z:()=>o});const o=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(vt,Ne,F)=>{F.d(Ne,{D:()=>V});var o=F(576);function V(P){return Symbol.asyncIterator&&(0,o.m)(P?.[Symbol.asyncIterator])}},576:(vt,Ne,F)=>{function o(V){return"function"==typeof V}F.d(Ne,{m:()=>o})},3670:(vt,Ne,F)=>{F.d(Ne,{c:()=>P});var o=F(8822),V=F(576);function P(le){return(0,V.m)(le[o.L])}},6495:(vt,Ne,F)=>{F.d(Ne,{T:()=>P});var o=F(2202),V=F(576);function P(le){return(0,V.m)(le?.[o.h])}},8239:(vt,Ne,F)=>{F.d(Ne,{t:()=>V});var o=F(576);function V(P){return(0,o.m)(P?.then)}},3260:(vt,Ne,F)=>{F.d(Ne,{L:()=>le,Q:()=>P});var o=F(655),V=F(576);function P(be){return(0,o.FC)(this,arguments,function*(){const ze=be.getReader();try{for(;;){const{value:Ce,done:Ue}=yield(0,o.qq)(ze.read());if(Ue)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ce)}}finally{ze.releaseLock()}})}function le(be){return(0,V.m)(be?.getReader)}},3532:(vt,Ne,F)=>{F.d(Ne,{K:()=>V});var o=F(576);function V(P){return P&&(0,o.m)(P.schedule)}},4482:(vt,Ne,F)=>{F.d(Ne,{A:()=>V,e:()=>P});var o=F(576);function V(le){return(0,o.m)(le?.lift)}function P(le){return be=>{if(V(be))return be.lift(function(he){try{return le(he,this)}catch(ze){this.error(ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Ne,F)=>{function o(){}F.d(Ne,{Z:()=>o})},9635:(vt,Ne,F)=>{F.d(Ne,{U:()=>P,z:()=>V});var o=F(4671);function V(...le){return P(le)}function P(le){return 0===le.length?o.y:1===le.length?le[0]:function(he){return le.reduce((ze,Ce)=>Ce(ze),he)}}},7849:(vt,Ne,F)=>{F.d(Ne,{h:()=>P});var o=F(2416),V=F(3410);function P(le){V.z.setTimeout(()=>{const{onUnhandledError:be}=o.v;if(!be)throw le;be(le)})}},4532:(vt,Ne,F)=>{function o(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ne,{z:()=>o})},655:(vt,Ne,F)=>{function le(oe,de){var pe={};for(var Ie in oe)Object.prototype.hasOwnProperty.call(oe,Ie)&&de.indexOf(Ie)<0&&(pe[Ie]=oe[Ie]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Ie=Object.getOwnPropertySymbols(oe);Be<Ie.length;Be++)de.indexOf(Ie[Be])<0&&Object.prototype.propertyIsEnumerable.call(oe,Ie[Be])&&(pe[Ie[Be]]=oe[Ie[Be]])}return pe}function J(oe,de,pe,Ie){return new(pe||(pe=Promise))(function(Ve,it){function st(wt){try{Tt(Ie.next(wt))}catch(ot){it(ot)}}function Dn(wt){try{Tt(Ie.throw(wt))}catch(ot){it(ot)}}function Tt(wt){wt.done?Ve(wt.value):function Be(Ve){return Ve instanceof pe?Ve:new pe(function(it){it(Ve)})}(wt.value).then(st,Dn)}Tt((Ie=Ie.apply(oe,de||[])).next())})}function xe(oe){return this instanceof xe?(this.v=oe,this):new xe(oe)}function ve(oe,de,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Ie=pe.apply(oe,de||[]),Ve=[];return Be={},it("next"),it("throw"),it("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function it(rn){Ie[rn]&&(Be[rn]=function(Rn){return new Promise(function(Xn,on){Ve.push([rn,Rn,Xn,on])>1||st(rn,Rn)})})}function st(rn,Rn){try{!function Dn(rn){rn.value instanceof xe?Promise.resolve(rn.value.v).then(Tt,wt):ot(Ve[0][2],rn)}(Ie[rn](Rn))}catch(Xn){ot(Ve[0][3],Xn)}}function Tt(rn){st("next",rn)}function wt(rn){st("throw",rn)}function ot(rn,Rn){rn(Rn),Ve.shift(),Ve.length&&st(Ve[0][0],Ve[0][1])}}function $e(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,de=oe[Symbol.asyncIterator];return de?de.call(oe):(oe=function dt(oe){var de="function"==typeof Symbol&&Symbol.iterator,pe=de&&oe[de],Ie=0;if(pe)return pe.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ie>=oe.length&&(oe=void 0),{value:oe&&oe[Ie++],done:!oe}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),pe={},Ie("next"),Ie("throw"),Ie("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function Ie(Ve){pe[Ve]=oe[Ve]&&function(it){return new Promise(function(st,Dn){!function Be(Ve,it,st,Dn){Promise.resolve(Dn).then(function(Tt){Ve({value:Tt,done:st})},it)}(st,Dn,(it=oe[Ve](it)).done,it.value)})}}}F.d(Ne,{FC:()=>ve,KL:()=>$e,_T:()=>le,mG:()=>J,qq:()=>xe})},4650:(vt,Ne,F)=>{F.d(Ne,{$8M:()=>_g,$WT:()=>Bo,$Z:()=>ET,AFp:()=>Sf,ALo:()=>e_,AaK:()=>Ce,BQk:()=>Wc,CHM:()=>qy,CRH:()=>CM,CZH:()=>m_,CqO:()=>HT,D6c:()=>Ub,DdM:()=>sD,EJc:()=>H2,EpF:()=>fm,F$t:()=>WT,F4k:()=>$T,FYo:()=>Mc,FiY:()=>bo,Gf:()=>wM,GfV:()=>KC,Gpc:()=>G,Hsn:()=>pm,Ikx:()=>pf,JOm:()=>ns,Jzz:()=>g1,KtG:()=>Zy,LFG:()=>We,LMc:()=>sO,LSH:()=>Mv,Lbi:()=>kM,Lck:()=>sM,MAs:()=>VT,MGl:()=>gm,MMx:()=>Km,MR2:()=>hN,MT6:()=>Dm,NdJ:()=>lf,OlP:()=>vn,Oqu:()=>Zc,P3R:()=>BC,PXZ:()=>Rf,Q6J:()=>ca,QGY:()=>_0,Qsj:()=>YC,QtT:()=>Gm,R0b:()=>ks,RDi:()=>eN,Rgc:()=>no,SBq:()=>rl,SDv:()=>Z1,Sil:()=>G2,Suo:()=>EM,TTD:()=>Wu,TgZ:()=>yu,Tol:()=>e1,Udp:()=>bm,VKq:()=>oD,W1O:()=>Ef,WLB:()=>bf,X6Q:()=>li,XFs:()=>ue,Xpm:()=>Ia,Xts:()=>xv,Y36:()=>kc,YKP:()=>qm,YNc:()=>p0,Yjl:()=>Pl,Yz7:()=>ot,Z0I:()=>on,ZZ4:()=>ld,_Bn:()=>Wm,_UZ:()=>af,_Vd:()=>Rc,_c5:()=>QD,_uU:()=>o1,aQg:()=>Lf,c2e:()=>kD,cJS:()=>Rn,cg1:()=>x0,dDg:()=>ZM,dqk:()=>Dt,eFA:()=>xo,ekj:()=>A0,eoX:()=>Ib,f3M:()=>ct,g9A:()=>xD,h0i:()=>Xc,hGG:()=>XD,hij:()=>Ao,iGM:()=>gD,ifc:()=>Ae,ip1:()=>OD,jDz:()=>No,kEZ:()=>aD,kL8:()=>w1,lG2:()=>jp,lcZ:()=>t_,lqb:()=>ou,lri:()=>WM,n5z:()=>ph,oAB:()=>Sa,oxw:()=>zT,pQV:()=>K0,q4F:()=>JC,qLn:()=>zh,qOj:()=>la,qZA:()=>zc,rWj:()=>qM,s9C:()=>uf,sBO:()=>jD,s_b:()=>Jr,soG:()=>Nf,tb:()=>PD,tp0:()=>us,uIk:()=>rf,vHH:()=>ie,vpe:()=>to,wAp:()=>Nt,xp6:()=>cT,ynx:()=>dl,z2F:()=>C_,zSh:()=>Nc,zs3:()=>uu});var o=F(7579),V=F(727),P=F(9751),le=F(6451),be=F(3099);function he(a){for(let l in a)if(a[l]===he)return l;throw Error("Could not find renamed property on target object.")}function ze(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function Ce(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Ce).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function Ue(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const z=he({__forward_ref__:he});function G(a){return a.__forward_ref__=G,a.toString=function(){return Ce(this())},a}function J(a){return qe(a)?a():a}function qe(a){return"function"==typeof a&&a.hasOwnProperty(z)&&a.__forward_ref__===G}function Fe(a){return a&&!!a.\u0275providers}const dt="https://g.co/ng/security#xss";class ie extends Error{constructor(l,c){super(function Me(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function Ee(a){return"string"==typeof a?a:null==a?"":String(a)}function $e(a,l){throw new ie(-201,!1)}function st(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function ot(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Rn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Xn(a){return er(a,te)||er(a,re)}function on(a){return null!==Xn(a)}function er(a,l){return a.hasOwnProperty(l)?a[l]:null}function xr(a){return a&&(a.hasOwnProperty(K)||a.hasOwnProperty(_e))?a[K]:null}const te=he({\u0275prov:he}),K=he({\u0275inj:he}),re=he({ngInjectableDef:he}),_e=he({ngInjectorDef:he});var ue=(()=>((ue=ue||{})[ue.Default=0]="Default",ue[ue.Host=1]="Host",ue[ue.Self=2]="Self",ue[ue.SkipSelf=4]="SkipSelf",ue[ue.Optional=8]="Optional",ue))();let Ke;function Ft(a){const l=Ke;return Ke=a,l}function Pt(a,l,c){const d=Xn(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ue.Optional?null:void 0!==l?l:void $e(Ce(a))}const Dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),pn={},In="__NG_DI_FLAG__",cn="ngTempTokenPath",Oi=/\n/gm,Ji="__source";let Zt;function xi(a){const l=Zt;return Zt=a,l}function wr(a,l=ue.Default){if(void 0===Zt)throw new ie(-203,!1);return null===Zt?Pt(a,void 0,l):Zt.get(a,l&ue.Optional?null:void 0,l)}function We(a,l=ue.Default){return(function fn(){return Ke}()||wr)(J(a),l)}function ct(a,l=ue.Default){return We(a,St(l))}function St(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function xt(a){const l=[];for(let c=0;c<a.length;c++){const d=J(a[c]);if(Array.isArray(d)){if(0===d.length)throw new ie(900,!1);let f,g=ue.Default;for(let v=0;v<d.length;v++){const C=d[v],T=H(C);"number"==typeof T?-1===T?f=C.token:g|=T:f=C}l.push(We(f,g))}else l.push(We(d))}return l}function Xt(a,l){return a[In]=l,a.prototype[In]=l,a}function H(a){return a[In]}function U(a){return{toString:a}.toString()}var M=(()=>((M=M||{})[M.OnPush=0]="OnPush",M[M.Default=1]="Default",M))(),Ae=(()=>{return(a=Ae||(Ae={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ae;var a})();const _t={},Je=[],Ut=he({\u0275cmp:he}),Et=he({\u0275dir:he}),Mn=he({\u0275pipe:he}),Er=he({\u0275mod:he}),Bt=he({\u0275fac:he}),jr=he({__NG_ELEMENT_ID__:he});let Bu=0;function Ia(a){return U(()=>{const c=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Je,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Ae.Emulated,id:"c"+Bu++,styles:a.styles||Je,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=a.dependencies,v=a.features;return f.inputs=Yd(a.inputs,d),f.outputs=Yd(a.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map($p).filter(Pr):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(Gr).filter(Pr):null,f})}function $p(a){return an(a)||Vn(a)}function Pr(a){return null!==a}function Sa(a){return U(()=>({type:a.type,bootstrap:a.bootstrap||Je,declarations:a.declarations||Je,imports:a.imports||Je,exports:a.exports||Je,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Yd(a,l){if(null==a)return _t;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,l&&(l[f]=g)}return c}const jp=Ia;function Pl(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function an(a){return a[Ut]||null}function Vn(a){return a[Et]||null}function Gr(a){return a[Mn]||null}function Bo(a){const l=an(a)||Vn(a)||Gr(a);return null!==l&&l.standalone}function ei(a,l){const c=a[Er]||null;if(!c&&!0===l)throw new Error(`Type ${Ce(a)} does not have '\u0275mod' property.`);return c}function Fi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Li(a){return Array.isArray(a)&&!0===a[1]}function js(a){return 0!=(4&a.flags)}function kl(a){return a.componentOffset>-1}function Gu(a){return 1==(1&a.flags)}function ti(a){return null!==a.template}function QE(a){return 0!=(256&a[2])}function jo(a,l){return a.hasOwnProperty(Bt)?a[Bt]:null}class nC{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Wu(){return qu}function qu(a){return a.type.prototype.ngOnChanges&&(a.setInput=Bl),Qd}function Qd(){const a=Kp(this),l=a?.current;if(l){const c=a.previous;if(c===_t)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Bl(a,l,c,d){const f=this.declaredInputs[c],g=Kp(a)||function Yu(a,l){return a[Zu]=l}(a,{previous:_t,current:null}),v=g.current||(g.current={}),C=g.previous,T=C[f];v[f]=new nC(T&&T.currentValue,l,C===_t),a[d]=l}Wu.ngInherit=!0;const Zu="__ngSimpleChanges__";function Kp(a){return a[Zu]||null}function hr(a){for(;Array.isArray(a);)a=a[0];return a}function Ma(a,l){return hr(l[a])}function zr(a,l){return hr(l[a.index])}function Jp(a,l){return a.data[l]}function Go(a,l){return a[l]}function Wr(a,l){const c=l[a];return Fi(c)?c:c[0]}function zo(a){return 64==(64&a[2])}function zs(a,l){return null==l?null:a[l]}function Qp(a){a[18]=0}function $l(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Vt={lFrame:Xy(null),bindingsEnabled:!0};function Xp(){return Vt.bindingsEnabled}function fe(){return Vt.lFrame.lView}function en(){return Vt.lFrame.tView}function qy(a){return Vt.lFrame.contextLView=a,a[8]}function Zy(a){return Vt.lFrame.contextLView=null,a}function Dr(){let a=Yy();for(;null!==a&&64===a.type;)a=a.parent;return a}function Yy(){return Vt.lFrame.currentTNode}function Oa(){const a=Vt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function As(a,l){const c=Vt.lFrame;c.currentTNode=a,c.isParent=l}function Xu(){return Vt.lFrame.isParent}function tg(){Vt.lFrame.isParent=!1}function ni(){const a=Vt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ui(){return Vt.lFrame.bindingIndex}function Wo(){return Vt.lFrame.bindingIndex++}function go(a){const l=Vt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function tc(a){Vt.lFrame.inI18n=a}function ig(a,l){const c=Vt.lFrame;c.bindingIndex=c.bindingRootIndex=a,mo(l)}function mo(a){Vt.lFrame.currentDirectiveIndex=a}function Jy(){return Vt.lFrame.currentQueryIndex}function sg(a){Vt.lFrame.currentQueryIndex=a}function sC(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Qy(a,l,c){if(c&ue.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||c&ue.Host||(f=sC(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=Vt.lFrame=oC();return d.currentTNode=l,d.lView=a,!0}function og(a){const l=oC(),c=a[1];Vt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function oC(){const a=Vt.lFrame,l=null===a?null:a.child;return null===l?Xy(a):l}function Xy(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function ev(){const a=Vt.lFrame;return Vt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const tv=ev;function nv(){const a=ev();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function mi(){return Vt.lFrame.selectedIndex}function Ws(a){Vt.lFrame.selectedIndex=a}function bn(){const a=Vt.lFrame;return Jp(a.tView,a.selectedIndex)}function jl(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:I,ngOnDestroy:R}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),T&&(a.viewHooks||(a.viewHooks=[])).push(-c,T),I&&((a.viewHooks||(a.viewHooks=[])).push(c,I),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,I)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(c,R)}}function sh(a,l,c){ka(a,l,3,c)}function qo(a,l,c,d){(3&a[2])===c&&ka(a,l,c,d)}function Pa(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function ka(a,l,c,d){const g=d??-1,v=l.length-1;let C=0;for(let T=void 0!==d?65535&a[18]:0;T<v;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=d&&C>=d)break}else l[T]<0&&(a[18]+=65536),(C<g||-1==g)&&(rv(a,c,l,T),a[18]=(4294901760&a[18])+T+2),T++}function rv(a,l,c,d){const f=c[d]<0,g=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class nc{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function rc(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],v=c[d++],C=c[d++];a.setAttribute(l,v,C,g)}else{const g=f,v=c[++d];lh(g)?a.setProperty(l,g,v):a.setAttribute(l,g,v),d++}}return d}function yo(a){return 3===a||4===a||6===a}function lh(a){return 64===a.charCodeAt(0)}function Zs(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||ic(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function ic(a,l,c,d,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function uh(a){return-1!==a}function Fa(a){return 32767&a}function Zo(a,l){let c=function sv(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let sc=!0;function vo(a){const l=sc;return sc=a,l}let oc=0;const es={};function Yo(a,l){const c=cg(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,ac(d.data,a),ac(l,null),ac(d.blueprint,null));const f=dh(a,l),g=a.injectorIndex;if(uh(f)){const v=Fa(f),C=Zo(f,l),T=C[1].data;for(let I=0;I<8;I++)l[g+I]=C[v+I]|T[v+I]}return l[g+8]=f,g}function ac(a,l){a.push(0,0,0,0,0,0,0,0,l)}function cg(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function dh(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=mg(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function hh(a,l,c){!function ug(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(jr)&&(d=c[jr]),null==d&&(d=c[jr]=oc++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function hg(a,l,c){if(c&ue.Optional||void 0!==a)return a;$e()}function fg(a,l,c,d){if(c&ue.Optional&&void 0===d&&(d=null),!(c&(ue.Self|ue.Host))){const f=a[9],g=Ft(void 0);try{return f?f.get(l,d,c&ue.Optional):Pt(l,d,c&ue.Optional)}finally{Ft(g)}}return hg(d,0,c)}function lc(a,l,c,d=ue.Default,f){if(null!==a){if(1024&l[2]){const v=function gg(a,l,c,d,f){let g=a,v=l;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=fh(g,v,c,d|ue.Self,es);if(C!==es)return C;let T=g.parent;if(!T){const I=v[21];if(I){const R=I.get(c,es,d);if(R!==es)return R}T=mg(v),v=v[15]}g=T}return f}(a,l,c,d,es);if(v!==es)return v}const g=fh(a,l,c,d,es);if(g!==es)return g}return fg(l,c,d,f)}function fh(a,l,c,d,f){const g=function ov(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(jr)?a[jr]:void 0;return"number"==typeof l?l>=0?255&l:av:l}(c);if("function"==typeof g){if(!Qy(l,a,d))return d&ue.Host?hg(f,0,d):fg(l,c,d,f);try{const v=g(d);if(null!=v||d&ue.Optional)return v;$e()}finally{tv()}}else if("number"==typeof g){let v=null,C=cg(a,l),T=-1,I=d&ue.Host?l[16][6]:null;for((-1===C||d&ue.SkipSelf)&&(T=-1===C?dh(a,l):l[C+8],-1!==T&&Wl(d,!1)?(v=l[1],C=Fa(T),l=Zo(T,l)):C=-1);-1!==C;){const R=l[1];if(pg(g,C,R.data)){const k=fC(C,l,c,v,d,I);if(k!==es)return k}T=l[C+8],-1!==T&&Wl(d,l[1].data[C+8]===I)&&pg(g,C,l)?(v=R,C=Fa(T),l=Zo(T,l)):C=-1}}return f}function fC(a,l,c,d,f,g){const v=l[1],C=v.data[a+8],R=Ua(C,v,c,null==d?kl(C)&&sc:d!=v&&0!=(3&C.type),f&ue.Host&&g===C);return null!==R?Ko(l,v,R,C):es}function Ua(a,l,c,d,f){const g=a.providerIndexes,v=l.data,C=1048575&g,T=a.directiveStart,R=g>>20,W=f?C+R:a.directiveEnd;for(let ee=d?C:C+R;ee<W;ee++){const ge=v[ee];if(ee<T&&c===ge||ee>=T&&ge.type===c)return ee}if(f){const ee=v[T];if(ee&&ti(ee)&&ee.type===c)return T}return null}function Ko(a,l,c,d){let f=a[c];const g=l.data;if(function oh(a){return a instanceof nc}(f)){const v=f;v.resolving&&function xe(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ie(-200,`Circular dependency in DI detected for ${a}${c}`)}(function Pe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ee(a)}(g[c]));const C=vo(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Ft(v.injectImpl):null;Qy(a,d,ue.Default);try{f=a[c]=v.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function lg(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const v=qu(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==T&&Ft(T),vo(C),v.resolving=!1,tv()}}return f}function pg(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Wl(a,l){return!(a&ue.Self||a&ue.Host&&l)}class Jo{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return lc(this._tNode,this._lView,l,St(d),c)}}function av(){return new Jo(Dr(),fe())}function ph(a){return U(()=>{const l=a.prototype.constructor,c=l[Bt]||Ba(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[Bt]||Ba(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Ba(a){return qe(a)?()=>{const l=Ba(J(a));return l&&l()}:jo(a)}function mg(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function _g(a){return function dg(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(yo(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===l)return c[f+1];f+=2}}}return null}(Dr(),a)}const ql="__parameters__";function $a(a,l,c){return U(()=>{const d=function gh(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(T,I,R){const k=T.hasOwnProperty(ql)?T[ql]:Object.defineProperty(T,ql,{value:[]})[ql];for(;k.length<=R;)k.push(null);return(k[R]=k[R]||[]).push(v),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class vn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ot({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ea(a,l){a.forEach(c=>Array.isArray(c)?ea(c,l):l(c))}function cv(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function mh(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ja(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function ri(a,l,c){let d=Kt(a,l);return d>=0?a[1|d]=c:(d=~d,function vC(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function bg(a,l){const c=Kt(a,l);if(c>=0)return a[1|c]}function Kt(a,l){return function ft(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=a[g<<c];if(l===v)return g<<c;v>l?f=g:d=g+1}return~(f<<c)}(a,l,1)}const bo=Xt($a("Optional"),8),us=Xt($a("SkipSelf"),4);var ns=(()=>((ns=ns||{})[ns.Important=1]="Important",ns[ns.DashCase=2]="DashCase",ns))();const Ht=/^>|^->|<!--|-->|--!>|<!-$/g,Jl=/(<|>)/;const Ih=new Map;let Sh=0;const Rh="__ngContext__";function Lr(a,l){Fi(l)?(a[Rh]=l[20],function Ah(a){Ih.set(a[20],a)}(l)):a[Rh]=l}let Q;function Se(a,l){return Q(a,l)}function yt(a){const l=a[3];return Li(l)?l[3]:l}function qr(a){return Co(a[13])}function gs(a){return Co(a[4])}function Co(a){for(;null!==a&&!Li(a);)a=a[4];return a}function ra(a,l,c,d,f){if(null!=d){let g,v=!1;Li(d)?g=d:Fi(d)&&(v=!0,d=d[0]);const C=hr(d);0===a&&null!==c?null==f?CC(l,c,C):Ec(l,c,C,f||null,!0):1===a&&null!==c?Ec(l,c,C,f||null,!0):2===a?Xa(l,C,v):3===a&&l.destroyNode(C),null!=g&&function SC(a,l,c,d,f){const g=c[7];g!==hr(c)&&ra(l,a,d,g,f);for(let C=10;C<c.length;C++){const T=c[C];eu(T[1],T,a,l,d,g)}}(l,a,g,c,f)}}function ia(a,l){return a.createText(l)}function Za(a,l,c){a.setValue(l,c)}function Oh(a,l){return a.createComment(function Ys(a){return a.replace(Ht,l=>l.replace(Jl,"\u200b$1\u200b"))}(l))}function Ya(a,l,c){return a.createElement(l,c)}function Mg(a,l){const c=a[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,$l(f,-1)),c.splice(d,1)}function _v(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&Mg(f,d),l>0&&(a[c-1][4]=d[4]);const g=mh(a,10+l);!function Ng(a,l){eu(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function EC(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&eu(a,l,c,3,null,null),function Xl(a){let l=a[13];if(!l)return kh(a[1],a);for(;l;){let c=null;if(Fi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Fi(l)&&kh(l[1],l),l=l[3];null===l&&(l=a),Fi(l)&&kh(l[1],l),c=l&&l[4]}l=c}}(l)}}function kh(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function ZA(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof nc)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],T=g[v+1];try{T.call(C)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function Og(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?d[f=v]():d[f=-v].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&Li(l[3])){c!==l[3]&&Mg(c,l);const d=l[19];null!==d&&d.detachView(a)}!function bc(a){Ih.delete(a[20])}(l)}}function Ka(a,l,c){return xg(a,l.parent,c)}function xg(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:g}=a.data[d.directiveStart+f];if(g===Ae.None||g===Ae.Emulated)return null}return zr(d,c)}}function Ec(a,l,c,d,f){a.insertBefore(l,c,d,f)}function CC(a,l,c){a.appendChild(l,c)}function TC(a,l,c,d,f){null!==d?Ec(a,l,c,d,f):CC(a,l,c)}function Ja(a,l){return a.parentNode(l)}function yv(a,l,c){return bv(a,l,c)}function vv(a,l,c){return 40&a.type?zr(a,c):null}let Qa,tu,Cv,Ug,bv=vv;function DC(a,l){bv=a,Qa=l}function kg(a,l,c,d){const f=Ka(a,d,l),g=l[11],C=yv(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)TC(g,f,c[T],C,!1);else TC(g,f,c,C,!1);void 0!==Qa&&Qa(g,d,l,c,f)}function Fh(a,l){if(null!==l){const c=l.type;if(3&c)return zr(l,a);if(4&c)return Lh(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Fh(a,d);{const f=a[l.index];return Li(f)?Lh(-1,f):hr(f)}}if(32&c)return Se(l,a)()||hr(a[l.index]);{const d=IC(a,l);return null!==d?Array.isArray(d)?d[0]:Fh(yt(a[16]),d):Fh(a,l.next)}}return null}function IC(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Lh(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Fh(d,f)}return l[7]}function Xa(a,l,c){const d=Ja(a,l);d&&function YA(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}function wv(a,l,c,d,f,g,v){for(;null!=c;){const C=d[c.index],T=c.type;if(v&&0===l&&(C&&Lr(hr(C),d),c.flags|=2),32!=(32&c.flags))if(8&T)wv(a,l,c.child,d,f,g,!1),ra(l,a,f,C,g);else if(32&T){const I=Se(c,d);let R;for(;R=I();)ra(l,a,f,R,g);ra(l,a,f,C,g)}else 16&T?Ev(a,l,d,c,f,g):ra(l,a,f,C,g);c=v?c.projectionNext:c.next}}function eu(a,l,c,d,f,g){wv(c,d,a.firstChild,l,f,g,!1)}function Ev(a,l,c,d,f,g){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let I=0;I<T.length;I++)ra(l,a,f,T[I],g);else wv(a,l,T,v[3],f,g,!0)}function Fg(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function el(a,l,c){const{mergedAttrs:d,classes:f,styles:g}=c;null!==d&&rc(a,l,d),null!==f&&Fg(a,l,f),null!==g&&function To(a,l,c){a.setAttribute(l,"style",c)}(a,l,g)}function tl(a){return function Lg(){if(void 0===tu&&(tu=null,Dt.trustedTypes))try{tu=Dt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return tu}()?.createHTML(a)||a}function eN(a){Cv=a}function Iv(a){return function Tv(){if(void 0===Ug&&(Ug=null,Dt.trustedTypes))try{Ug=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Ug}()?.createScriptURL(a)||a}class RC{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}function Do(a){return a instanceof RC?a.changingThisBreaksApplicationSecurity:a}function nu(a,l){const c=function sa(a){return a instanceof RC&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see ${dt})`)}return c===l}class sN{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(tl(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class Bg{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=tl(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=tl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Av=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Vg(a){return(a=String(a)).match(Av)?a:"unsafe:"+a}function Ks(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function ru(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const xC=Ks("area,br,col,hr,img,wbr"),Tc=Ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PC=Ks("rp,rt"),$g=ru(xC,ru(Tc,Ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ru(PC,Ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ru(PC,Tc)),Hg=Ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dc=ru(Hg,Ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Ur=(()=>((Ur=Ur||{})[Ur.NONE=0]="NONE",Ur[Ur.HTML=1]="HTML",Ur[Ur.STYLE=2]="STYLE",Ur[Ur.SCRIPT=3]="SCRIPT",Ur[Ur.URL=4]="URL",Ur[Ur.RESOURCE_URL=5]="RESOURCE_URL",Ur))();function Mv(a){const l=nl();return l?l.sanitize(Ur.URL,a)||"":nu(a,"URL")?Do(a):Vg(Ee(a))}function LC(a){const l=nl();if(l)return Iv(l.sanitize(Ur.RESOURCE_URL,a)||"");if(nu(a,"ResourceURL"))return Iv(Do(a));throw new ie(904,!1)}function BC(a,l,c){return function jh(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?LC:Mv}(l,c)(a)}function nl(){const a=fe();return a&&a[12]}const xv=new vn("ENVIRONMENT_INITIALIZER"),VC=new vn("INJECTOR",-1),iu=new vn("INJECTOR_DEF_TYPES");class Ic{get(l,c=pn){if(c===pn){const d=new Error(`NullInjectorError: No provider for ${Ce(l)}!`);throw d.name="NullInjectorError",d}return c}}function hN(a){return{\u0275providers:a}}function fN(...a){return{\u0275providers:Sc(0,a),\u0275fromNgModule:!0}}function Sc(a,...l){const c=[],d=new Set;let f;return ea(l,g=>{const v=g;Pv(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&Ac(f,c),c}function Ac(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];kv(f,g=>{l.push(g)})}}function Pv(a,l,c,d){if(!(a=J(a)))return!1;let f=null,g=xr(a);const v=!g&&an(a);if(g||v){if(v&&!v.standalone)return!1;f=a}else{const T=a.ngModule;if(g=xr(T),!g)return!1;f=T}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const I of T)Pv(I,l,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let I;d.add(f);try{ea(g.imports,R=>{Pv(R,l,c,d)&&(I||(I=[]),I.push(R))})}finally{}void 0!==I&&Ac(I,l)}if(!C){const I=jo(f)||(()=>new f);l.push({provide:f,useFactory:I,deps:Je},{provide:iu,useValue:f,multi:!0},{provide:xv,useValue:()=>We(f),multi:!0})}const T=g.providers;null==T||C||kv(T,R=>{l.push(R)})}}return f!==a&&void 0!==a.providers}function kv(a,l){for(let c of a)Fe(c)&&(c=c.\u0275providers),Array.isArray(c)?kv(c,l):l(c)}const pN=he({provide:String,useValue:he});function Fv(a){return null!==a&&"object"==typeof a&&pN in a}function su(a){return"function"==typeof a}const Nc=new vn("Set Injector scope."),oa={},mN={};let Uv;function Gg(){return void 0===Uv&&(Uv=new Ic),Uv}class ou{}class HC extends ou{get destroyed(){return this._destroyed}constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gh(l,v=>this.processProvider(v)),this.records.set(VC,au(void 0,this)),f.has("environment")&&this.records.set(ou,au(void 0,this));const g=this.records.get(Nc);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(iu.multi,Je,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=xi(this),d=Ft(void 0);try{return l()}finally{xi(c),Ft(d)}}get(l,c=pn,d=ue.Default){this.assertNotDestroyed(),d=St(d);const f=xi(this),g=Ft(void 0);try{if(!(d&ue.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function GC(a){return"function"==typeof a||"object"==typeof a&&a instanceof vn}(l)&&Xn(l);C=T&&this.injectableDefInScope(T)?au(Bv(l),oa):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&ue.Self?Gg():this.parent).get(l,c=d&ue.Optional&&c===pn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[cn]=v[cn]||[]).unshift(Ce(l)),f)throw v;return function B(a,l,c,d){const f=a[cn];throw l[Ji]&&f.unshift(l[Ji]),a.message=function q(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=Ce(l);if(Array.isArray(l))f=l.map(Ce).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):Ce(C)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(Oi,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[cn]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Ft(g),xi(f)}}resolveInjectorInitializers(){const l=xi(this),c=Ft(void 0);try{const d=this.get(xv.multi,Je,ue.Self);for(const f of d)f()}finally{xi(l),Ft(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(Ce(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(l){let c=su(l=J(l))?l:J(l&&l.provide);const d=function yN(a){return Fv(a)?au(void 0,a.useValue):au(jC(a),oa)}(l);if(su(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=au(void 0,oa,!0),f.factory=()=>xt(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===oa&&(c.value=mN,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Vv(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=J(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Bv(a){const l=Xn(a),c=null!==l?l.factory:jo(a);if(null!==c)return c;if(a instanceof vn)throw new ie(204,!1);if(a instanceof Function)return function _N(a){const l=a.length;if(l>0)throw ja(l,"?"),new ie(204,!1);const c=function ur(a){const l=a&&(a[te]||a[re]);if(l){const c=function Mi(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new ie(204,!1)}function jC(a,l,c){let d;if(su(a)){const f=J(a);return jo(f)||Bv(f)}if(Fv(a))d=()=>J(a.useValue);else if(function gN(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...xt(a.deps||[]));else if(function $C(a){return!(!a||!a.useExisting)}(a))d=()=>We(J(a.useExisting));else{const f=J(a&&(a.useClass||a.provide));if(!function vN(a){return!!a.deps}(a))return jo(f)||Bv(f);d=()=>new f(...xt(a.deps))}return d}function au(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Gh(a,l){for(const c of a)Array.isArray(c)?Gh(c,l):c&&Fe(c)?Gh(c.\u0275providers,l):l(c)}class zg{}class zC{}class Wg{resolveComponentFactory(l){throw function bN(a){const l=Error(`No component factory found for ${Ce(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Rc=(()=>{class a{}return a.NULL=new Wg,a})();function qC(){return aa(Dr(),fe())}function aa(a,l){return new rl(zr(a,l))}let rl=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=qC,a})();function ZC(a){return a instanceof rl?a.nativeElement:a}class Mc{}let YC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function wN(){const a=fe(),c=Wr(Dr().index,a);return(Fi(c)?c:a)[11]}(),a})(),EN=(()=>{class a{}return a.\u0275prov=ot({token:a,providedIn:"root",factory:()=>null}),a})();class KC{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const JC=new KC("15.1.4"),$v={};function Hv(a){return a.ngOriginalError}class zh{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Hv(l);for(;c&&Hv(c);)c=Hv(c);return c||null}}function il(a){return a instanceof Function?a():a}function rT(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}c=f+1}}const iT="ng-template";function sT(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==rT(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function Zg(a){return 4===a.type&&a.value!==iT}function NN(a,l,c){return l===(4!==a.type||c?a.value:iT)}function oT(a,l,c){let d=4;const f=a.attrs||[],g=function Yg(a){for(let l=0;l<a.length;l++)if(yo(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!NN(a,T,c)||""===T&&1===l.length){if(vi(d))return!1;v=!0}}else{const I=8&d?T:l[++C];if(8&d&&null!==a.attrs){if(!sT(a.attrs,I,c)){if(vi(d))return!1;v=!0}continue}const k=jv(8&d?"class":T,f,Zg(a),c);if(-1===k){if(vi(d))return!1;v=!0;continue}if(""!==I){let W;W=k>g?"":f[k+1].toLowerCase();const ee=8&d?W:null;if(ee&&-1!==rT(ee,I,0)||2&d&&I!==W){if(vi(d))return!1;v=!0}}}}else{if(!v&&!vi(d)&&!vi(T))return!1;if(v&&vi(T))continue;v=!1,d=T|1&d}}return vi(d)||v}function vi(a){return 0==(1&a)}function jv(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function Kg(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function aT(a,l,c=!1){for(let d=0;d<l.length;d++)if(oT(a,l[d],c))return!0;return!1}function uT(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function Gv(a,l){return a?":not("+l.trim()+")":l}function RN(a){let l=a[0],c=1,d=2,f="",g=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const C=a[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!vi(v)&&(l+=Gv(g,f),f=""),d=v,g=g||!vi(d);c++}return""!==f&&(l+=Gv(g,f)),l}const jt={};function cT(a){Wh(en(),fe(),mi()+a,!1)}function Wh(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&sh(l,g,c)}else{const g=a.preOrderHooks;null!==g&&qo(l,g,0,c)}Ws(c)}function qh(a,l=null,c=null,d){const f=gT(a,l,c,d);return f.resolveInjectorInitializers(),f}function gT(a,l=null,c=null,d,f=new Set){const g=[c||Je,fN(a)];return d=d||("object"==typeof a?void 0:Ce(a)),new HC(g,l||Gg(),d||null,f)}let uu=(()=>{class a{static create(c,d){if(Array.isArray(c))return qh({name:""},d,c,"");{const f=c.name??"";return qh({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=pn,a.NULL=new Ic,a.\u0275prov=ot({token:a,providedIn:"any",factory:()=>We(VC)}),a.__NG_ELEMENT_ID__=-1,a})();function kc(a,l=ue.Default){const c=fe();return null===c?We(a,l):lc(Dr(),c,J(a),l)}function ET(){throw new Error("invalid")}function CT(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const v=a.data[g];sg(c[d]),v.contentQueries(2,l[g],g)}}}function Yv(a,l,c,d,f,g,v,C,T,I,R){const k=l.blueprint.slice();return k[0]=f,k[2]=76|d,(null!==R||a&&1024&a[2])&&(k[2]|=1024),Qp(k),k[3]=k[15]=a,k[8]=c,k[10]=v||a&&a[10],k[11]=C||a&&a[11],k[12]=T||a&&a[12]||null,k[9]=I||a&&a[9]||null,k[6]=g,k[20]=function Ns(){return Sh++}(),k[21]=R,k[16]=2==l.type?a[16]:k,k}function Fc(a,l,c,d,f){let g=a.data[l];if(null===g)g=sl(a,l,c,d,f),function rg(){return Vt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=Oa();g.injectorIndex=null===v?-1:v.injectorIndex}return As(g,!0),g}function sl(a,l,c,d,f){const g=Yy(),v=Xu(),T=a.data[l]=function ZN(a,l,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}function ol(a,l,c,d){if(0===c)return-1;const f=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Kh(a,l,c){og(l);try{const d=a.viewQuery;null!==d&&t0(1,d,c);const f=a.template;null!==f&&rt(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&CT(a,l),a.staticViewQueries&&t0(2,a.viewQuery,c);const g=a.components;null!==g&&function WN(a,l){for(let c=0;c<l.length;c++)a2(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,nv()}}function $(a,l,c,d){const f=l[2];if(128!=(128&f)){og(l);try{Qp(l),function xa(a){return Vt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&rt(a,l,c,2,d);const v=3==(3&f);if(v){const I=a.preOrderCheckHooks;null!==I&&sh(l,I,null)}else{const I=a.preOrderHooks;null!==I&&qo(l,I,0,null),Pa(l,0)}if(function s2(a){for(let l=qr(a);null!==l;l=gs(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d];512&f[2]||$l(f[3],1),f[2]|=512}}}(l),function i2(a){for(let l=qr(a);null!==l;l=gs(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];zo(d)&&$(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&CT(a,l),v){const I=a.contentCheckHooks;null!==I&&sh(l,I)}else{const I=a.contentHooks;null!==I&&qo(l,I,1),Pa(l,1)}!function zN(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Ws(~f);else{const g=f,v=c[++d],C=c[++d];ig(v,g),C(2,l[g])}}}finally{Ws(-1)}}(a,l);const C=a.components;null!==C&&function TT(a,l){for(let c=0;c<l.length;c++)o2(a,l[c])}(l,C);const T=a.viewQuery;if(null!==T&&t0(2,T,d),v){const I=a.viewCheckHooks;null!==I&&sh(l,I)}else{const I=a.viewHooks;null!==I&&qo(l,I,2),Pa(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,$l(l[3],-1))}finally{nv()}}}function rt(a,l,c,d,f){const g=mi(),v=2&d;try{Ws(-1),v&&l.length>22&&Wh(a,l,22,!1),c(d,f)}finally{Ws(g)}}function ii(a,l,c){if(js(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function Yr(a,l,c){Xp()&&(function Ir(a,l,c,d){const f=c.directiveStart,g=c.directiveEnd;kl(c)&&function XN(a,l,c){const d=zr(l,a),f=Xg(c),g=a[10],v=sm(a,Yv(a,f,null,c.onPush?32:16,d,l,g,g.createRenderer(d,c),null,null,null));a[l.index]=v}(l,c,a.data[f+c.componentOffset]),a.firstCreatePass||Yo(c,l),Lr(d,l);const v=c.initialInputs;for(let C=f;C<g;C++){const T=a.data[C],I=Ko(l,a,C,c);Lr(I,l),null!==v&&eR(0,C-f,I,T,0,v),ti(T)&&(Wr(c.index,l)[8]=Ko(l,a,C,c))}}(a,l,c,zr(c,l)),64==(64&c.flags)&&nm(a,l,c))}function Lc(a,l,c=zr){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(l,a):a[v];a[f++]=C}}}function Xg(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Js(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Js(a,l,c,d,f,g,v,C,T,I){const R=22+d,k=R+f,W=function r2(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:jt);return c}(R,k),ee="function"==typeof I?I():I;return W[1]={type:a,blueprint:W,template:c,queries:null,viewQuery:C,declTNode:l,data:W.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ee,incompleteFirstPass:!1}}function DT(a,l,c,d){const f=n0(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&lm(a).push(d,f.length-1))}function IT(a,l,c,d){for(let f in a)if(a.hasOwnProperty(f)){c=null===c?{}:c;const g=a[f];null===d?Kv(c,l,f,g):d.hasOwnProperty(f)&&Kv(c,l,d[f],g)}return c}function Kv(a,l,c,d){a.hasOwnProperty(c)?a[c].push(l,d):a[c]=[l,d]}function Ms(a,l,c,d,f,g,v,C){const T=zr(l,c);let R,I=l.inputs;!C&&null!=I&&(R=I[d])?(um(a,c,R,d,f),kl(l)&&ST(c,l.index)):3&l.type&&(d=function al(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,g.setProperty(T,d,f))}function ST(a,l){const c=Wr(l,a);16&c[2]||(c[2]|=32)}function tm(a,l,c,d){let f=!1;if(Xp()){const g=null===d?null:{"":-1},v=function rm(a,l){const c=a.directiveRegistry;let d=null,f=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(aT(l,v.selectors,!1))if(d||(d=[]),ti(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),d.unshift(...C,v),im(a,l,C.length)}else d.unshift(v),im(a,l,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(a,c);let C,T;null===v?C=T=null:[C,T]=v,null!==C&&(f=!0,Jv(a,l,c,C,g,T)),g&&function Xv(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=c[l[f+1]];if(null==g)throw new ie(-301,!1);d.push(l[f],g)}}}(c,d,g)}return c.mergedAttrs=Zs(c.mergedAttrs,c.attrs),f}function Jv(a,l,c,d,f,g){for(let I=0;I<d.length;I++)hh(Yo(c,l),a,d[I].type);!function AT(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}(c,a.data.length,d.length);for(let I=0;I<d.length;I++){const R=d[I];R.providersResolver&&R.providersResolver(R)}let v=!1,C=!1,T=ol(a,l,d.length,null);for(let I=0;I<d.length;I++){const R=d[I];c.mergedAttrs=Zs(c.mergedAttrs,R.hostAttrs),QN(a,c,l,T,R),e0(T,R,f),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const k=R.type.prototype;!v&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),v=!0),!C&&(k.ngOnChanges||k.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),C=!0),T++}!function em(a,l,c){const f=l.directiveEnd,g=a.data,v=l.attrs,C=[];let T=null,I=null;for(let R=l.directiveStart;R<f;R++){const k=g[R],W=c?c.get(k):null,ge=W?W.outputs:null;T=IT(k.inputs,R,T,W?W.inputs:null),I=IT(k.outputs,R,I,ge);const Ge=null===T||null===v||Zg(l)?null:NT(T,R,v);C.push(Ge)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=8),T.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=C,l.inputs=T,l.outputs=I}(a,c,g)}function nm(a,l,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function iC(){return Vt.lFrame.currentDirectiveIndex}();try{Ws(g);for(let C=d;C<f;C++){const T=a.data[C],I=l[C];mo(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Qv(T,I)}}finally{Ws(-1),mo(v)}}function Qv(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function im(a,l,c){l.componentOffset=c,(a.components||(a.components=[])).push(l.index)}function e0(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;ti(l)&&(c[""]=a)}}function QN(a,l,c,d,f){a.data[d]=f;const g=f.factory||(f.factory=jo(f.type)),v=new nc(g,ti(f),kc);a.blueprint[d]=v,c[d]=v,function JN(a,l,c,d,f){const g=f.hostBindings;if(g){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const C=~l.index;(function Jh(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(v)!=C&&v.push(C),v.push(c,d,g)}}(a,l,d,ol(a,c,f.hostVars,jt),f)}function cu(a,l,c,d,f,g,v){if(null==g)a.removeAttribute(l,f,c);else{const C=null==v?Ee(g):v(g,d||"",f);a.setAttribute(l,f,C,c)}}function eR(a,l,c,d,f,g){const v=g[l];if(null!==v){const C=d.setInput;for(let T=0;T<v.length;){const I=v[T++],R=v[T++],k=v[T++];null!==C?d.setInput(c,k,I,R):c[R]=k}}}function NT(a,l,c){let d=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(a.hasOwnProperty(g)){null===d&&(d=[]);const v=a[g];for(let C=0;C<v.length;C+=2)if(v[C]===l){d.push(g,v[C+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function tR(a,l,c,d){return[a,!0,!1,l,null,0,d,c,null,null]}function o2(a,l){const c=Wr(l,a);if(zo(c)){const d=c[1];48&c[2]?$(d,c,d.template,c[8]):c[5]>0&&RT(c)}}function RT(a){for(let d=qr(a);null!==d;d=gs(d))for(let f=10;f<d.length;f++){const g=d[f];if(zo(g))if(512&g[2]){const v=g[1];$(v,g,v.template,g[8])}else g[5]>0&&RT(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Wr(c[d],a);zo(f)&&f[5]>0&&RT(f)}}function a2(a,l){const c=Wr(l,a),d=c[1];(function nR(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Kh(d,c,c[8])}function sm(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function om(a){for(;a;){a[2]|=32;const l=yt(a);if(QE(a)&&!l)return a;a=l}return null}function am(a,l,c,d=!0){const f=l[10];f.begin&&f.begin();try{$(a,l,a.template,c)}catch(v){throw d&&s0(l,v),v}finally{f.end&&f.end()}}function t0(a,l,c){sg(0),l(a,c)}function n0(a){return a[7]||(a[7]=[])}function lm(a){return a.cleanup||(a.cleanup=[])}function s0(a,l){const c=a[9],d=c?c.get(zh,null):null;d&&d.handleError(l)}function um(a,l,c,d,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],T=l[v],I=a.data[v];null!==I.setInput?I.setInput(T,f,d,C):T[C]=f}}function Qh(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?g=C:1==g?f=Ue(f,C):2==g&&(d=Ue(d,C+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function cm(a,l,c,d,f=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(hr(g)),Li(g))for(let C=10;C<g.length;C++){const T=g[C],I=T[1].firstChild;null!==I&&cm(T[1],T,I,d)}const v=c.type;if(8&v)cm(a,l,c.child,d);else if(32&v){const C=Se(c,l);let T;for(;T=C();)d.push(T)}else if(16&v){const C=IC(l,c);if(Array.isArray(C))d.push(...C);else{const T=yt(l[16]);cm(T[1],T,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class Xh{get rootNodes(){const l=this._lView,c=l[1];return cm(c,l,c.firstChild,[])}constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Li(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(_v(l,d),mh(c,d))}this._attachedToViewContainer=!1}EC(this._lView[1],this._lView)}onDestroy(l){DT(this._lView[1],this._lView,null,l)}markForCheck(){om(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){am(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xh(a,l){eu(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=l}}class u2 extends Xh{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;am(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class rr extends Rc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=an(l);return new Uc(c,this.ngModule)}}function du(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class c2{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){d=St(d);const f=this.injector.get(l,$v,d);return f!==$v||c===$v?f:this.parentInjector.get(l,c,d)}}class Uc extends zC{get inputs(){return du(this.componentDef.inputs)}get outputs(){return du(this.componentDef.outputs)}constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function MN(a){return a.map(RN).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}create(l,c,d,f){let g=(f=f||this.ngModule)instanceof ou?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new c2(l,g):l,C=v.get(Mc,null);if(null===C)throw new ie(407,!1);const T=v.get(EN,null),I=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",k=d?function qN(a,l,c){return a.selectRootElement(l,c===Ae.ShadowDom)}(I,d,this.componentDef.encapsulation):Ya(I,R,function rR(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),W=this.componentDef.onPush?288:272,ee=Js(0,null,null,1,0,null,null,null,null,null),ge=Yv(null,ee,null,W,null,null,C,I,T,v,null);let Ge,Xe;og(ge);try{const pt=this.componentDef;let Mt,Oe=null;pt.findHostDirectiveDefs?(Mt=[],Oe=new Map,pt.findHostDirectiveDefs(pt,Mt,Oe),Mt.push(pt)):Mt=[pt];const Ot=function h2(a,l){const c=a[1];return a[22]=l,Fc(c,22,2,"#host",null)}(ge,k),Gn=function f2(a,l,c,d,f,g,v,C){const T=f[1];!function p2(a,l,c,d){for(const f of a)l.mergedAttrs=Zs(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(Qh(l,l.mergedAttrs,!0),null!==c&&el(d,c,l))}(d,a,l,v);const I=g.createRenderer(l,c),R=Yv(f,Xg(c),null,c.onPush?32:16,f[a.index],a,g,I,C||null,null,null);return T.firstCreatePass&&im(T,a,d.length-1),sm(f,R),f[a.index]=R}(Ot,k,pt,Mt,ge,C,I);Xe=Jp(ee,22),k&&function sR(a,l,c,d){if(d)rc(a,c,["ng-version",JC.full]);else{const{attrs:f,classes:g}=function ON(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&c.push(g);else{if(!vi(f))break;f=g}d++}return{attrs:l,classes:c}}(l.selectors[0]);f&&rc(a,c,f),g&&g.length>0&&Fg(a,c,g.join(" "))}}(I,pt,k,d),void 0!==c&&function m2(a,l,c){const d=a.projection=[];for(let f=0;f<l.length;f++){const g=c[f];d.push(null!=g?Array.from(g):null)}}(Xe,this.ngContentSelectors,c),Ge=function g2(a,l,c,d,f,g){const v=Dr(),C=f[1],T=zr(v,f);Jv(C,f,v,c,null,d);for(let R=0;R<c.length;R++)Lr(Ko(f,C,v.directiveStart+R,v),f);nm(C,f,v),T&&Lr(T,f);const I=Ko(f,C,v.directiveStart+v.componentOffset,v);if(a[8]=f[8]=I,null!==g)for(const R of g)R(I,l);return ii(C,v,a),I}(Gn,pt,Mt,Oe,ge,[_2]),Kh(ee,ge,null)}finally{nv()}return new iR(this.componentType,Ge,aa(Xe,ge),ge,Xe)}}class iR extends zg{constructor(l,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new u2(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const g=this._rootLView;um(g[1],g,f,l,c),ST(g,this._tNode.index)}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function _2(){const a=Dr();jl(fe()[1],a)}function la(a){let l=function o0(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(ti(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ie(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=l0(a.inputs),v.declaredInputs=l0(a.declaredInputs),v.outputs=l0(a.outputs);const C=f.hostBindings;C&&OT(a,C);const T=f.viewQuery,I=f.contentQueries;if(T&&oR(a,T),I&&MT(a,I),ze(a.inputs,f.inputs),ze(a.declaredInputs,f.declaredInputs),ze(a.outputs,f.outputs),ti(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(a),C===la&&(c=!1)}}l=Object.getPrototypeOf(l)}!function a0(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Zs(f.hostAttrs,c=Zs(c,f.hostAttrs))}}(d)}function l0(a){return a===_t?{}:a===Je?[]:a}function oR(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function MT(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,g)=>{l(d,f,g),c(d,f,g)}:l}function OT(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let tf=null;function fu(){if(!tf){const a=Dt.Symbol;if(a&&a.iterator)tf=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(tf=d)}}}return tf}function dm(a){return!!Qs(a)&&(Array.isArray(a)||!(a instanceof Map)&&fu()in a)}function Qs(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Os(a,l,c){return a[l]=c}function Kr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function ua(a,l,c,d){const f=Kr(a,l,c);return Kr(a,l+1,d)||f}function rf(a,l,c,d){const f=fe();return Kr(f,Wo(),l)&&(en(),function Io(a,l,c,d,f,g){const v=zr(a,l);cu(l[11],v,g,a.value,c,d,f)}(bn(),f,a,l,c,d)),rf}function Vc(a,l,c,d){return Kr(a,Wo(),c)?l+Ee(c)+d:jt}function p0(a,l,c,d,f,g,v,C){const T=fe(),I=en(),R=a+22,k=I.firstCreatePass?function BT(a,l,c,d,f,g,v,C,T){const I=l.consts,R=Fc(l,a,4,v||null,zs(I,C));tm(l,c,R,zs(I,T)),jl(l,R);const k=R.tViews=Js(2,R,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,I);return null!==l.queries&&(l.queries.template(l,R),k.queries=l.queries.embeddedTView(R)),R}(R,I,T,l,c,d,f,g,v):I.data[R];As(k,!1);const W=T[11].createComment("");kg(I,T,W,k),Lr(W,T),sm(T,T[R]=tR(W,T,W,k)),Gu(k)&&Yr(I,T,k),null!=v&&Lc(T,k,C)}function VT(a){return Go(function ng(){return Vt.lFrame.contextLView}(),22+a)}function ca(a,l,c){const d=fe();return Kr(d,Wo(),l)&&Ms(en(),bn(),d,a,l,d[11],c,!1),ca}function sf(a,l,c,d,f){const v=f?"class":"style";um(a,c,l.inputs[v],v,d)}function yu(a,l,c,d){const f=fe(),g=en(),v=22+a,C=f[11],T=f[v]=Ya(C,l,function dC(){return Vt.lFrame.currentNamespace}()),I=g.firstCreatePass?function g0(a,l,c,d,f,g,v){const C=l.consts,I=Fc(l,a,2,f,zs(C,g));return tm(l,c,I,zs(C,v)),null!==I.attrs&&Qh(I,I.attrs,!1),null!==I.mergedAttrs&&Qh(I,I.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,I),I}(v,g,f,0,l,c,d):g.data[v];return As(I,!0),el(C,T,I),32!=(32&I.flags)&&kg(g,f,T,I),0===function rh(){return Vt.lFrame.elementDepthCount}()&&Lr(T,f),function zy(){Vt.lFrame.elementDepthCount++}(),Gu(I)&&(Yr(g,f,I),ii(g,I,f)),null!==d&&Lc(f,I),yu}function zc(){let a=Dr();Xu()?tg():(a=a.parent,As(a,!1));const l=a;!function ih(){Vt.lFrame.elementDepthCount--}();const c=en();return c.firstCreatePass&&(jl(c,a),js(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function iv(a){return 0!=(8&a.flags)}(l)&&sf(c,l,fe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function _o(a){return 0!=(16&a.flags)}(l)&&sf(c,l,fe(),l.stylesWithoutHost,!1),zc}function af(a,l,c,d){return yu(a,l,c,d),zc(),af}function dl(a,l,c){const d=fe(),f=en(),g=a+22,v=f.firstCreatePass?function m0(a,l,c,d,f){const g=l.consts,v=zs(g,d),C=Fc(l,a,8,"ng-container",v);return null!==v&&Qh(C,v,!0),tm(l,c,C,zs(g,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,f,d,l,c):f.data[g];As(v,!0);const C=d[g]=d[11].createComment("");return kg(f,d,C,v),Lr(C,d),Gu(v)&&(Yr(f,d,v),ii(f,v,d)),null!=c&&Lc(d,v),dl}function Wc(){let a=Dr();const l=en();return Xu()?tg():(a=a.parent,As(a,!1)),l.firstCreatePass&&(jl(l,a),js(a)&&l.queries.elementEnd(a)),Wc}function fm(){return fe()}function _0(a){return!!a&&"function"==typeof a.then}function $T(a){return!!a&&"function"==typeof a.subscribe}const HT=$T;function lf(a,l,c,d){const f=fe(),g=en(),v=Dr();return function v0(a,l,c,d,f,g,v){const C=Gu(d),I=a.firstCreatePass&&lm(a),R=l[8],k=n0(l);let W=!0;if(3&d.type||v){const Ge=zr(d,l),Xe=v?v(Ge):Ge,pt=k.length,Mt=v?Ot=>v(hr(Ot[d.index])):d.index;let Oe=null;if(!v&&C&&(Oe=function y0(a,l,c,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const C=l[7],T=f[g+2];return C.length>T?C[T]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,d.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=g,Oe.__ngLastListenerFn__=g,W=!1;else{g=GT(d,l,R,g,!1);const Ot=c.listen(Xe,f,g);k.push(g,Ot),I&&I.push(f,Mt,pt,pt+1)}}else g=GT(d,l,R,g,!1);const ee=d.outputs;let ge;if(W&&null!==ee&&(ge=ee[f])){const Ge=ge.length;if(Ge)for(let Xe=0;Xe<Ge;Xe+=2){const Gn=l[ge[Xe]][ge[Xe+1]].subscribe(g),mr=k.length;k.push(g,Gn),I&&I.push(f,d.index,mr,-(mr+1))}}}(g,f,f[11],v,a,l,d),lf}function b0(a,l,c,d){try{return!1!==c(d)}catch(f){return s0(a,f),!1}}function GT(a,l,c,d,f){return function g(v){if(v===Function)return d;om(a.componentOffset>-1?Wr(a.index,l):l);let T=b0(l,0,d,v),I=g.__ngNextListenerFn__;for(;I;)T=b0(l,0,I,v)&&T,I=I.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function zT(a=1){return function aC(a){return(Vt.lFrame.contextLView=function zA(a,l){for(;a>0;)l=l[15],a--;return l}(a,Vt.lFrame.contextLView))[8]}(a)}function w0(a,l){let c=null;const d=function lT(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(!(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?aT(a,g,!0):uT(d,g))return f}else c=f}return c}function WT(a){const l=fe()[16][6];if(!l.projection){const d=l.projection=ja(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const v=a?w0(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function pm(a,l=0,c){const d=fe(),f=en(),g=Fc(f,22+a,16,null,c||null);null===g.projection&&(g.projection=l),tg(),32!=(32&g.flags)&&function KA(a,l,c){Ev(l[11],0,l,c,Ka(a,c,l),yv(c.parent||l[6],c,l))}(f,d,g)}function uf(a,l,c){return gm(a,"",l,"",c),uf}function gm(a,l,c,d,f){const g=fe(),v=Vc(g,l,c,d);return v!==jt&&Ms(en(),bn(),g,a,v,g[11],f,!1),gm}function ym(a,l){return a<<17|l<<2}function hl(a){return a>>17&32767}function cf(a){return 2|a}function vu(a){return(131068&a)>>2}function df(a,l){return-131069&a|l<<2}function hf(a){return 1|a}function gR(a,l,c,d,f){const g=a[c+1],v=null===l;let C=d?hl(g):vu(g),T=!1;for(;0!==C&&(!1===T||v);){const R=a[C+1];mR(a[C],l)&&(T=!0,a[C+1]=d?hf(R):cf(R)),C=d?hl(R):vu(R)}T&&(a[c+1]=d?cf(g):hf(g))}function mR(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Kt(a,l)>=0}const pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function I0(a){return a.substring(pr.key,pr.keyEnd)}function _R(a){return a.substring(pr.value,pr.valueEnd)}function JT(a,l){const c=pr.textEnd;return c===l?-1:(l=pr.keyEnd=function QT(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,pr.key=l,c),qc(a,l,c))}function vm(a,l){const c=pr.textEnd;let d=pr.key=qc(a,l,c);return c===d?-1:(d=pr.keyEnd=function bR(a,l,c){let d;for(;l<c&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,c),d=Vi(a,d,c),d=pr.value=qc(a,d,c),d=pr.valueEnd=function wR(a,l,c){let d=-1,f=-1,g=-1,v=l,C=v;for(;v<c;){const T=a.charCodeAt(v++);if(59===T)return C;34===T||39===T?C=v=XT(a,T,v,c):l===v-4&&85===g&&82===f&&76===d&&40===T?C=v=XT(a,41,v,c):T>32&&(C=v),g=f,f=d,d=-33&T}return C}(a,d,c),Vi(a,d,c))}function S0(a){pr.key=0,pr.keyEnd=0,pr.value=0,pr.valueEnd=0,pr.textEnd=a.length}function qc(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Vi(a,l,c,d){return(l=qc(a,l,c))<c&&l++,l}function XT(a,l,c,d){let f=-1,g=c;for(;g<d;){const v=a.charCodeAt(g++);if(v==l&&92!==f)return g;f=92==v&&92===f?0:v}throw new Error}function bm(a,l,c){return Xs(a,l,c,!1),bm}function A0(a,l){return Xs(a,l,null,!0),A0}function ER(a,l){for(let c=function vR(a){return S0(a),vm(a,qc(a,0,pr.textEnd))}(l);c>=0;c=vm(l,c))n1(a,I0(l),_R(l))}function e1(a){eo(ri,Ps,a,!0)}function Ps(a,l){for(let c=function yR(a){return S0(a),JT(a,qc(a,0,pr.textEnd))}(l);c>=0;c=JT(l,c))ri(a,I0(l),!0)}function Xs(a,l,c,d){const f=fe(),g=en(),v=go(2);g.firstUpdatePass&&CR(g,a,v,d),l!==jt&&Kr(f,v,l)&&r1(g,g.data[mi()],f,f[11],a,f[v+1]=function IR(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Ce(Do(a)))),a}(l,c),d,v)}function eo(a,l,c,d){const f=en(),g=go(2);f.firstUpdatePass&&CR(f,null,g,d);const v=fe();if(c!==jt&&Kr(v,g,c)){const C=f.data[mi()];if(s1(C,d)&&!wm(f,g)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(c=Ue(T,c||"")),sf(f,C,v,c,d)}else!function DR(a,l,c,d,f,g,v,C){f===jt&&(f=Je);let T=0,I=0,R=0<f.length?f[0]:null,k=0<g.length?g[0]:null;for(;null!==R||null!==k;){const W=T<f.length?f[T+1]:void 0,ee=I<g.length?g[I+1]:void 0;let Ge,ge=null;R===k?(T+=2,I+=2,W!==ee&&(ge=k,Ge=ee)):null===k||null!==R&&R<k?(T+=2,ge=R):(I+=2,ge=k,Ge=ee),null!==ge&&r1(a,l,c,d,ge,Ge,v,C),R=T<f.length?f[T]:null,k=I<g.length?g[I]:null}}(f,C,v,v[11],v[g+1],v[g+1]=function TR(a,l,c){if(null==c||""===c)return Je;const d=[],f=Do(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(d,g,f[g]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,g)}}function wm(a,l){return l>=a.expandoStartIndex}function CR(a,l,c,d){const f=a.data;if(null===f[c+1]){const g=f[mi()],v=wm(a,c);s1(g,d)&&null===l&&!v&&(l=!1),l=function E2(a,l,c,d){const f=function Hl(a){const l=Vt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=ff(c=t1(null,a,l,c,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=t1(f,a,l,c,d),null===g){let T=function C2(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==vu(d))return a[hl(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=t1(null,a,l,T[1],d),T=ff(T,l.attrs,d),function T2(a,l,c,d){a[hl(c?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else g=function Em(a,l,c){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=ff(d,a[g].hostAttrs,c);return ff(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(f,g,l,d),function D0(a,l,c,d,f,g){let v=g?l.classBindings:l.styleBindings,C=hl(v),T=vu(v);a[d]=c;let R,I=!1;if(Array.isArray(c)?(R=c[1],(null===R||Kt(c,R)>0)&&(I=!0)):R=c,f)if(0!==T){const W=hl(a[C+1]);a[d+1]=ym(W,C),0!==W&&(a[W+1]=df(a[W+1],d)),a[C+1]=function fR(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=ym(C,0),0!==C&&(a[C+1]=df(a[C+1],d)),C=d;else a[d+1]=ym(T,0),0===C?C=d:a[T+1]=df(a[T+1],d),T=d;I&&(a[d+1]=cf(a[d+1])),gR(a,R,d,!0),gR(a,R,d,!1),function b2(a,l,c,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Kt(g,l)>=0&&(c[d+1]=hf(c[d+1]))}(l,R,a,d,g),v=ym(C,T),g?l.classBindings=v:l.styleBindings=v}(f,g,l,c,v,d)}}function t1(a,l,c,d,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=l[C],d=ff(d,g.hostAttrs,f),g!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function ff(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ri(a,v,!!c||l[++g]))}return void 0===a?null:a}function n1(a,l,c){ri(a,l,Do(c))}function r1(a,l,c,d,f,g,v,C){if(!(3&l.type))return;const T=a.data,I=T[C+1],R=function pR(a){return 1==(1&a)}(I)?i1(T,l,c,f,vu(I),v):void 0;Cm(R)||(Cm(g)||function T0(a){return 2==(2&a)}(I)&&(g=i1(T,null,c,f,C,v)),function Uh(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:ns.DashCase;null==f?a.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=ns.Important),a.setStyle(c,d,f,g))}}(d,v,Ma(mi(),c),f,g))}function i1(a,l,c,d,f,g){const v=null===l;let C;for(;f>0;){const T=a[f],I=Array.isArray(T),R=I?T[1]:T,k=null===R;let W=c[f+1];W===jt&&(W=k?Je:void 0);let ee=k?bg(W,d):R===d?W:void 0;if(I&&!Cm(ee)&&(ee=bg(T,d)),Cm(ee)&&(C=ee,v))return C;const ge=a[f+1];f=v?hl(ge):vu(ge)}if(null!==l){let T=g?l.residualClasses:l.residualStyles;null!=T&&(C=bg(T,d))}return C}function Cm(a){return void 0!==a}function s1(a,l){return 0!=(a.flags&(l?8:16))}function o1(a,l=""){const c=fe(),d=en(),f=a+22,g=d.firstCreatePass?Fc(d,f,1,l,null):d.data[f],v=c[f]=ia(c[11],l);kg(d,c,v,g),As(g,!1)}function Zc(a){return Ao("",a,""),Zc}function Ao(a,l,c){const d=fe(),f=Vc(d,a,l,c);return f!==jt&&function So(a,l,c){const d=Ma(l,a);Za(a[11],d,c)}(d,mi(),f),Ao}function Dm(a,l,c,d,f){eo(ri,Ps,function $c(a,l,c,d,f,g){const C=ua(a,Ui(),c,f);return go(2),C?l+Ee(c)+d+Ee(f)+g:jt}(fe(),a,l,c,d,f),!0)}function g1(a,l,c){!function xs(a){eo(n1,ER,a,!1)}(Vc(fe(),a,l,c))}function pf(a,l,c){const d=fe();return Kr(d,Wo(),l)&&Ms(en(),bn(),d,a,l,d[11],c,!0),pf}const bu=void 0;var O0=["en",[["a","p"],["AM","PM"],bu],[["AM","PM"],bu,bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bu,"{1} 'at' {0}",bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function M0(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Kc={};function x0(a){const l=function P0(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Mm(l);if(c)return c;const d=l.split("-")[0];if(c=Mm(d),c)return c;if("en"===d)return O0;throw new ie(701,!1)}function w1(a){return x0(a)[Nt.PluralCase]}function Mm(a){return a in Kc||(Kc[a]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[a]),Kc[a]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const k0=["zero","one","two","few","many"],wu="en-US",Om={marker:"element"},Jc={marker:"ICU"};var Yn=(()=>((Yn=Yn||{})[Yn.SHIFT=2]="SHIFT",Yn[Yn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Yn[Yn.COMMENT=2]="COMMENT",Yn))();let C1=wu;function xm(a){(function it(a,l){null==a&&st(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(C1=a.toLowerCase().replace(/_/g,"-"))}function Pm(a,l,c){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?vv(a,0,c):hr(c[f])}function D1(a,l,c,d,f){const g=l.insertBeforeIndex;if(Array.isArray(g)){let v=d,C=null;if(3&l.type||(C=v,v=f),null!==v&&-1===l.componentOffset)for(let T=1;T<g.length;T++)Ec(a,v,c[g[T]],C,!1)}}function km(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];I1(d)||S1(d,l)&&null===BR(d)&&VR(d,l.index)}}function I1(a){return!(64&a.type)}function S1(a,l){return I1(l)||a.index>l.index}function BR(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function VR(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(DC(Pm,D1),a.insertBeforeIndex=l)}function gf(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function HR(a,l,c){const d=sl(a,c,64,null,null);return km(l,d),d}function Qc(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function N1(a){return a>>>17}function L0(a){return(131070&a)>>>1}let Eu=0,mf=0;function M1(a,l,c,d){const f=c[11];let v,g=null;for(let C=0;C<l.length;C++){const T=l[C];if("string"==typeof T){const I=l[++C];null===c[I]&&(c[I]=ia(f,T))}else if("number"==typeof T)switch(1&T){case 0:const I=N1(T);let R,k;if(null===g&&(g=I,v=Ja(f,d)),I===g?(R=d,k=v):(R=null,k=hr(c[I])),null!==k){const Ge=L0(T);Ec(f,k,c[Ge],R,!1);const pt=gf(a,Ge);if(null!==pt&&"object"==typeof pt){const Mt=Qc(pt,c);null!==Mt&&M1(a,pt.create[Mt],c,c[pt.anchorIdx])}}break;case 1:const ee=l[++C],ge=l[++C];cu(f,Ma(T>>>1,c),null,null,ee,ge,null)}else switch(T){case Jc:const I=l[++C],R=l[++C];null===c[R]&&Lr(c[R]=Oh(f,I),c);break;case Om:const k=l[++C],W=l[++C];null===c[W]&&Lr(c[W]=Ya(f,k,null),c)}}}function Lm(a,l,c,d,f){for(let g=0;g<c.length;g++){const v=c[g],C=c[++g];if(v&f){let T="";for(let I=g+1;I<=g+C;I++){const R=c[I];if("string"==typeof R)T+=R;else if("number"==typeof R)if(R<0)T+=Ee(l[d-R]);else{const k=R>>>2;switch(3&R){case 1:const W=c[++I],ee=c[++I],ge=a.data[k];"string"==typeof ge?cu(l[11],l[k],null,ge,W,T,ee):Ms(a,ge,l,W,T,l[11],ee,!1);break;case 0:const Ge=l[k];null!==Ge&&Za(l[11],Ge,T);break;case 2:GR(a,gf(a,k),l,T);break;case 3:O1(a,gf(a,k),d,l)}}}}else{const T=c[g+1];if(T>0&&3==(3&T)){const R=gf(a,T>>>2);l[R.currentCaseLViewIndex]<0&&O1(a,R,d,l)}}g+=C}}function O1(a,l,c,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let g=Eu;f<0&&(f=d[l.currentCaseLViewIndex]=~f,g=-1),Lm(a,d,l.update[f],c,g)}}function GR(a,l,c,d){const f=function x1(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function F0(a,l){const c=w1(l)(parseInt(a,10)),d=k0[c];return void 0!==d?d:"other"}(l,function T1(){return C1}());c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(Qc(l,c)!==f&&(Um(a,l,c),c[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=c[l.anchorIdx];v&&M1(a,l.create[f],c,v)}}function Um(a,l,c){let d=Qc(l,c);if(null!==d){const f=l.remove[d];for(let g=0;g<f.length;g++){const v=f[g];if(v>0){const C=Ma(v,c);null!==C&&Xa(c[11],C)}else Um(a,gf(a,~v),c)}}}function P1(){const a=[];let c,d,l=-1;function g(C,T){l=0;const I=Qc(C,T);d=null!==I?C.remove[I]:Je}function v(){if(l<d.length){const C=d[l++];return C>0?c[C]:(a.push(l,d),g(c[1].data[~C],c),v())}return 0===a.length?null:(d=a.pop(),l=a.pop(),v())}return function f(C,T){for(c=T;a.length;)a.pop();return g(C.value,T),v}}const Vm=/\ufffd(\d+):?\d*\ufffd/gi,WR=/\ufffd(\d+)\ufffd/,k1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,$0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,N2=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,R2=/\uE500/g;function F1(a,l,c,d,f,g,v){const C=ol(a,d,1,null);let T=C<<Yn.SHIFT,I=Oa();l===I&&(I=null),null===I&&(T|=Yn.APPEND_EAGERLY),v&&(T|=Yn.COMMENT,function at(a){void 0===Q&&(Q=a())}(P1)),f.push(T,null===g?"":g);const R=sl(a,C,v?32:1,null===g?"":g,null);km(c,R);const k=R.index;return As(R,!1),null!==I&&l!==I&&function A1(a,l){let c=a.insertBeforeIndex;null===c?(DC(Pm,D1),c=a.insertBeforeIndex=[null,l]):(function Le(a,l,c){a!=l&&st(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(I,k),R}function ZR(a,l,c,d,f,g,v){const C=v.match(Vm),T=F1(a,l,c,g,d,C?null:v,!1);C&&gr(f,v,T.index,null,0,null)}function gr(a,l,c,d,f,g){const v=a.length,C=v+1;a.push(null,null);const T=v+2,I=l.split(Vm);let R=0;for(let k=0;k<I.length;k++){const W=I[k];if(1&k){const ee=f+parseInt(W,10);a.push(-1-ee),R|=B1(ee)}else""!==W&&a.push(W)}return a.push(c<<2|(d?1:0)),d&&a.push(d,g),a[v]=R,a[C]=a.length-T,R}function B1(a){return 1<<Math.min(a,31)}function V1(a){let l,g,c="",d=0,f=!1;for(;null!==(l=$0.exec(a));)f?l[0]===`\ufffd/*${g}\ufffd`&&(d=l.index,f=!1):(c+=a.substring(d,l.index+l[0].length),g=l[1],f=!0);return c+=a.slice(d),c}function $1(a,l,c,d,f,g){let v=0;const C={type:f.type,currentCaseLViewIndex:ol(a,l,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function JR(a,l,c){a.push(B1(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,f,g),function $R(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,g,C);const T=f.values;for(let I=0;I<T.length;I++){const R=T[I],k=[];for(let W=0;W<R.length;W++){const ee=R[W];if("string"!=typeof ee){const ge=k.push(ee)-1;R[W]=`\x3c!--\ufffd${ge}\ufffd--\x3e`}}v=KR(a,C,l,c,d,f.cases[I],R.join(""),k)|v}v&&function QR(a,l,c){a.push(l,1,c<<2|3)}(c,v,g)}function j0(a){const l=[],c=[];let d=1,f=0;const g=G0(a=a.replace(k1,function(v,C,T){return d="select"===T?0:1,f=parseInt(C.slice(1),10),""}));for(let v=0;v<g.length;){let C=g[v++].trim();1===d&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&l.push(C);const T=G0(g[v++]);l.length>c.length&&c.push(T)}return{type:d,mainBinding:f,cases:l,values:c}}function G0(a){if(!a)return[];let l=0;const c=[],d=[],f=/[{}]/g;let g;for(f.lastIndex=0;g=f.exec(a);){const C=g.index;if("}"==g[0]){if(c.pop(),0==c.length){const T=a.substring(l,C);k1.test(T)?d.push(j0(T)):d.push(T),l=C+1}}else{if(0==c.length){const T=a.substring(l,C);d.push(T),l=C+1}c.push("{")}}const v=a.substring(l);return d.push(v),d}function KR(a,l,c,d,f,g,v,C){const T=[],I=[],R=[];l.cases.push(g),l.create.push(T),l.remove.push(I),l.update.push(R);const W=function Sv(a){const l=new Bg(a);return function OC(){try{return!!(new window.DOMParser).parseFromString(tl(""),"text/html")}catch{return!1}}()?new sN(l):l}(function AC(){return void 0!==Cv?Cv:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ee=function FC(a){return"content"in a&&function GL(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}(W)||W;return ee?H1(a,l,c,d,T,I,R,ee,f,C,0):0}function H1(a,l,c,d,f,g,v,C,T,I,R){let k=0,W=C.firstChild;for(;W;){const ee=ol(a,c,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const ge=W,Ge=ge.tagName.toLowerCase();if($g.hasOwnProperty(Ge)){z0(f,Om,Ge,T,ee),a.data[ee]=Ge;const Oe=ge.attributes;for(let Ot=0;Ot<Oe.length;Ot++){const Gn=Oe.item(Ot),mr=Gn.name.toLowerCase();Gn.value.match(Vm)?Dc.hasOwnProperty(mr)&&gr(v,Gn.value,ee,Gn.name,0,Hg[mr]?Vg:null):G1(f,ee,Gn)}k=H1(a,l,c,d,f,g,v,W,ee,I,R+1)|k,j1(g,ee,R)}break;case Node.TEXT_NODE:const Xe=W.textContent||"",pt=Xe.match(Vm);z0(f,null,pt?"":Xe,T,ee),j1(g,ee,R),pt&&(k=gr(v,Xe,ee,null,0,null)|k);break;case Node.COMMENT_NODE:const Mt=WR.exec(W.textContent||"");if(Mt){const Ot=I[parseInt(Mt[1],10)];z0(f,Jc,"",T,ee),$1(a,c,d,T,Ot,ee),_s(g,ee,R)}}W=W.nextSibling}return k}function j1(a,l,c){0===c&&a.push(l)}function _s(a,l,c){0===c&&(a.push(~l),a.push(l))}function z0(a,l,c,d,f){null!==l&&a.push(l),a.push(c,f,function jR(a,l,c){return a|l<<17|c<<1}(0,d,f))}function G1(a,l,c){a.push(l<<1|1,c.name,c.value)}function q1(a,l,c=-1){const d=en(),f=fe(),g=22+a,v=zs(d.consts,l),C=Oa();d.firstCreatePass&&function qR(a,l,c,d,f,g){const v=Oa(),C=[],T=[],I=[[]];f=function H0(a,l){if(function YR(a){return-1===a}(l))return V1(a);{const c=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return V1(a.substring(c,d))}}(f,g);const R=function Hm(a){return a.replace(R2," ")}(f).split(N2);for(let k=0;k<R.length;k++){let W=R[k];if(1&k){const ee=47===W.charCodeAt(0),Ge=(W.charCodeAt(ee?1:0),22+Number.parseInt(W.substring(ee?2:1)));if(ee)I.shift(),As(Oa(),!1);else{const Xe=HR(a,I[0],Ge);I.unshift([]),As(Xe,!0)}}else{const ee=G0(W);for(let ge=0;ge<ee.length;ge++){let Ge=ee[ge];if(1&ge){const Xe=Ge;if("object"!=typeof Xe)throw new Error(`Unable to parse ICU expression in "${f}" message.`);$1(a,c,T,l,Xe,F1(a,v,I[0],c,C,"",!0).index)}else""!==Ge&&ZR(a,v,I[0],C,T,c,Ge)}}}a.data[d]={create:C,update:T}}(d,null===C?0:C.index,f,g,v,c);const T=d.data[g],R=xg(d,C===f[6]?null:C,f);(function B0(a,l,c,d){const f=a[11];for(let g=0;g<l.length;g++){const v=l[g++],C=l[g],I=(v&Yn.APPEND_EAGERLY)===Yn.APPEND_EAGERLY,R=v>>>Yn.SHIFT;let k=a[R];null===k&&(k=a[R]=(v&Yn.COMMENT)===Yn.COMMENT?f.createComment(C):ia(f,C)),I&&null!==c&&Ec(f,c,k,d,!1)}})(f,T.create,R,C&&8&C.type?f[C.index]:null),tc(!0)}function Z1(a,l,c){q1(a,l,c),function jm(){tc(!1)}()}function K0(a){return function U0(a){a&&(Eu|=1<<Math.min(mf,31)),mf++}(Kr(fe(),Wo(),a)),K0}function Gm(a){!function R1(a,l,c){if(mf>0){const d=a.data[c];Lm(a,l,Array.isArray(d)?d:d.update,Ui()-mf-1,Eu)}Eu=0,mf=0}(en(),fe(),a+22)}function Q0(a,l,c,d,f){if(a=J(a),Array.isArray(a))for(let g=0;g<a.length;g++)Q0(a[g],l,c,d,f);else{const g=en(),v=fe();let C=su(a)?a:J(a.provide),T=jC(a);const I=Dr(),R=1048575&I.providerIndexes,k=I.directiveStart,W=I.providerIndexes>>20;if(su(a)||!a.multi){const ee=new nc(T,f,kc),ge=yf(C,l,f?R:R+W,k);-1===ge?(hh(Yo(I,v),g,C),_f(g,a,l.length),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(ee),v.push(ee)):(c[ge]=ee,v[ge]=ee)}else{const ee=yf(C,l,R+W,k),ge=yf(C,l,R,R+W),Xe=ge>=0&&c[ge];if(f&&!Xe||!f&&!(ee>=0&&c[ee])){hh(Yo(I,v),g,C);const pt=function iM(a,l,c,d,f){const g=new nc(a,c,kc);return g.multi=[],g.index=l,g.componentProviders=0,Y1(g,f,d&&!c),g}(f?K1:X0,c.length,f,d,T);!f&&Xe&&(c[ge].providerFactory=pt),_f(g,a,l.length,0),l.push(C),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(pt),v.push(pt)}else _f(g,a,ee>-1?ee:ge,Y1(c[f?ge:ee],T,!f&&d));!f&&d&&Xe&&c[ge].componentProviders++}}}function _f(a,l,c,d){const f=su(l),g=function Lv(a){return!!a.useClass}(l);if(f||g){const T=(g?J(l.useClass):l).prototype.ngOnDestroy;if(T){const I=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=I.indexOf(c);-1===R?I.push(c,[d,T]):I[R+1].push(d,T)}else I.push(c,T)}}}function Y1(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function yf(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function X0(a,l,c,d){return zm(this.multi,[])}function K1(a,l,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ko(c,c[1],this.providerFactory.index,d);g=C.slice(0,v),zm(f,g);for(let T=v;T<C.length;T++)g.push(C[T])}else g=[],zm(f,g);return g}function zm(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Wm(a,l=[]){return c=>{c.providersResolver=(d,f)=>function J0(a,l,c){const d=en();if(d.firstCreatePass){const f=ti(a);Q0(c,d.data,d.blueprint,f,!0),Q0(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class Xc{}class qm{}function sM(a,l){return new eb(a,l??null)}class eb extends Xc{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rr(this);const d=ei(l);this._bootstrapComponents=il(d.bootstrap),this._r3Injector=gT(l,c,[{provide:Xc,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],Ce(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Zm extends qm{constructor(l){super(),this.moduleType=l}create(l){return new eb(this.moduleType,l)}}class Ym extends Xc{constructor(l,c,d){super(),this.componentFactoryResolver=new rr(this),this.instance=null;const f=new HC([...l,{provide:Xc,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],c||Gg(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Km(a,l,c=null){return new Ym(a,l,c).injector}let J1=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Sc(0,c.type),f=d.length>0?Km([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=ot({token:a,providedIn:"environment",factory:()=>new a(We(ou))}),a})();function No(a){a.getStandaloneInjector=l=>l.get(J1).getOrCreateStandaloneInjector(a)}function sD(a,l,c){const d=ni()+a,f=fe();return f[d]===jt?Os(f,d,c?l.call(c):l()):function Bc(a,l){return a[l]}(f,d)}function oD(a,l,c,d){return ed(fe(),ni(),a,l,c,d)}function bf(a,l,c,d,f){return function cD(a,l,c,d,f,g,v){const C=l+c;return ua(a,C,f,g)?Os(a,C+2,v?d.call(v,f,g):d(f,g)):Jm(a,C+2)}(fe(),ni(),a,l,c,d,f)}function aD(a,l,c,d,f,g){return function rs(a,l,c,d,f,g,v,C){const T=l+c;return function nf(a,l,c,d,f){const g=ua(a,l,c,d);return Kr(a,l+2,f)||g}(a,T,f,g,v)?Os(a,T+3,C?d.call(C,f,g,v):d(f,g,v)):Jm(a,T+3)}(fe(),ni(),a,l,c,d,f,g)}function Jm(a,l){const c=a[l];return c===jt?void 0:c}function ed(a,l,c,d,f,g){const v=l+c;return Kr(a,v,f)?Os(a,v+1,g?d.call(g,f):d(f)):Jm(a,v+1)}function e_(a,l){const c=en();let d;const f=a+22;c.firstCreatePass?(d=function nb(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=jo(d.type)),v=Ft(kc);try{const C=vo(!1),T=g();return vo(C),function hR(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,fe(),f,T),T}finally{Ft(v)}}function t_(a,l,c){const d=a+22,f=fe(),g=Go(f,d);return function is(a,l){return a[1].data[l].pure}(f,d)?ed(f,ni(),l,g.transform,c,g):g.transform(c)}function gl(a){return l=>{setTimeout(a,void 0,l)}}const to=class Ro extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,g=c||(()=>null),v=d;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=gl(g),f&&(f=gl(f)),v&&(v=gl(v)));const C=super.subscribe({next:f,error:g,complete:v});return l instanceof V.w0&&l.add(C),C}};function fM(){return this._results[fu()]()}class $i{get changes(){return this._changes||(this._changes=new to)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=fu(),d=$i.prototype;d[c]||(d[c]=fM)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=function _i(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function _C(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let no=(()=>{class a{}return a.__NG_ELEMENT_ID__=hD,a})();const pM=no,Cu=class extends pM{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=Yv(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Kh(d,f,l),new Xh(f)}};function hD(){return ib(Dr(),fe())}function ib(a,l){return 4&a.type?new Cu(l,a,aa(a,l)):null}let Jr=(()=>{class a{}return a.__NG_ELEMENT_ID__=gM,a})();function gM(){return ro(Dr(),fe())}const mM=Jr,ss=class extends mM{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const l=dh(this._hostTNode,this._hostLView);if(uh(l)){const c=Zo(l,this._hostLView),d=Fa(l);return new Jo(c[1].data[d+8],c)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=wi(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=l.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(l,c,d,f,g){const v=l&&!function hc(a){return"function"==typeof a}(l);let C;if(v)C=c;else{const k=c||{};C=k.index,d=k.injector,f=k.projectableNodes,g=k.environmentInjector||k.ngModuleRef}const T=v?l:new Uc(an(l)),I=d||this.parentInjector;if(!g&&null==T.ngModule){const W=(v?I:this.parentInjector).get(ou,null);W&&(g=W)}const R=T.create(I,f,void 0,g);return this.insert(R.hostView,C),R}insert(l,c){const d=l._lView,f=d[1];if(function Gy(a){return Li(a[3])}(d)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const k=d[3],W=new ss(k,k[6],k[3]);W.detach(W.indexOf(l))}}const g=this._adjustIndex(c),v=this._lContainer;!function mv(a,l,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=l),d<g-10?(l[4]=c[f],cv(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function Ph(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=64}(f,d,v,g);const C=Lh(g,v),T=d[11],I=Ja(T,v[7]);return null!==I&&function Rg(a,l,c,d,f,g){d[0]=f,d[6]=l,eu(a,d,c,1,f,g)}(f,v[6],T,d,I,C),l.attachToViewContainerRef(),cv(Hi(v),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=wi(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=_v(this._lContainer,c);d&&(mh(Hi(this._lContainer),c),EC(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=_v(this._lContainer,c);return d&&null!=mh(Hi(this._lContainer),c)?new Xh(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function wi(a){return a[8]}function Hi(a){return a[8]||(a[8]=[])}function ro(a,l){let c;const d=l[a.index];if(Li(d))c=d;else{let f;if(8&a.type)f=hr(d);else{const g=l[11];f=g.createComment("");const v=zr(a,l);Ec(g,Ja(g,v),f,function Cc(a,l){return a.nextSibling(l)}(g,v),!1)}l[a.index]=c=tR(d,l,f,a),sm(l,c)}return new ss(c,a,l)}class fD{constructor(l){this.queryList=l,this.matches=null}clone(){return new fD(this.queryList)}setDirty(){this.queryList.setDirty()}}class sb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new sb(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==_D(l,c).matches&&this.queries[c].setDirty()}}class s_{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class ob{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new ob(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class ab{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new ab(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,c,_M(c,g)),this.matchTNodeWithReadOption(l,c,Ua(c,l,g,!1,!1))}else d===no?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Ua(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===rl||f===Jr||f===no&&4&c.type)this.addMatch(c.index,-2);else{const g=Ua(c,l,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function _M(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function vM(a,l,c,d){return-1===c?function yM(a,l){return 11&a.type?aa(a,l):4&a.type?ib(a,l):null}(l,a):-2===c?function P2(a,l,c){return c===rl?aa(l,a):c===no?ib(l,a):c===Jr?ro(l,a):void 0}(a,l,d):Ko(a,a[1],c,l)}function bM(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,v=c.matches,C=[];for(let T=0;T<v.length;T+=2){const I=v[T];C.push(I<0?null:vM(l,g[I],v[T+1],c.metadata.read))}f.matches=C}return f.matches}function pD(a,l,c,d){const f=a.queries.getByIndex(c),g=f.matches;if(null!==g){const v=bM(a,l,f,c);for(let C=0;C<g.length;C+=2){const T=g[C];if(T>0)d.push(v[C/2]);else{const I=g[C+1],R=l[-T];for(let k=10;k<R.length;k++){const W=R[k];W[17]===W[3]&&pD(W[1],W,I,d)}if(null!==R[9]){const k=R[9];for(let W=0;W<k.length;W++){const ee=k[W];pD(ee[1],ee,I,d)}}}}}return d}function gD(a){const l=fe(),c=en(),d=Jy();sg(d+1);const f=_D(c,d);if(a.dirty&&function nh(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?pD(c,l,d,[]):bM(c,l,f,d);a.reset(g,ZC),a.notifyOnChanges()}return!0}return!1}function wM(a,l,c){const d=en();d.firstCreatePass&&(mD(d,new s_(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),ub(d,fe(),l)}function EM(a,l,c,d){const f=en();if(f.firstCreatePass){const g=Dr();mD(f,new s_(l,c,d),g.index),function si(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}ub(f,fe(),c)}function CM(){return function lb(a,l){return a[19].queries[l].queryList}(fe(),Jy())}function ub(a,l,c){const d=new $i(4==(4&c));DT(a,l,d,d.destroy),null===l[19]&&(l[19]=new sb),l[19].queries.push(new fD(d))}function mD(a,l,c){null===a.queries&&(a.queries=new ob),a.queries.track(new ab(l,c))}function _D(a,l){return a.queries.getByIndex(l)}function Ef(a,l){return ib(a,l)}function g_(...a){}const OD=new vn("Application Initializer");let m_=(()=>{class a{constructor(c){this.appInits=c,this.resolve=g_,this.reject=g_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(_0(g))c.push(g);else if(HT(g)){const v=new Promise((C,T)=>{g.subscribe({complete:C,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(We(OD,8))},a.\u0275prov=ot({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Sf=new vn("AppId",{providedIn:"root",factory:function Eb(){return`${Af()}${Af()}${Af()}`}});function Af(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xD=new vn("Platform Initializer"),kM=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PD=new vn("appBootstrapListener");let kD=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ot({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Nf=new vn("LocaleId",{providedIn:"root",factory:()=>ct(Nf,ue.Optional|ue.SkipSelf)||function FD(){return typeof $localize<"u"&&$localize.locale||wu}()}),H2=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cb{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let G2=(()=>{class a{compileModuleSync(c){return new Zm(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=il(ei(c).declarations).reduce((v,C)=>{const T=an(C);return T&&v.push(new Uc(T)),v},[]);return new Cb(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ot({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Db=(()=>Promise.resolve(0))();function LD(a){typeof Zone>"u"?Db.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ks{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new to(!1),this.onMicrotaskEmpty=new to(!1),this.onStable=new to(!1),this.onError=new to(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function $M(){let a=Dt.requestAnimationFrame,l=Dt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function jM(a){const l=()=>{!function z2(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Dt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,BD(a),a.isCheckStableRunning=!0,UD(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),BD(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,C)=>{try{return GM(a),c.invokeTask(f,g,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),zM(a)}},onInvoke:(c,d,f,g,v,C,T)=>{try{return GM(a),c.invoke(f,g,v,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),zM(a)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,BD(a),UD(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ks.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(ks.isInAngularZone())throw new ie(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,HM,g_,g_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const HM={};function UD(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function BD(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function GM(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function zM(a){a._nesting--,UD(a)}class W2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new to,this.onMicrotaskEmpty=new to,this.onStable=new to,this.onError=new to}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const WM=new vn(""),qM=new vn("");let y_,ZM=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,y_||(function VD(a){y_=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ks.assertNotInAngularZone(),LD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())LD(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(We(ks),We(Ib),We(qM))},a.\u0275prov=ot({token:a,factory:a.\u0275fac}),a})(),Ib=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return y_?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ot({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),ha=null;const Sb=new vn("AllowMultipleToken"),v_=new vn("PlatformDestroyListeners");class Rf{constructor(l,c){this.name=l,this.token=c}}function xo(a,l,c=[]){const d=`Platform: ${l}`,f=new vn(d);return(g=[])=>{let v=id();if(!v||v.injector.get(Sb,!1)){const C=[...c,...g,{provide:f,useValue:!0}];a?a(C):function YM(a){if(ha&&!ha.get(Sb,!1))throw new ie(400,!1);ha=a;const l=a.get(Mf);(function Nb(a){const l=a.get(xD,null);l&&l.forEach(c=>c())})(a)}(function w_(a=[],l){return uu.create({name:l,providers:[{provide:Nc,useValue:"platform"},{provide:v_,useValue:new Set([()=>ha=null])},...a]})}(C,d))}return function bt(a){const l=id();if(!l)throw new ie(401,!1);return l}()}}function id(){return ha?.get(Mf)??null}let Mf=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function $D(a,l){let c;return c="noop"===a?new W2:("zone.js"===a?void 0:a)||new ks(l),c}(d?.ngZone,function sd(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:ks,useValue:f}];return f.run(()=>{const v=uu.create({providers:g,parent:this.injector,name:c.moduleType.name}),C=c.create(v),T=C.injector.get(zh,null);if(!T)throw new ie(402,!1);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:R=>{T.handleError(R)}});C.onDestroy(()=>{T_(this._modules,C),I.unsubscribe()})}),function E_(a,l,c){try{const d=c();return _0(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(T,f,()=>{const I=C.injector.get(m_);return I.runInitializers(),I.donePromise.then(()=>(xm(C.injector.get(Nf,wu)||wu),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const f=HD({},d);return function Ab(a,l,c){const d=new Zm(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(C_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new ie(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(v_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(We(uu))},a.\u0275prov=ot({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function HD(a,l){return Array.isArray(l)?l.reduce(HD,a):{...a,...l}}let C_=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new P.y(C=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ks.assertNotInAngularZone(),LD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{T.unsubscribe(),I.unsubscribe()}});this.isStable=(0,le.T)(g,v.pipe((0,be.B)()))}bootstrap(c,d){const f=c instanceof zC;if(!this._injector.get(m_).done)throw!f&&Bo(c),new ie(405,false);let v;v=f?c:this._injector.get(Rc).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function b_(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Xc),I=v.create(uu.NULL,[],d||v.selector,C),R=I.location.nativeElement,k=I.injector.get(WM,null);return k?.registerApplication(R),I.onDestroy(()=>{this.detachView(I.hostView),T_(this.components,I),k?.unregisterApplication(R)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;T_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(PD,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>T_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ie(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(We(ks),We(ou),We(zh))},a.\u0275prov=ot({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function T_(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}function li(){return!1}let jD=(()=>{class a{}return a.__NG_ELEMENT_ID__=Ei,a})();function Ei(a){return function JM(a,l,c){if(kl(a)&&!c){const d=Wr(a.index,l);return new Xh(d,d)}return 47&a.type?new Xh(l[16],l):null}(Dr(),fe(),16==(16&a))}class WD{constructor(){}supports(l){return dm(l)}create(l){return new tO(l)}}const Pf=(a,l)=>l;class tO{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Pf}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Ff(d,f,g)?c:d,C=Ff(v,f,g),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const I=C-f,R=T-f;if(I!=R){for(let W=0;W<I;W++){const ee=W<g.length?g[W]:g[W]=0,ge=ee+W;R<=ge&&ge<I&&(g[W]=ee+1)}g[v.previousIndex]=R-I}}C!==T&&l(v,C,T)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!dm(l))throw new ie(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else f=0,function dR(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[fu()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,f)):l=this._addAfter(new kf(c,d),g,f),l}_verifyReinsertion(l,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new qD),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class kf{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nO{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class qD{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new nO,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ff(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class R_{constructor(){}supports(l){return l instanceof Map||Qs(l)}create(){return new ZD}}class ZD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Qs(l)))throw new ie(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new YD(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class YD{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fb(){return new ld([new WD])}let ld=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Fb()),deps:[[a,new us,new bo]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new ie(901,!1)}}return a.\u0275prov=ot({token:a,providedIn:"root",factory:Fb}),a})();function M_(){return new Lf([new R_])}let Lf=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||M_()),deps:[[a,new us,new bo]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new ie(901,!1)}}return a.\u0275prov=ot({token:a,providedIn:"root",factory:M_}),a})();const QD=xo(null,"core",[]);let XD=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(We(C_))},a.\u0275mod=Sa({type:a}),a.\u0275inj=Rn({}),a})();function Ub(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function sO(a,l){const c=an(a),d=l.elementInjector||Gg();return new Uc(c).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},1321:()=>{class it extends Error{constructor(K){super(`No translation found for ${rn(K)}.`),this.parsedMessage=K,this.type="MissingTranslationError"}}const ur=function(te,...K){if(ur.translate){const _e=ur.translate(te,K);te=_e[0],K=_e[1]}let re=xr(te[0],te.raw[0]);for(let _e=1;_e<te.length;_e++)re+=K[_e-1]+xr(te[_e],te.raw[_e]);return re};function xr(te,K){return":"===K.charAt(0)?te.substring(function Ve(te,K){for(let re=1,_e=1;re<te.length;re++,_e++)if("\\"===K[_e])_e++;else if(":"===te[re])return re;throw new Error(`Unterminated $localize metadata block in "${K}".`)}(te,K)+1):te}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=ur},3942:(vt,Ne,F)=>{F.d(Ne,{Z:()=>tt});var o=F(2090),V=F(4859),P=F(9681),le=F(1877);class be{constructor(ie,Me){this._delegate=ie,this.firebase=Me,(0,P._addComponent)(ie,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ie,Me=P._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ie);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Ee=Pe.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Me})}_removeServiceInstance(ie,Me=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(Me)}_addComponent(ie){(0,P._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,P._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ze=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ue(){const dt=function Ce(dt){const ie={},Me={__esModule:!0,initializeApp:function xe(X,ne={}){const ye=P.initializeApp(X,ne);if((0,o.r3)(ie,ye.name))return ie[ye.name];const Ye=new dt(ye,Me);return ie[ye.name]=Ye,Ye},app:Pe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Te(X){const ne=X.name,ye=ne.replace("-compat","");if(P._registerComponent(X)&&"PUBLIC"===X.type){const Ye=(Le=Pe())=>{if("function"!=typeof Le[ye])throw ze.create("invalid-app-argument",{appName:ne});return Le[ye]()};void 0!==X.serviceProps&&(0,o.ZB)(Ye,X.serviceProps),Me[ye]=Ye,dt.prototype[ye]=function(...Le){return this._getService.bind(this,ne).apply(this,X.multipleInstances?Le:[])}}return"PUBLIC"===X.type?Me[ye]:null},removeApp:function Ee(X){delete ie[X]},useAsService:function $e(X,ne){return"serverAuth"===ne?null:ne},modularAPIs:P}};function Pe(X){if(!(0,o.r3)(ie,X=X||P._DEFAULT_ENTRY_NAME))throw ze.create("no-app",{appName:X});return ie[X]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function ve(){return Object.keys(ie).map(X=>ie[X])}}),Pe.App=dt,Me}(be);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function ie(Me){(0,o.ZB)(dt,Me)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),dt}(),G=new le.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=z;!function Fe(dt){(0,P.registerVersion)("@firebase/app-compat","0.2.3",dt)}()},9681:(vt,Ne,F)=>{F.r(Ne),F.d(Ne,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ur,_DEFAULT_ENTRY_NAME:()=>Be,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>Tt,_apps:()=>it,_clearComponents:()=>Rn,_components:()=>st,_getProvider:()=>ot,_registerComponent:()=>wt,_removeServiceInstance:()=>rn,deleteApp:()=>K,getApp:()=>xr,getApps:()=>te,initializeApp:()=>Mi,onLog:()=>ue,registerVersion:()=>_e,setLogLevel:()=>Ke});var o=F(5861),V=F(4859),P=F(1877),le=F(2090),be=F(8766);class he{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function ze(We){return"VERSION"===We.getComponent()?.type}(ct)){const St=ct.getImmediate();return`${St.library}/${St.version}`}return null}).filter(ct=>ct).join(" ")}}const Ce="@firebase/app",z=new P.Yd("@firebase/app"),Be="[DEFAULT]",Ve={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},it=new Map,st=new Map;function Dn(We,we){try{We.container.addComponent(we)}catch(ct){z.debug(`Component ${we.name} failed to register with FirebaseApp ${We.name}`,ct)}}function Tt(We,we){We.container.addOrOverwriteComponent(we)}function wt(We){const we=We.name;if(st.has(we))return z.debug(`There were multiple attempts to register component ${we}.`),!1;st.set(we,We);for(const ct of it.values())Dn(ct,We);return!0}function ot(We,we){const ct=We.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),We.container.getProvider(we)}function rn(We,we,ct=Be){ot(We,we).clearInstance(ct)}function Rn(){st.clear()}const on=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class er{constructor(we,ct,St){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const ur="9.17.1";function Mi(We,we={}){let ct=We;"object"!=typeof we&&(we={name:we});const St=Object.assign({name:Be,automaticDataCollectionEnabled:!1},we),xt=St.name;if("string"!=typeof xt||!xt)throw on.create("bad-app-name",{appName:String(xt)});if(ct||(ct=(0,le.aH)()),!ct)throw on.create("no-options");const Xt=it.get(xt);if(Xt){if((0,le.vZ)(ct,Xt.options)&&(0,le.vZ)(St,Xt.config))return Xt;throw on.create("duplicate-app",{appName:xt})}const H=new V.H0(xt);for(const q of st.values())H.addComponent(q);const B=new er(ct,St,H);return it.set(xt,B),B}function xr(We=Be){const we=it.get(We);if(!we&&We===Be)return Mi();if(!we)throw on.create("no-app",{appName:We});return we}function te(){return Array.from(it.values())}function K(We){return re.apply(this,arguments)}function re(){return(re=(0,o.Z)(function*(We){const we=We.name;it.has(we)&&(it.delete(we),yield Promise.all(We.container.getProviders().map(ct=>ct.delete())),We.isDeleted=!0)})).apply(this,arguments)}function _e(We,we,ct){var St;let xt=null!==(St=Ve[We])&&void 0!==St?St:We;ct&&(xt+=`-${ct}`);const Xt=xt.match(/\s|\//),H=we.match(/\s|\//);if(Xt||H){const B=[`Unable to register library "${xt}" with version "${we}":`];return Xt&&B.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Xt&&H&&B.push("and"),H&&B.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void z.warn(B.join(" "))}wt(new V.wA(`${xt}-version`,()=>({library:xt,version:we}),"VERSION"))}function ue(We,we){if(null!==We&&"function"!=typeof We)throw on.create("invalid-log-argument");(0,P.Am)(We,we)}function Ke(We){(0,P.Ub)(We)}const Pt="firebase-heartbeat-store";let _n=null;function Dt(){return _n||(_n=(0,be.X3)("firebase-heartbeat-database",1,{upgrade:(We,we)=>{0===we&&We.createObjectStore(Pt)}}).catch(We=>{throw on.create("idb-open",{originalErrorMessage:We.message})})),_n}function It(){return(It=(0,o.Z)(function*(We){try{return(yield Dt()).transaction(Pt).objectStore(Pt).get(In(We))}catch(we){if(we instanceof le.ZR)z.warn(we.message);else{const ct=on.create("idb-get",{originalErrorMessage:we?.message});z.warn(ct.message)}}})).apply(this,arguments)}function yn(We,we){return pn.apply(this,arguments)}function pn(){return(pn=(0,o.Z)(function*(We,we){try{const St=(yield Dt()).transaction(Pt,"readwrite");return yield St.objectStore(Pt).put(we,In(We)),St.done}catch(ct){if(ct instanceof le.ZR)z.warn(ct.message);else{const St=on.create("idb-set",{originalErrorMessage:ct?.message});z.warn(St.message)}}})).apply(this,arguments)}function In(We){return`${We.name}!${We.options.appId}`}class Oi{constructor(we){this.container=we,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new Zt(ct),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var we=this;return(0,o.Z)(function*(){const St=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=Lt();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==xt&&!we._heartbeatsCache.heartbeats.some(Xt=>Xt.date===xt))return we._heartbeatsCache.heartbeats.push({date:xt,agent:St}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Xt=>{const H=new Date(Xt.date).valueOf();return Date.now()-H<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,o.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const ct=Lt(),{heartbeatsToSend:St,unsentEntries:xt}=function Ji(We,we=1024){const ct=[];let St=We.slice();for(const xt of We){const Xt=ct.find(H=>H.agent===xt.agent);if(Xt){if(Xt.dates.push(xt.date),xi(ct)>we){Xt.dates.pop();break}}else if(ct.push({agent:xt.agent,dates:[xt.date]}),xi(ct)>we){ct.pop();break}St=St.slice(1)}return{heartbeatsToSend:ct,unsentEntries:St}}(we._heartbeatsCache.heartbeats),Xt=(0,le.L)(JSON.stringify({version:2,heartbeats:St}));return we._heartbeatsCache.lastSentHeartbeatDate=ct,xt.length>0?(we._heartbeatsCache.heartbeats=xt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),Xt})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,o.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function mt(We){return It.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var ct=this;return(0,o.Z)(function*(){var St;if(yield ct._canUseIndexedDBPromise){const Xt=yield ct.read();return yn(ct.app,{lastSentHeartbeatDate:null!==(St=we.lastSentHeartbeatDate)&&void 0!==St?St:Xt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var ct=this;return(0,o.Z)(function*(){var St;if(yield ct._canUseIndexedDBPromise){const Xt=yield ct.read();return yn(ct.app,{lastSentHeartbeatDate:null!==(St=we.lastSentHeartbeatDate)&&void 0!==St?St:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...we.heartbeats]})}})()}}function xi(We){return(0,le.L)(JSON.stringify({version:2,heartbeats:We})).length}!function wr(We){wt(new V.wA("platform-logger",we=>new he(we),"PRIVATE")),wt(new V.wA("heartbeat",we=>new Oi(we),"PRIVATE")),_e(Ce,"0.9.3",We),_e(Ce,"0.9.3","esm2017"),_e("fire-js","")}("")},4859:(vt,Ne,F)=>{F.d(Ne,{H0:()=>Ce,wA:()=>P});var o=F(5861),V=F(2090);class P{constructor(z,G,J){this.name=z,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const le="[DEFAULT]";class be{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const J=new V.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:G});qe&&J.resolve(qe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const J=this.normalizeInstanceIdentifier(z?.identifier),qe=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Fe){if(qe)return null;throw Fe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ze(Ue){return"EAGER"===Ue.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[G,J]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(G);try{const Fe=this.getOrInitializeService({instanceIdentifier:qe});J.resolve(Fe)}catch{}}}}clearInstance(z=le){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,o.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=le){return this.instances.has(z)}getOptions(z=le){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,J=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Fe,tt]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Fe)&&tt.resolve(qe);return qe}onInit(z,G){var J;const qe=this.normalizeInstanceIdentifier(G),Fe=null!==(J=this.onInitCallbacks.get(qe))&&void 0!==J?J:new Set;Fe.add(z),this.onInitCallbacks.set(qe,Fe);const tt=this.instances.get(qe);return tt&&z(tt,qe),()=>{Fe.delete(z)}}invokeOnInitCallbacks(z,G){const J=this.onInitCallbacks.get(G);if(J)for(const qe of J)try{qe(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let J=this.instances.get(z);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=z,Ue===le?void 0:Ue),options:G}),this.instances.set(z,J),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(J,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,J)}catch{}var Ue;return J||null}normalizeInstanceIdentifier(z=le){return this.component?this.component.multipleInstances?z:le:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new be(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ne,F)=>{F.d(Ne,{Am:()=>Ue,Ub:()=>Ce,Yd:()=>ze,in:()=>V});const o=[];var V=(()=>{return(z=V||(V={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",V;var z})();const P={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},le=V.INFO,be={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},he=(z,G,...J)=>{if(G<z.logLevel)return;const qe=(new Date).toISOString(),Fe=be[G];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Fe](`[${qe}]  ${z.name}:`,...J)};class ze{constructor(G){this.name=G,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in V))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...G),this._logHandler(this,V.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...G),this._logHandler(this,V.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,V.INFO,...G),this._logHandler(this,V.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,V.WARN,...G),this._logHandler(this,V.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...G),this._logHandler(this,V.ERROR,...G)}}function Ce(z){o.forEach(G=>{G.setLogLevel(z)})}function Ue(z,G){for(const J of o){let qe=null;G&&G.level&&(qe=P[G.level]),J.userLogHandler=null===z?null:(Fe,tt,...dt)=>{const ie=dt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");tt>=(qe??Fe.logLevel)&&z({level:V[tt].toLowerCase(),message:ie,args:dt,type:Fe.name})}}}},9260:(vt,Ne,F)=>{F.d(Ne,{Z:()=>o.Z});var o=F(3942);o.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(vt,Ne,F)=>{F.r(Ne);var o=F(5861),V=F(3942),P=F(2722),le=F(2090),ze=(F(9681),F(1877),F(4859));function Ce(){return window}function G(){return(G=(0,o.Z)(function*(U,M,L){var se;const{BuildInfo:Ae}=Ce();(0,P.ap)(M.sessionId,"AuthEvent did not contain a session ID");const _t=yield Me(M.sessionId),Je={};return(0,P.aq)()?Je.ibi=Ae.packageName:(0,P.ar)()?Je.apn=Ae.packageName:(0,P.as)(U,"operation-not-supported-in-this-environment"),Ae.displayName&&(Je.appDisplayName=Ae.displayName),Je.sessionId=_t,(0,P.at)(U,L,M.type,void 0,null!==(se=M.eventId)&&void 0!==se?se:void 0,Je)})).apply(this,arguments)}function qe(){return(qe=(0,o.Z)(function*(U){const{BuildInfo:M}=Ce(),L={};(0,P.aq)()?L.iosBundleId=M.packageName:(0,P.ar)()?L.androidPackageName=M.packageName:(0,P.as)(U,"operation-not-supported-in-this-environment"),yield(0,P.au)(U,L)})).apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(U,M,L){const{cordova:se}=Ce();let Ae=()=>{};try{yield new Promise((_t,Je)=>{let Ut=null;function Et(){var Bt;_t();const jr=null===(Bt=se.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof jr&&jr(),"function"==typeof L?.close&&L.close()}function Mn(){Ut||(Ut=window.setTimeout(()=>{Je((0,P.aw)(U,"redirect-cancelled-by-user"))},2e3))}function Er(){"visible"===document?.visibilityState&&Mn()}M.addPassiveListener(Et),document.addEventListener("resume",Mn,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",Er,!1),Ae=()=>{M.removePassiveListener(Et),document.removeEventListener("resume",Mn,!1),document.removeEventListener("visibilitychange",Er,!1),Ut&&window.clearTimeout(Ut)}})}finally{Ae()}})).apply(this,arguments)}function Me(U){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,o.Z)(function*(U){const M=Pe(U),L=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(L)).map(Ae=>Ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pe(U){if((0,P.ap)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const M=new ArrayBuffer(U.length),L=new Uint8Array(M);for(let se=0;se<U.length;se++)L[se]=U.charCodeAt(se);return L}class ve extends P.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.Z)(function*(){yield M.initPromise})()}}function X(U){return ne.apply(this,arguments)}function ne(){return(ne=(0,o.Z)(function*(U){const M=yield Le()._get(Rt(U));return M&&(yield Le()._remove(Rt(U))),M})).apply(this,arguments)}function Ye(){const U=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const se=Math.floor(Math.random()*M.length);U.push(M.charAt(se))}return U.join("")}function Le(){return(0,P.az)(P.b)}function Rt(U){return(0,P.aA)("authEvent",U.config.apiKey,U.name)}function de(U){if(!U?.includes("?"))return{};const[M,...L]=U.split("?");return(0,le.zd)(L.join("?"))}const Be=class Ie{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(M){var L=this;return(0,o.Z)(function*(){const se=M._key();let Ae=L.eventManagers.get(se);return Ae||(Ae=new ve(M),L.eventManagers.set(se,Ae),L.attachCallbackListeners(M,Ae)),Ae})()}_openPopup(M){(0,P.as)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,L,se,Ae){var _t=this;return(0,o.Z)(function*(){!function ie(U){var M,L,se,Ae,_t,Je,Ut,Et,Mn,Er;const Bt=Ce();(0,P.ax)("function"==typeof(null===(M=Bt?.universalLinks)||void 0===M?void 0:M.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(L=Bt?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(_t=null===(Ae=null===(se=Bt?.cordova)||void 0===se?void 0:se.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===_t?void 0:_t.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Et=null===(Ut=null===(Je=Bt?.cordova)||void 0===Je?void 0:Je.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===Et?void 0:Et.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Er=null===(Mn=Bt?.cordova)||void 0===Mn?void 0:Mn.InAppBrowser)||void 0===Er?void 0:Er.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Je=yield _t._initialize(M);yield Je.initialized(),Je.resetRedirect(),(0,P.aD)(),yield _t._originValidation(M);const Ut=function Te(U,M,L=null){return{type:M,eventId:L,urlResponse:null,sessionId:Ye(),postBody:null,tenantId:U.tenantId,error:(0,P.aw)(U,"no-auth-event")}}(M,se,Ae);yield function $e(U,M){return Le()._set(Rt(U),M)}(M,Ut);const Et=yield function z(U,M,L){return G.apply(this,arguments)}(M,Ut,L),Mn=yield function Fe(U){const{cordova:M}=Ce();return new Promise(L=>{M.plugins.browsertab.isAvailable(se=>{let Ae=null;se?M.plugins.browsertab.openUrl(U):Ae=M.InAppBrowser.open(U,(0,P.av)()?"_blank":"_system","location=yes"),L(Ae)})})}(Et);return function tt(U,M,L){return dt.apply(this,arguments)}(M,Je,Mn)})()}_isIframeWebStorageSupported(M,L){throw new Error("Method not implemented.")}_originValidation(M){const L=M._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function J(U){return qe.apply(this,arguments)}(M)),this.originValidationPromises[L]}attachCallbackListeners(M,L){const{universalLinks:se,handleOpenURL:Ae,BuildInfo:_t}=Ce(),Je=setTimeout((0,o.Z)(function*(){yield X(M),L.onEvent(Ve())}),500),Ut=function(){var Er=(0,o.Z)(function*(Bt){clearTimeout(Je);const jr=yield X(M);let Bu=null;jr&&Bt?.url&&(Bu=function ye(U,M){var L,se;const Ae=function oe(U){const M=de(U),L=M.link?decodeURIComponent(M.link):void 0,se=de(L).link,Ae=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return de(Ae).link||Ae||se||L||U}(M);if(Ae.includes("/__/auth/callback")){const _t=de(Ae),Je=_t.firebaseError?function ut(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(_t.firebaseError)):null,Ut=null===(se=null===(L=Je?.code)||void 0===L?void 0:L.split("auth/"))||void 0===se?void 0:se[1],Et=Ut?(0,P.aw)(Ut):null;return Et?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:Et,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Ae,postBody:null}}return null}(jr,Bt.url)),L.onEvent(Bu||Ve())});return function(jr){return Er.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,Ut);const Et=Ae,Mn=`${_t.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Er=(0,o.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Mn)&&Ut({url:Bt}),"function"==typeof Et)try{Et(Bt)}catch(jr){console.error(jr)}});return function(Bt){return Er.apply(this,arguments)}}()}};function Ve(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function wt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function rn(U=(0,le.z$)()){return!("file:"!==wt()&&"ionic:"!==wt()&&"capacitor:"!==wt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){try{const U=self.localStorage,M=P.aI();if(U)return U.setItem(M,"1"),U.removeItem(M),!function er(U=(0,le.z$)()){return function Xn(){return(0,le.w1)()&&11===document?.documentMode}()||function on(U=(0,le.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,le.hl)()}catch{return Mi()&&(0,le.hl)()}return!1}function Mi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xr(){return(function ot(){return"http:"===wt()||"https:"===wt()}()||(0,le.ru)()||rn())&&!function Rn(){return(0,le.b$)()||(0,le.UG)()}()&&ur()&&!Mi()}function te(){return rn()&&typeof document<"u"}function re(){return(re=(0,o.Z)(function*(){return!!te()&&new Promise(U=>{const M=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),U(!0)})})})).apply(this,arguments)}const ue={LOCAL:"local",NONE:"none",SESSION:"session"},Ke=P.ax,fn="persistence";function Pt(U){return _n.apply(this,arguments)}function _n(){return(_n=(0,o.Z)(function*(U){yield U._initializationPromise;const M=mt(),L=P.aA(fn,U.config.apiKey,U.name);M&&M.setItem(L,U._getPersistence())})).apply(this,arguments)}function mt(){var U;try{return(null===(U=function _e(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const It=P.ax;class yn{constructor(){this.browserResolver=P.az(P.k),this.cordovaResolver=P.az(Be),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(M){var L=this;return(0,o.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,L,se,Ae){var _t=this;return(0,o.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openPopup(M,L,se,Ae)})()}_openRedirect(M,L,se,Ae){var _t=this;return(0,o.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openRedirect(M,L,se,Ae)})()}_isIframeWebStorageSupported(M,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,L)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return te()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return It(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.Z)(function*(){if(M.underlyingResolver)return;const L=yield function K(){return re.apply(this,arguments)}();M.underlyingResolver=L?M.cordovaResolver:M.browserResolver})()}}function pn(U){return U.unwrap()}function cn(U){return Oi(U)}function Oi(U){const{_tokenResponse:M}=U instanceof le.ZR?U.customData:U;if(!M)return null;if(!(U instanceof le.ZR)&&"temporaryProof"in M&&"phoneNumber"in M)return P.P.credentialFromResult(U);const L=M.providerId;if(!L||L===P.o.PASSWORD)return null;let se;switch(L){case P.o.GOOGLE:se=P.Q;break;case P.o.FACEBOOK:se=P.N;break;case P.o.GITHUB:se=P.T;break;case P.o.TWITTER:se=P.W;break;default:const{oauthIdToken:Ae,oauthAccessToken:_t,oauthTokenSecret:Je,pendingToken:Ut,nonce:Et}=M;return _t||Je||Ae||Ut?Ut?L.startsWith("saml.")?P.aL._create(L,Ut):P.J._fromParams({providerId:L,signInMethod:L,pendingToken:Ut,idToken:Ae,accessToken:_t}):new P.U(L).credential({idToken:Ae,accessToken:_t,rawNonce:Et}):null}return U instanceof le.ZR?se.credentialFromError(U):se.credentialFromResult(U)}function Lt(U,M){return M.catch(L=>{throw L instanceof le.ZR&&function Un(U,M){var L;const se=null===(L=M.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new xi(U,P.an(U,M));else if(se){const Ae=Oi(M),_t=M;Ae&&(_t.credential=Ae,_t.tenantId=se.tenantId||void 0,_t.email=se.email||void 0,_t.phoneNumber=se.phoneNumber||void 0)}}(U,L),L}).then(L=>{const Ae=L.user;return{operationType:L.operationType,credential:cn(L),additionalUserInfo:P.al(L),user:wr.getOrCreate(Ae)}})}function Ji(U,M){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,o.Z)(function*(U,M){const L=yield M;return{verificationId:L.verificationId,confirm:se=>Lt(U,L.confirm(se))}})).apply(this,arguments)}class xi{constructor(M,L){this.resolver=L,this.auth=function In(U){return U.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return Lt(pn(this.auth),this.resolver.resolveSignIn(M))}}class wr{constructor(M){this._delegate=M,this.multiFactor=P.ao(M)}static getOrCreate(M){return wr.USER_MAP.has(M)||wr.USER_MAP.set(M,new wr(M)),wr.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var L=this;return(0,o.Z)(function*(){return Lt(L.auth,P.Z(L._delegate,M))})()}linkWithPhoneNumber(M,L){var se=this;return(0,o.Z)(function*(){return Ji(se.auth,P.l(se._delegate,M,L))})()}linkWithPopup(M){var L=this;return(0,o.Z)(function*(){return Lt(L.auth,P.d(L._delegate,M,yn))})()}linkWithRedirect(M){var L=this;return(0,o.Z)(function*(){return yield Pt(P.aE(L.auth)),P.g(L._delegate,M,yn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var L=this;return(0,o.Z)(function*(){return Lt(L.auth,P._(L._delegate,M))})()}reauthenticateWithPhoneNumber(M,L){return Ji(this.auth,P.r(this._delegate,M,L))}reauthenticateWithPopup(M){return Lt(this.auth,P.e(this._delegate,M,yn))}reauthenticateWithRedirect(M){var L=this;return(0,o.Z)(function*(){return yield Pt(P.aE(L.auth)),P.h(L._delegate,M,yn)})()}sendEmailVerification(M){return P.ab(this._delegate,M)}unlink(M){var L=this;return(0,o.Z)(function*(){return yield P.ak(L._delegate,M),L})()}updateEmail(M){return P.ag(this._delegate,M)}updatePassword(M){return P.ah(this._delegate,M)}updatePhoneNumber(M){return P.u(this._delegate,M)}updateProfile(M){return P.af(this._delegate,M)}verifyBeforeUpdateEmail(M,L){return P.ac(this._delegate,M,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wr.USER_MAP=new WeakMap;const We=P.ax;let we=(()=>{class U{constructor(L,se){if(this.app=L,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ae}=L.options;We(Ae,"invalid-api-key",{appName:L.name}),We(Ae,"invalid-api-key",{appName:L.name});const _t=typeof window<"u"?yn:void 0;this._delegate=se.initialize({options:{persistence:St(Ae,L.name),popupRedirectResolver:_t}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,se){P.G(this._delegate,L,se)}applyActionCode(L){return P.a2(this._delegate,L)}checkActionCode(L){return P.a3(this._delegate,L)}confirmPasswordReset(L,se){return P.a1(this._delegate,L,se)}createUserWithEmailAndPassword(L,se){var Ae=this;return(0,o.Z)(function*(){return Lt(Ae._delegate,P.a5(Ae._delegate,L,se))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return P.aa(this._delegate,L)}isSignInWithEmailLink(L){return P.a8(this._delegate,L)}getRedirectResult(){var L=this;return(0,o.Z)(function*(){We(xr(),L._delegate,"operation-not-supported-in-this-environment");const se=yield P.j(L._delegate,yn);return se?Lt(L._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function it(U,M){(0,P.aE)(U)._logFramework(M)}(this._delegate,L)}onAuthStateChanged(L,se,Ae){const{next:_t,error:Je,complete:Ut}=ct(L,se,Ae);return this._delegate.onAuthStateChanged(_t,Je,Ut)}onIdTokenChanged(L,se,Ae){const{next:_t,error:Je,complete:Ut}=ct(L,se,Ae);return this._delegate.onIdTokenChanged(_t,Je,Ut)}sendSignInLinkToEmail(L,se){return P.a7(this._delegate,L,se)}sendPasswordResetEmail(L,se){return P.a0(this._delegate,L,se||void 0)}setPersistence(L){var se=this;return(0,o.Z)(function*(){let Ae;switch(function Ft(U,M){Ke(Object.values(ue).includes(M),U,"invalid-persistence-type"),(0,le.b$)()?Ke(M!==ue.SESSION,U,"unsupported-persistence-type"):(0,le.UG)()?Ke(M===ue.NONE,U,"unsupported-persistence-type"):Mi()?Ke(M===ue.NONE||M===ue.LOCAL&&(0,le.hl)(),U,"unsupported-persistence-type"):Ke(M===ue.NONE||ur(),U,"unsupported-persistence-type")}(se._delegate,L),L){case ue.SESSION:Ae=P.a;break;case ue.LOCAL:Ae=(yield P.az(P.i)._isAvailable())?P.i:P.b;break;case ue.NONE:Ae=P.L;break;default:return P.as("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Ae)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Lt(this._delegate,P.X(this._delegate))}signInWithCredential(L){return Lt(this._delegate,P.Y(this._delegate,L))}signInWithCustomToken(L){return Lt(this._delegate,P.$(this._delegate,L))}signInWithEmailAndPassword(L,se){return Lt(this._delegate,P.a6(this._delegate,L,se))}signInWithEmailLink(L,se){return Lt(this._delegate,P.a9(this._delegate,L,se))}signInWithPhoneNumber(L,se){return Ji(this._delegate,P.s(this._delegate,L,se))}signInWithPopup(L){var se=this;return(0,o.Z)(function*(){return We(xr(),se._delegate,"operation-not-supported-in-this-environment"),Lt(se._delegate,P.c(se._delegate,L,yn))})()}signInWithRedirect(L){var se=this;return(0,o.Z)(function*(){return We(xr(),se._delegate,"operation-not-supported-in-this-environment"),yield Pt(se._delegate),P.f(se._delegate,L,yn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return P.a4(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=ue,U})();function ct(U,M,L){let se=U;"function"!=typeof U&&({next:se,error:M,complete:L}=U);const Ae=se;return{next:Je=>Ae(Je&&wr.getOrCreate(Je)),error:M,complete:L}}function St(U,M){const L=function Dt(U,M){const L=mt();if(!L)return[];const se=P.aA(fn,U,M);switch(L.getItem(se)){case ue.NONE:return[P.L];case ue.LOCAL:return[P.i,P.a];case ue.SESSION:return[P.a];default:return[]}}(U,M);if(typeof self<"u"&&!L.includes(P.i)&&L.push(P.i),typeof window<"u")for(const se of[P.b,P.a])L.includes(se)||L.push(se);return L.includes(P.L)||L.push(P.L),L}class xt{constructor(){this.providerId="phone",this._delegate=new P.P(pn(V.Z.auth()))}static credential(M,L){return P.P.credential(M,L)}verifyPhoneNumber(M,L){return this._delegate.verifyPhoneNumber(M,L)}unwrap(){return this._delegate}}xt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,xt.PROVIDER_ID=P.P.PROVIDER_ID;const Xt=P.ax;class H{constructor(M,L,se=V.Z.app()){var Ae;Xt(null===(Ae=se.options)||void 0===Ae?void 0:Ae.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new P.R(M,L,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function q(U){U.INTERNAL.registerComponent(new ze.wA("auth-compat",M=>{const L=M.getProvider("app-compat").getImmediate(),se=M.getProvider("auth");return new we(L,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:xt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:H,TwitterAuthProvider:P.W,Auth:we,AuthCredential:P.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.3.3")}(V.Z)},8766:(vt,Ne,F)=>{F.d(Ne,{Lj:()=>xe,X3:()=>Pe});var o=F(5861);let P,le;const ze=new WeakMap,Ce=new WeakMap,Ue=new WeakMap,z=new WeakMap,G=new WeakMap;let Fe={get(ne,ye,Ye){if(ne instanceof IDBTransaction){if("done"===ye)return Ce.get(ne);if("objectStoreNames"===ye)return ne.objectStoreNames||Ue.get(ne);if("store"===ye)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return Me(ne[ye])},set:(ne,ye,Ye)=>(ne[ye]=Ye,!0),has:(ne,ye)=>ne instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in ne};function ie(ne){return"function"==typeof ne?function dt(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...ye){return ne.apply(Ee(this),ye),Me(ze.get(this))}:function(...ye){return Me(ne.apply(Ee(this),ye))}:function(ye,...Ye){const Le=ne.call(Ee(this),ye,...Ye);return Ue.set(Le,ye.sort?ye.sort():[ye]),Me(Le)}}(ne):(ne instanceof IDBTransaction&&function qe(ne){if(Ce.has(ne))return;const ye=new Promise((Ye,Le)=>{const Rt=()=>{ne.removeEventListener("complete",ut),ne.removeEventListener("error",oe),ne.removeEventListener("abort",oe)},ut=()=>{Ye(),Rt()},oe=()=>{Le(ne.error||new DOMException("AbortError","AbortError")),Rt()};ne.addEventListener("complete",ut),ne.addEventListener("error",oe),ne.addEventListener("abort",oe)});Ce.set(ne,ye)}(ne),((ne,ye)=>ye.some(Ye=>ne instanceof Ye))(ne,function be(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Fe):ne)}function Me(ne){if(ne instanceof IDBRequest)return function J(ne){const ye=new Promise((Ye,Le)=>{const Rt=()=>{ne.removeEventListener("success",ut),ne.removeEventListener("error",oe)},ut=()=>{Ye(Me(ne.result)),Rt()},oe=()=>{Le(ne.error),Rt()};ne.addEventListener("success",ut),ne.addEventListener("error",oe)});return ye.then(Ye=>{Ye instanceof IDBCursor&&ze.set(Ye,ne)}).catch(()=>{}),G.set(ye,ne),ye}(ne);if(z.has(ne))return z.get(ne);const ye=ie(ne);return ye!==ne&&(z.set(ne,ye),G.set(ye,ne)),ye}const Ee=ne=>G.get(ne);function Pe(ne,ye,{blocked:Ye,upgrade:Le,blocking:Rt,terminated:ut}={}){const oe=indexedDB.open(ne,ye),de=Me(oe);return Le&&oe.addEventListener("upgradeneeded",pe=>{Le(Me(oe.result),pe.oldVersion,pe.newVersion,Me(oe.transaction))}),Ye&&oe.addEventListener("blocked",()=>Ye()),de.then(pe=>{ut&&pe.addEventListener("close",()=>ut()),Rt&&pe.addEventListener("versionchange",()=>Rt())}).catch(()=>{}),de}function xe(ne,{blocked:ye}={}){const Ye=indexedDB.deleteDatabase(ne);return ye&&Ye.addEventListener("blocked",()=>ye()),Me(Ye).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],$e=new Map;function X(ne,ye){if(!(ne instanceof IDBDatabase)||ye in ne||"string"!=typeof ye)return;if($e.get(ye))return $e.get(ye);const Ye=ye.replace(/FromIndex$/,""),Le=ye!==Ye,Rt=Te.includes(Ye);if(!(Ye in(Le?IDBIndex:IDBObjectStore).prototype)||!Rt&&!ve.includes(Ye))return;const ut=function(){var oe=(0,o.Z)(function*(de,...pe){const Ie=this.transaction(de,Rt?"readwrite":"readonly");let Be=Ie.store;return Le&&(Be=Be.index(pe.shift())),(yield Promise.all([Be[Ye](...pe),Rt&&Ie.done]))[0]});return function(pe){return oe.apply(this,arguments)}}();return $e.set(ye,ut),ut}!function tt(ne){Fe=ne(Fe)}(ne=>({...ne,get:(ye,Ye,Le)=>X(ye,Ye)||ne.get(ye,Ye,Le),has:(ye,Ye)=>!!X(ye,Ye)||ne.has(ye,Ye)}))},5861:(vt,Ne,F)=>{function o(P,le,be,he,ze,Ce,Ue){try{var z=P[Ce](Ue),G=z.value}catch(J){return void be(J)}z.done?le(G):Promise.resolve(G).then(he,ze)}function V(P){return function(){var le=this,be=arguments;return new Promise(function(he,ze){var Ce=P.apply(le,be);function Ue(G){o(Ce,he,ze,Ue,z,"next",G)}function z(G){o(Ce,he,ze,Ue,z,"throw",G)}Ue(void 0)})}}F.d(Ne,{Z:()=>V})}},vt=>{var Ne=o=>vt(vt.s=o);Ne(1321),Ne(4607)}]);