<div class="loaderwindow" *ngIf="loader">
    <img class="load" src="assets\loader.svg" alt="">
  </div>
  


<div class="container-fluid" *ngIf="!loader">
    <div class="friends-list">
        <div class="heading">Chats</div>
        <div class="friend" *ngFor="let friend of user | async let index=index;" [attr.data-index]="index" (click)="onContactClick(friend)">
            <div class="image">
                <img class="ok" src="assets/pfp/pvz.jpeg" alt="">
            </div>
            <div class="wrapper">
                <p class="name">{{friend.f_name}}</p>
                <p class="last-message">Hello</p>
            </div>
        </div>    
    </div>
    
    <div class="chat-window">
        <div class="user-info">
            <div class="image">
                <img src="assets/pfp/pvz.jpeg" alt="">
            </div>
            <div class="name">
                <h4 class="currentUserFname">{{ currentUserFname }}</h4>
                <p class="currentUserUname">{{ currentUserUname }}</p>
            </div>
        </div>

        <div class="message-window">
            <div *ngFor="let message of posts | async">
                <div *ngIf="message.email==currentuser" class="friend-message">
                    <strong>{{ message.message }}</strong>
                    <p>{{ message.time }}</p>
                </div>
                <div *ngIf="message.email==em" class="user-message">
                    <strong>{{ message.message }}</strong>
                    <p>{{ message.time }}</p>
                </div>
            </div>
        </div>
        <div class="input">
            <input type="text" class="chatInput"  name="title" [(ngModel)]="msg">
            <button class="btn btn-primary"  value="add a post" (click)="send()">Send</button>
        </div>
    </div>
</div>